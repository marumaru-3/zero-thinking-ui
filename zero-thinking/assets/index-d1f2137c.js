(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))s(i);new MutationObserver(i=>{for(const r of i)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const r={};return i.integrity&&(r.integrity=i.integrity),i.referrerPolicy&&(r.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?r.credentials="include":i.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function s(i){if(i.ep)return;i.ep=!0;const r=n(i);fetch(i.href,r)}})();function Gc(t,e){const n=Object.create(null),s=t.split(",");for(let i=0;i<s.length;i++)n[s[i]]=!0;return e?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const xe={},Us=[],Lt=()=>{},Wy=()=>!1,Yy=/^on[^a-z]/,ga=t=>Yy.test(t),Kc=t=>t.startsWith("onUpdate:"),He=Object.assign,Wc=(t,e)=>{const n=t.indexOf(e);n>-1&&t.splice(n,1)},Qy=Object.prototype.hasOwnProperty,pe=(t,e)=>Qy.call(t,e),te=Array.isArray,Bs=t=>Mr(t)==="[object Map]",yi=t=>Mr(t)==="[object Set]",Fd=t=>Mr(t)==="[object Date]",ce=t=>typeof t=="function",Be=t=>typeof t=="string",or=t=>typeof t=="symbol",Ae=t=>t!==null&&typeof t=="object",fp=t=>Ae(t)&&ce(t.then)&&ce(t.catch),pp=Object.prototype.toString,Mr=t=>pp.call(t),Xy=t=>Mr(t).slice(8,-1),gp=t=>Mr(t)==="[object Object]",Yc=t=>Be(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,To=Gc(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),ma=t=>{const e=Object.create(null);return n=>e[n]||(e[n]=t(n))},Jy=/-(\w)/g,tn=ma(t=>t.replace(Jy,(e,n)=>n?n.toUpperCase():"")),Zy=/\B([A-Z])/g,As=ma(t=>t.replace(Zy,"-$1").toLowerCase()),va=ma(t=>t.charAt(0).toUpperCase()+t.slice(1)),ul=ma(t=>t?`on${va(t)}`:""),ar=(t,e)=>!Object.is(t,e),So=(t,e)=>{for(let n=0;n<t.length;n++)t[n](e)},Fo=(t,e,n)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,value:n})},$o=t=>{const e=parseFloat(t);return isNaN(e)?t:e};let $d;const Kl=()=>$d||($d=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function cs(t){if(te(t)){const e={};for(let n=0;n<t.length;n++){const s=t[n],i=Be(s)?sw(s):cs(s);if(i)for(const r in i)e[r]=i[r]}return e}else{if(Be(t))return t;if(Ae(t))return t}}const ew=/;(?![^(]*\))/g,tw=/:([^]+)/,nw=/\/\*[^]*?\*\//g;function sw(t){const e={};return t.replace(nw,"").split(ew).forEach(n=>{if(n){const s=n.split(tw);s.length>1&&(e[s[0].trim()]=s[1].trim())}}),e}function Ln(t){let e="";if(Be(t))e=t;else if(te(t))for(let n=0;n<t.length;n++){const s=Ln(t[n]);s&&(e+=s+" ")}else if(Ae(t))for(const n in t)t[n]&&(e+=n+" ");return e.trim()}const iw="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",rw=Gc(iw);function mp(t){return!!t||t===""}function ow(t,e){if(t.length!==e.length)return!1;let n=!0;for(let s=0;n&&s<t.length;s++)n=gs(t[s],e[s]);return n}function gs(t,e){if(t===e)return!0;let n=Fd(t),s=Fd(e);if(n||s)return n&&s?t.getTime()===e.getTime():!1;if(n=or(t),s=or(e),n||s)return t===e;if(n=te(t),s=te(e),n||s)return n&&s?ow(t,e):!1;if(n=Ae(t),s=Ae(e),n||s){if(!n||!s)return!1;const i=Object.keys(t).length,r=Object.keys(e).length;if(i!==r)return!1;for(const o in t){const l=t.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!gs(t[o],e[o]))return!1}}return String(t)===String(e)}function Qc(t,e){return t.findIndex(n=>gs(n,e))}const yt=t=>Be(t)?t:t==null?"":te(t)||Ae(t)&&(t.toString===pp||!ce(t.toString))?JSON.stringify(t,vp,2):String(t),vp=(t,e)=>e&&e.__v_isRef?vp(t,e.value):Bs(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((n,[s,i])=>(n[`${s} =>`]=i,n),{})}:yi(e)?{[`Set(${e.size})`]:[...e.values()]}:Ae(e)&&!te(e)&&!gp(e)?String(e):e;let Rt;class aw{constructor(e=!1){this.detached=e,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Rt,!e&&Rt&&(this.index=(Rt.scopes||(Rt.scopes=[])).push(this)-1)}get active(){return this._active}run(e){if(this._active){const n=Rt;try{return Rt=this,e()}finally{Rt=n}}}on(){Rt=this}off(){Rt=this.parent}stop(e){if(this._active){let n,s;for(n=0,s=this.effects.length;n<s;n++)this.effects[n].stop();for(n=0,s=this.cleanups.length;n<s;n++)this.cleanups[n]();if(this.scopes)for(n=0,s=this.scopes.length;n<s;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function lw(t,e=Rt){e&&e.active&&e.effects.push(t)}function cw(){return Rt}const Xc=t=>{const e=new Set(t);return e.w=0,e.n=0,e},yp=t=>(t.w&qn)>0,wp=t=>(t.n&qn)>0,uw=({deps:t})=>{if(t.length)for(let e=0;e<t.length;e++)t[e].w|=qn},dw=t=>{const{deps:e}=t;if(e.length){let n=0;for(let s=0;s<e.length;s++){const i=e[s];yp(i)&&!wp(i)?i.delete(t):e[n++]=i,i.w&=~qn,i.n&=~qn}e.length=n}},Wl=new WeakMap;let Bi=0,qn=1;const Yl=30;let Ot;const us=Symbol(""),Ql=Symbol("");class Jc{constructor(e,n=null,s){this.fn=e,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,lw(this,s)}run(){if(!this.active)return this.fn();let e=Ot,n=Fn;for(;e;){if(e===this)return;e=e.parent}try{return this.parent=Ot,Ot=this,Fn=!0,qn=1<<++Bi,Bi<=Yl?uw(this):Vd(this),this.fn()}finally{Bi<=Yl&&dw(this),qn=1<<--Bi,Ot=this.parent,Fn=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ot===this?this.deferStop=!0:this.active&&(Vd(this),this.onStop&&this.onStop(),this.active=!1)}}function Vd(t){const{deps:e}=t;if(e.length){for(let n=0;n<e.length;n++)e[n].delete(t);e.length=0}}let Fn=!0;const _p=[];function wi(){_p.push(Fn),Fn=!1}function _i(){const t=_p.pop();Fn=t===void 0?!0:t}function _t(t,e,n){if(Fn&&Ot){let s=Wl.get(t);s||Wl.set(t,s=new Map);let i=s.get(n);i||s.set(n,i=Xc()),Ep(i)}}function Ep(t,e){let n=!1;Bi<=Yl?wp(t)||(t.n|=qn,n=!yp(t)):n=!t.has(Ot),n&&(t.add(Ot),Ot.deps.push(t))}function hn(t,e,n,s,i,r){const o=Wl.get(t);if(!o)return;let l=[];if(e==="clear")l=[...o.values()];else if(n==="length"&&te(t)){const a=Number(s);o.forEach((c,u)=>{(u==="length"||u>=a)&&l.push(c)})}else switch(n!==void 0&&l.push(o.get(n)),e){case"add":te(t)?Yc(n)&&l.push(o.get("length")):(l.push(o.get(us)),Bs(t)&&l.push(o.get(Ql)));break;case"delete":te(t)||(l.push(o.get(us)),Bs(t)&&l.push(o.get(Ql)));break;case"set":Bs(t)&&l.push(o.get(us));break}if(l.length===1)l[0]&&Xl(l[0]);else{const a=[];for(const c of l)c&&a.push(...c);Xl(Xc(a))}}function Xl(t,e){const n=te(t)?t:[...t];for(const s of n)s.computed&&Ud(s);for(const s of n)s.computed||Ud(s)}function Ud(t,e){(t!==Ot||t.allowRecurse)&&(t.scheduler?t.scheduler():t.run())}const hw=Gc("__proto__,__v_isRef,__isVue"),Tp=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(or)),fw=Zc(),pw=Zc(!1,!0),gw=Zc(!0),Bd=mw();function mw(){const t={};return["includes","indexOf","lastIndexOf"].forEach(e=>{t[e]=function(...n){const s=we(this);for(let r=0,o=this.length;r<o;r++)_t(s,"get",r+"");const i=s[e](...n);return i===-1||i===!1?s[e](...n.map(we)):i}}),["push","pop","shift","unshift","splice"].forEach(e=>{t[e]=function(...n){wi();const s=we(this)[e].apply(this,n);return _i(),s}}),t}function vw(t){const e=we(this);return _t(e,"has",t),e.hasOwnProperty(t)}function Zc(t=!1,e=!1){return function(s,i,r){if(i==="__v_isReactive")return!t;if(i==="__v_isReadonly")return t;if(i==="__v_isShallow")return e;if(i==="__v_raw"&&r===(t?e?Mw:Ap:e?Cp:Ip).get(s))return s;const o=te(s);if(!t){if(o&&pe(Bd,i))return Reflect.get(Bd,i,r);if(i==="hasOwnProperty")return vw}const l=Reflect.get(s,i,r);return(or(i)?Tp.has(i):hw(i))||(t||_t(s,"get",i),e)?l:ot(l)?o&&Yc(i)?l:l.value:Ae(l)?t?xp(l):Nr(l):l}}const yw=Sp(),ww=Sp(!0);function Sp(t=!1){return function(n,s,i,r){let o=n[s];if(ei(o)&&ot(o)&&!ot(i))return!1;if(!t&&(!Vo(i)&&!ei(i)&&(o=we(o),i=we(i)),!te(n)&&ot(o)&&!ot(i)))return o.value=i,!0;const l=te(n)&&Yc(s)?Number(s)<n.length:pe(n,s),a=Reflect.set(n,s,i,r);return n===we(r)&&(l?ar(i,o)&&hn(n,"set",s,i):hn(n,"add",s,i)),a}}function _w(t,e){const n=pe(t,e);t[e];const s=Reflect.deleteProperty(t,e);return s&&n&&hn(t,"delete",e,void 0),s}function Ew(t,e){const n=Reflect.has(t,e);return(!or(e)||!Tp.has(e))&&_t(t,"has",e),n}function Tw(t){return _t(t,"iterate",te(t)?"length":us),Reflect.ownKeys(t)}const bp={get:fw,set:yw,deleteProperty:_w,has:Ew,ownKeys:Tw},Sw={get:gw,set(t,e){return!0},deleteProperty(t,e){return!0}},bw=He({},bp,{get:pw,set:ww}),eu=t=>t,ya=t=>Reflect.getPrototypeOf(t);function no(t,e,n=!1,s=!1){t=t.__v_raw;const i=we(t),r=we(e);n||(e!==r&&_t(i,"get",e),_t(i,"get",r));const{has:o}=ya(i),l=s?eu:n?su:lr;if(o.call(i,e))return l(t.get(e));if(o.call(i,r))return l(t.get(r));t!==i&&t.get(e)}function so(t,e=!1){const n=this.__v_raw,s=we(n),i=we(t);return e||(t!==i&&_t(s,"has",t),_t(s,"has",i)),t===i?n.has(t):n.has(t)||n.has(i)}function io(t,e=!1){return t=t.__v_raw,!e&&_t(we(t),"iterate",us),Reflect.get(t,"size",t)}function zd(t){t=we(t);const e=we(this);return ya(e).has.call(e,t)||(e.add(t),hn(e,"add",t,t)),this}function jd(t,e){e=we(e);const n=we(this),{has:s,get:i}=ya(n);let r=s.call(n,t);r||(t=we(t),r=s.call(n,t));const o=i.call(n,t);return n.set(t,e),r?ar(e,o)&&hn(n,"set",t,e):hn(n,"add",t,e),this}function Hd(t){const e=we(this),{has:n,get:s}=ya(e);let i=n.call(e,t);i||(t=we(t),i=n.call(e,t)),s&&s.call(e,t);const r=e.delete(t);return i&&hn(e,"delete",t,void 0),r}function qd(){const t=we(this),e=t.size!==0,n=t.clear();return e&&hn(t,"clear",void 0,void 0),n}function ro(t,e){return function(s,i){const r=this,o=r.__v_raw,l=we(o),a=e?eu:t?su:lr;return!t&&_t(l,"iterate",us),o.forEach((c,u)=>s.call(i,a(c),a(u),r))}}function oo(t,e,n){return function(...s){const i=this.__v_raw,r=we(i),o=Bs(r),l=t==="entries"||t===Symbol.iterator&&o,a=t==="keys"&&o,c=i[t](...s),u=n?eu:e?su:lr;return!e&&_t(r,"iterate",a?Ql:us),{next(){const{value:d,done:h}=c.next();return h?{value:d,done:h}:{value:l?[u(d[0]),u(d[1])]:u(d),done:h}},[Symbol.iterator](){return this}}}}function Tn(t){return function(...e){return t==="delete"?!1:this}}function Iw(){const t={get(r){return no(this,r)},get size(){return io(this)},has:so,add:zd,set:jd,delete:Hd,clear:qd,forEach:ro(!1,!1)},e={get(r){return no(this,r,!1,!0)},get size(){return io(this)},has:so,add:zd,set:jd,delete:Hd,clear:qd,forEach:ro(!1,!0)},n={get(r){return no(this,r,!0)},get size(){return io(this,!0)},has(r){return so.call(this,r,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:ro(!0,!1)},s={get(r){return no(this,r,!0,!0)},get size(){return io(this,!0)},has(r){return so.call(this,r,!0)},add:Tn("add"),set:Tn("set"),delete:Tn("delete"),clear:Tn("clear"),forEach:ro(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(r=>{t[r]=oo(r,!1,!1),n[r]=oo(r,!0,!1),e[r]=oo(r,!1,!0),s[r]=oo(r,!0,!0)}),[t,n,e,s]}const[Cw,Aw,xw,Pw]=Iw();function tu(t,e){const n=e?t?Pw:xw:t?Aw:Cw;return(s,i,r)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?s:Reflect.get(pe(n,i)&&i in s?n:s,i,r)}const kw={get:tu(!1,!1)},Rw={get:tu(!1,!0)},Ow={get:tu(!0,!1)},Ip=new WeakMap,Cp=new WeakMap,Ap=new WeakMap,Mw=new WeakMap;function Nw(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Dw(t){return t.__v_skip||!Object.isExtensible(t)?0:Nw(Xy(t))}function Nr(t){return ei(t)?t:nu(t,!1,bp,kw,Ip)}function Lw(t){return nu(t,!1,bw,Rw,Cp)}function xp(t){return nu(t,!0,Sw,Ow,Ap)}function nu(t,e,n,s,i){if(!Ae(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const r=i.get(t);if(r)return r;const o=Dw(t);if(o===0)return t;const l=new Proxy(t,o===2?s:n);return i.set(t,l),l}function zs(t){return ei(t)?zs(t.__v_raw):!!(t&&t.__v_isReactive)}function ei(t){return!!(t&&t.__v_isReadonly)}function Vo(t){return!!(t&&t.__v_isShallow)}function Pp(t){return zs(t)||ei(t)}function we(t){const e=t&&t.__v_raw;return e?we(e):t}function kp(t){return Fo(t,"__v_skip",!0),t}const lr=t=>Ae(t)?Nr(t):t,su=t=>Ae(t)?xp(t):t;function Rp(t){Fn&&Ot&&(t=we(t),Ep(t.dep||(t.dep=Xc())))}function Op(t,e){t=we(t);const n=t.dep;n&&Xl(n)}function ot(t){return!!(t&&t.__v_isRef===!0)}function Z(t){return Mp(t,!1)}function Fw(t){return Mp(t,!0)}function Mp(t,e){return ot(t)?t:new $w(t,e)}class $w{constructor(e,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?e:we(e),this._value=n?e:lr(e)}get value(){return Rp(this),this._value}set value(e){const n=this.__v_isShallow||Vo(e)||ei(e);e=n?e:we(e),ar(e,this._rawValue)&&(this._rawValue=e,this._value=n?e:lr(e),Op(this))}}function Ye(t){return ot(t)?t.value:t}const Vw={get:(t,e,n)=>Ye(Reflect.get(t,e,n)),set:(t,e,n,s)=>{const i=t[e];return ot(i)&&!ot(n)?(i.value=n,!0):Reflect.set(t,e,n,s)}};function Np(t){return zs(t)?t:new Proxy(t,Vw)}class Uw{constructor(e,n,s,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Jc(e,()=>{this._dirty||(this._dirty=!0,Op(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=s}get value(){const e=we(this);return Rp(e),(e._dirty||!e._cacheable)&&(e._dirty=!1,e._value=e.effect.run()),e._value}set value(e){this._setter(e)}}function Bw(t,e,n=!1){let s,i;const r=ce(t);return r?(s=t,i=Lt):(s=t.get,i=t.set),new Uw(s,i,r||!i,n)}function $n(t,e,n,s){let i;try{i=s?t(...s):t()}catch(r){wa(r,e,n)}return i}function Ft(t,e,n,s){if(ce(t)){const r=$n(t,e,n,s);return r&&fp(r)&&r.catch(o=>{wa(o,e,n)}),r}const i=[];for(let r=0;r<t.length;r++)i.push(Ft(t[r],e,n,s));return i}function wa(t,e,n,s=!0){const i=e?e.vnode:null;if(e){let r=e.parent;const o=e.proxy,l=n;for(;r;){const c=r.ec;if(c){for(let u=0;u<c.length;u++)if(c[u](t,o,l)===!1)return}r=r.parent}const a=e.appContext.config.errorHandler;if(a){$n(a,null,10,[t,o,l]);return}}zw(t,n,i,s)}function zw(t,e,n,s=!0){console.error(t)}let cr=!1,Jl=!1;const st=[];let qt=0;const js=[];let an=null,ss=0;const Dp=Promise.resolve();let iu=null;function Hs(t){const e=iu||Dp;return t?e.then(this?t.bind(this):t):e}function jw(t){let e=qt+1,n=st.length;for(;e<n;){const s=e+n>>>1;ur(st[s])<t?e=s+1:n=s}return e}function ru(t){(!st.length||!st.includes(t,cr&&t.allowRecurse?qt+1:qt))&&(t.id==null?st.push(t):st.splice(jw(t.id),0,t),Lp())}function Lp(){!cr&&!Jl&&(Jl=!0,iu=Dp.then($p))}function Hw(t){const e=st.indexOf(t);e>qt&&st.splice(e,1)}function qw(t){te(t)?js.push(...t):(!an||!an.includes(t,t.allowRecurse?ss+1:ss))&&js.push(t),Lp()}function Gd(t,e=cr?qt+1:0){for(;e<st.length;e++){const n=st[e];n&&n.pre&&(st.splice(e,1),e--,n())}}function Fp(t){if(js.length){const e=[...new Set(js)];if(js.length=0,an){an.push(...e);return}for(an=e,an.sort((n,s)=>ur(n)-ur(s)),ss=0;ss<an.length;ss++)an[ss]();an=null,ss=0}}const ur=t=>t.id==null?1/0:t.id,Gw=(t,e)=>{const n=ur(t)-ur(e);if(n===0){if(t.pre&&!e.pre)return-1;if(e.pre&&!t.pre)return 1}return n};function $p(t){Jl=!1,cr=!0,st.sort(Gw);const e=Lt;try{for(qt=0;qt<st.length;qt++){const n=st[qt];n&&n.active!==!1&&$n(n,null,14)}}finally{qt=0,st.length=0,Fp(),cr=!1,iu=null,(st.length||js.length)&&$p()}}function Kw(t,e,...n){if(t.isUnmounted)return;const s=t.vnode.props||xe;let i=n;const r=e.startsWith("update:"),o=r&&e.slice(7);if(o&&o in s){const u=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:h}=s[u]||xe;h&&(i=n.map(f=>Be(f)?f.trim():f)),d&&(i=n.map($o))}let l,a=s[l=ul(e)]||s[l=ul(tn(e))];!a&&r&&(a=s[l=ul(As(e))]),a&&Ft(a,t,6,i);const c=s[l+"Once"];if(c){if(!t.emitted)t.emitted={};else if(t.emitted[l])return;t.emitted[l]=!0,Ft(c,t,6,i)}}function Vp(t,e,n=!1){const s=e.emitsCache,i=s.get(t);if(i!==void 0)return i;const r=t.emits;let o={},l=!1;if(!ce(t)){const a=c=>{const u=Vp(c,e,!0);u&&(l=!0,He(o,u))};!n&&e.mixins.length&&e.mixins.forEach(a),t.extends&&a(t.extends),t.mixins&&t.mixins.forEach(a)}return!r&&!l?(Ae(t)&&s.set(t,null),null):(te(r)?r.forEach(a=>o[a]=null):He(o,r),Ae(t)&&s.set(t,o),o)}function _a(t,e){return!t||!ga(e)?!1:(e=e.slice(2).replace(/Once$/,""),pe(t,e[0].toLowerCase()+e.slice(1))||pe(t,As(e))||pe(t,e))}let Pt=null,Ea=null;function Uo(t){const e=Pt;return Pt=t,Ea=t&&t.type.__scopeId||null,e}function Ta(t){Ea=t}function Sa(){Ea=null}function Mt(t,e=Pt,n){if(!e||t._n)return t;const s=(...i)=>{s._d&&sh(-1);const r=Uo(e);let o;try{o=t(...i)}finally{Uo(r),s._d&&sh(1)}return o};return s._n=!0,s._c=!0,s._d=!0,s}function dl(t){const{type:e,vnode:n,proxy:s,withProxy:i,props:r,propsOptions:[o],slots:l,attrs:a,emit:c,render:u,renderCache:d,data:h,setupState:f,ctx:p,inheritAttrs:m}=t;let w,y;const E=Uo(t);try{if(n.shapeFlag&4){const b=i||s;w=Ht(u.call(b,b,d,r,f,h,p)),y=a}else{const b=e;w=Ht(b.length>1?b(r,{attrs:a,slots:l,emit:c}):b(r,null)),y=e.props?a:Ww(a)}}catch(b){Ji.length=0,wa(b,t,1),w=Oe(ms)}let T=w;if(y&&m!==!1){const b=Object.keys(y),{shapeFlag:N}=T;b.length&&N&7&&(o&&b.some(Kc)&&(y=Yw(y,o)),T=ni(T,y))}return n.dirs&&(T=ni(T),T.dirs=T.dirs?T.dirs.concat(n.dirs):n.dirs),n.transition&&(T.transition=n.transition),w=T,Uo(E),w}const Ww=t=>{let e;for(const n in t)(n==="class"||n==="style"||ga(n))&&((e||(e={}))[n]=t[n]);return e},Yw=(t,e)=>{const n={};for(const s in t)(!Kc(s)||!(s.slice(9)in e))&&(n[s]=t[s]);return n};function Qw(t,e,n){const{props:s,children:i,component:r}=t,{props:o,children:l,patchFlag:a}=e,c=r.emitsOptions;if(e.dirs||e.transition)return!0;if(n&&a>=0){if(a&1024)return!0;if(a&16)return s?Kd(s,o,c):!!o;if(a&8){const u=e.dynamicProps;for(let d=0;d<u.length;d++){const h=u[d];if(o[h]!==s[h]&&!_a(c,h))return!0}}}else return(i||l)&&(!l||!l.$stable)?!0:s===o?!1:s?o?Kd(s,o,c):!0:!!o;return!1}function Kd(t,e,n){const s=Object.keys(e);if(s.length!==Object.keys(t).length)return!0;for(let i=0;i<s.length;i++){const r=s[i];if(e[r]!==t[r]&&!_a(n,r))return!0}return!1}function Xw({vnode:t,parent:e},n){for(;e&&e.subTree===t;)(t=e.vnode).el=n,e=e.parent}const Jw=t=>t.__isSuspense;function Zw(t,e){e&&e.pendingBranch?te(t)?e.effects.push(...t):e.effects.push(t):qw(t)}const ao={};function ds(t,e,n){return Up(t,e,n)}function Up(t,e,{immediate:n,deep:s,flush:i,onTrack:r,onTrigger:o}=xe){var l;const a=cw()===((l=Xe)==null?void 0:l.scope)?Xe:null;let c,u=!1,d=!1;if(ot(t)?(c=()=>t.value,u=Vo(t)):zs(t)?(c=()=>t,s=!0):te(t)?(d=!0,u=t.some(b=>zs(b)||Vo(b)),c=()=>t.map(b=>{if(ot(b))return b.value;if(zs(b))return rs(b);if(ce(b))return $n(b,a,2)})):ce(t)?e?c=()=>$n(t,a,2):c=()=>{if(!(a&&a.isUnmounted))return h&&h(),Ft(t,a,3,[f])}:c=Lt,e&&s){const b=c;c=()=>rs(b())}let h,f=b=>{h=E.onStop=()=>{$n(b,a,4)}},p;if(hr)if(f=Lt,e?n&&Ft(e,a,3,[c(),d?[]:void 0,f]):c(),i==="sync"){const b=H0();p=b.__watcherHandles||(b.__watcherHandles=[])}else return Lt;let m=d?new Array(t.length).fill(ao):ao;const w=()=>{if(E.active)if(e){const b=E.run();(s||u||(d?b.some((N,H)=>ar(N,m[H])):ar(b,m)))&&(h&&h(),Ft(e,a,3,[b,m===ao?void 0:d&&m[0]===ao?[]:m,f]),m=b)}else E.run()};w.allowRecurse=!!e;let y;i==="sync"?y=w:i==="post"?y=()=>vt(w,a&&a.suspense):(w.pre=!0,a&&(w.id=a.uid),y=()=>ru(w));const E=new Jc(c,y);e?n?w():m=E.run():i==="post"?vt(E.run.bind(E),a&&a.suspense):E.run();const T=()=>{E.stop(),a&&a.scope&&Wc(a.scope.effects,E)};return p&&p.push(T),T}function e0(t,e,n){const s=this.proxy,i=Be(t)?t.includes(".")?Bp(s,t):()=>s[t]:t.bind(s,s);let r;ce(e)?r=e:(r=e.handler,n=e);const o=Xe;si(this);const l=Up(i,r.bind(s),n);return o?si(o):hs(),l}function Bp(t,e){const n=e.split(".");return()=>{let s=t;for(let i=0;i<n.length&&s;i++)s=s[n[i]];return s}}function rs(t,e){if(!Ae(t)||t.__v_skip||(e=e||new Set,e.has(t)))return t;if(e.add(t),ot(t))rs(t.value,e);else if(te(t))for(let n=0;n<t.length;n++)rs(t[n],e);else if(yi(t)||Bs(t))t.forEach(n=>{rs(n,e)});else if(gp(t))for(const n in t)rs(t[n],e);return t}function ti(t,e){const n=Pt;if(n===null)return t;const s=Aa(n)||n.proxy,i=t.dirs||(t.dirs=[]);for(let r=0;r<e.length;r++){let[o,l,a,c=xe]=e[r];o&&(ce(o)&&(o={mounted:o,updated:o}),o.deep&&rs(l),i.push({dir:o,instance:s,value:l,oldValue:void 0,arg:a,modifiers:c}))}return t}function es(t,e,n,s){const i=t.dirs,r=e&&e.dirs;for(let o=0;o<i.length;o++){const l=i[o];r&&(l.oldValue=r[o].value);let a=l.dir[s];a&&(wi(),Ft(a,n,8,[t.el,l,t,e]),_i())}}function zp(t,e){return ce(t)?(()=>He({name:t.name},e,{setup:t}))():t}const bo=t=>!!t.type.__asyncLoader,jp=t=>t.type.__isKeepAlive;function t0(t,e){Hp(t,"a",e)}function n0(t,e){Hp(t,"da",e)}function Hp(t,e,n=Xe){const s=t.__wdc||(t.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(ba(e,s,n),n){let i=n.parent;for(;i&&i.parent;)jp(i.parent.vnode)&&s0(s,e,n,i),i=i.parent}}function s0(t,e,n,s){const i=ba(e,t,s,!0);Gp(()=>{Wc(s[e],i)},n)}function ba(t,e,n=Xe,s=!1){if(n){const i=n[t]||(n[t]=[]),r=e.__weh||(e.__weh=(...o)=>{if(n.isUnmounted)return;wi(),si(n);const l=Ft(e,n,t,o);return hs(),_i(),l});return s?i.unshift(r):i.push(r),r}}const yn=t=>(e,n=Xe)=>(!hr||t==="sp")&&ba(t,(...s)=>e(...s),n),i0=yn("bm"),Ei=yn("m"),qp=yn("bu"),ou=yn("u"),au=yn("bum"),Gp=yn("um"),r0=yn("sp"),o0=yn("rtg"),a0=yn("rtc");function l0(t,e=Xe){ba("ec",t,e)}const Kp="components";function c0(t,e){return d0(Kp,t,!0,e)||t}const u0=Symbol.for("v-ndc");function d0(t,e,n=!0,s=!1){const i=Pt||Xe;if(i){const r=i.type;if(t===Kp){const l=B0(r,!1);if(l&&(l===e||l===tn(e)||l===va(tn(e))))return r}const o=Wd(i[t]||r[t],e)||Wd(i.appContext[t],e);return!o&&s?r:o}}function Wd(t,e){return t&&(t[e]||t[tn(e)]||t[va(tn(e))])}function zi(t,e,n,s){let i;const r=n&&n[s];if(te(t)||Be(t)){i=new Array(t.length);for(let o=0,l=t.length;o<l;o++)i[o]=e(t[o],o,void 0,r&&r[o])}else if(typeof t=="number"){i=new Array(t);for(let o=0;o<t;o++)i[o]=e(o+1,o,void 0,r&&r[o])}else if(Ae(t))if(t[Symbol.iterator])i=Array.from(t,(o,l)=>e(o,l,void 0,r&&r[l]));else{const o=Object.keys(t);i=new Array(o.length);for(let l=0,a=o.length;l<a;l++){const c=o[l];i[l]=e(t[c],c,l,r&&r[l])}}else i=[];return n&&(n[s]=i),i}const Zl=t=>t?rg(t)?Aa(t)||t.proxy:Zl(t.parent):null,Xi=He(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>Zl(t.parent),$root:t=>Zl(t.root),$emit:t=>t.emit,$options:t=>lu(t),$forceUpdate:t=>t.f||(t.f=()=>ru(t.update)),$nextTick:t=>t.n||(t.n=Hs.bind(t.proxy)),$watch:t=>e0.bind(t)}),hl=(t,e)=>t!==xe&&!t.__isScriptSetup&&pe(t,e),h0={get({_:t},e){const{ctx:n,setupState:s,data:i,props:r,accessCache:o,type:l,appContext:a}=t;let c;if(e[0]!=="$"){const f=o[e];if(f!==void 0)switch(f){case 1:return s[e];case 2:return i[e];case 4:return n[e];case 3:return r[e]}else{if(hl(s,e))return o[e]=1,s[e];if(i!==xe&&pe(i,e))return o[e]=2,i[e];if((c=t.propsOptions[0])&&pe(c,e))return o[e]=3,r[e];if(n!==xe&&pe(n,e))return o[e]=4,n[e];ec&&(o[e]=0)}}const u=Xi[e];let d,h;if(u)return e==="$attrs"&&_t(t,"get",e),u(t);if((d=l.__cssModules)&&(d=d[e]))return d;if(n!==xe&&pe(n,e))return o[e]=4,n[e];if(h=a.config.globalProperties,pe(h,e))return h[e]},set({_:t},e,n){const{data:s,setupState:i,ctx:r}=t;return hl(i,e)?(i[e]=n,!0):s!==xe&&pe(s,e)?(s[e]=n,!0):pe(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(r[e]=n,!0)},has({_:{data:t,setupState:e,accessCache:n,ctx:s,appContext:i,propsOptions:r}},o){let l;return!!n[o]||t!==xe&&pe(t,o)||hl(e,o)||(l=r[0])&&pe(l,o)||pe(s,o)||pe(Xi,o)||pe(i.config.globalProperties,o)},defineProperty(t,e,n){return n.get!=null?t._.accessCache[e]=0:pe(n,"value")&&this.set(t,e,n.value,null),Reflect.defineProperty(t,e,n)}};function Yd(t){return te(t)?t.reduce((e,n)=>(e[n]=null,e),{}):t}let ec=!0;function f0(t){const e=lu(t),n=t.proxy,s=t.ctx;ec=!1,e.beforeCreate&&Qd(e.beforeCreate,t,"bc");const{data:i,computed:r,methods:o,watch:l,provide:a,inject:c,created:u,beforeMount:d,mounted:h,beforeUpdate:f,updated:p,activated:m,deactivated:w,beforeDestroy:y,beforeUnmount:E,destroyed:T,unmounted:b,render:N,renderTracked:H,renderTriggered:K,errorCaptured:$,serverPrefetch:k,expose:P,inheritAttrs:F,components:ne,directives:q,filters:ge}=e;if(c&&p0(c,s,null),o)for(const ve in o){const ue=o[ve];ce(ue)&&(s[ve]=ue.bind(n))}if(i){const ve=i.call(n,n);Ae(ve)&&(t.data=Nr(ve))}if(ec=!0,r)for(const ve in r){const ue=r[ve],gt=ce(ue)?ue.bind(n,n):ce(ue.get)?ue.get.bind(n,n):Lt,Et=!ce(ue)&&ce(ue.set)?ue.set.bind(n):Lt,mt=it({get:gt,set:Et});Object.defineProperty(s,ve,{enumerable:!0,configurable:!0,get:()=>mt.value,set:ze=>mt.value=ze})}if(l)for(const ve in l)Wp(l[ve],s,n,ve);if(a){const ve=ce(a)?a.call(n):a;Reflect.ownKeys(ve).forEach(ue=>{qs(ue,ve[ue])})}u&&Qd(u,t,"c");function _e(ve,ue){te(ue)?ue.forEach(gt=>ve(gt.bind(n))):ue&&ve(ue.bind(n))}if(_e(i0,d),_e(Ei,h),_e(qp,f),_e(ou,p),_e(t0,m),_e(n0,w),_e(l0,$),_e(a0,H),_e(o0,K),_e(au,E),_e(Gp,b),_e(r0,k),te(P))if(P.length){const ve=t.exposed||(t.exposed={});P.forEach(ue=>{Object.defineProperty(ve,ue,{get:()=>n[ue],set:gt=>n[ue]=gt})})}else t.exposed||(t.exposed={});N&&t.render===Lt&&(t.render=N),F!=null&&(t.inheritAttrs=F),ne&&(t.components=ne),q&&(t.directives=q)}function p0(t,e,n=Lt){te(t)&&(t=tc(t));for(const s in t){const i=t[s];let r;Ae(i)?"default"in i?r=Qt(i.from||s,i.default,!0):r=Qt(i.from||s):r=Qt(i),ot(r)?Object.defineProperty(e,s,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[s]=r}}function Qd(t,e,n){Ft(te(t)?t.map(s=>s.bind(e.proxy)):t.bind(e.proxy),e,n)}function Wp(t,e,n,s){const i=s.includes(".")?Bp(n,s):()=>n[s];if(Be(t)){const r=e[t];ce(r)&&ds(i,r)}else if(ce(t))ds(i,t.bind(n));else if(Ae(t))if(te(t))t.forEach(r=>Wp(r,e,n,s));else{const r=ce(t.handler)?t.handler.bind(n):e[t.handler];ce(r)&&ds(i,r,t)}}function lu(t){const e=t.type,{mixins:n,extends:s}=e,{mixins:i,optionsCache:r,config:{optionMergeStrategies:o}}=t.appContext,l=r.get(e);let a;return l?a=l:!i.length&&!n&&!s?a=e:(a={},i.length&&i.forEach(c=>Bo(a,c,o,!0)),Bo(a,e,o)),Ae(e)&&r.set(e,a),a}function Bo(t,e,n,s=!1){const{mixins:i,extends:r}=e;r&&Bo(t,r,n,!0),i&&i.forEach(o=>Bo(t,o,n,!0));for(const o in e)if(!(s&&o==="expose")){const l=g0[o]||n&&n[o];t[o]=l?l(t[o],e[o]):e[o]}return t}const g0={data:Xd,props:Jd,emits:Jd,methods:ji,computed:ji,beforeCreate:ft,created:ft,beforeMount:ft,mounted:ft,beforeUpdate:ft,updated:ft,beforeDestroy:ft,beforeUnmount:ft,destroyed:ft,unmounted:ft,activated:ft,deactivated:ft,errorCaptured:ft,serverPrefetch:ft,components:ji,directives:ji,watch:v0,provide:Xd,inject:m0};function Xd(t,e){return e?t?function(){return He(ce(t)?t.call(this,this):t,ce(e)?e.call(this,this):e)}:e:t}function m0(t,e){return ji(tc(t),tc(e))}function tc(t){if(te(t)){const e={};for(let n=0;n<t.length;n++)e[t[n]]=t[n];return e}return t}function ft(t,e){return t?[...new Set([].concat(t,e))]:e}function ji(t,e){return t?He(Object.create(null),t,e):e}function Jd(t,e){return t?te(t)&&te(e)?[...new Set([...t,...e])]:He(Object.create(null),Yd(t),Yd(e??{})):e}function v0(t,e){if(!t)return e;if(!e)return t;const n=He(Object.create(null),t);for(const s in e)n[s]=ft(t[s],e[s]);return n}function Yp(){return{app:null,config:{isNativeTag:Wy,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let y0=0;function w0(t,e){return function(s,i=null){ce(s)||(s=He({},s)),i!=null&&!Ae(i)&&(i=null);const r=Yp(),o=new Set;let l=!1;const a=r.app={_uid:y0++,_component:s,_props:i,_container:null,_context:r,_instance:null,version:q0,get config(){return r.config},set config(c){},use(c,...u){return o.has(c)||(c&&ce(c.install)?(o.add(c),c.install(a,...u)):ce(c)&&(o.add(c),c(a,...u))),a},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),a},component(c,u){return u?(r.components[c]=u,a):r.components[c]},directive(c,u){return u?(r.directives[c]=u,a):r.directives[c]},mount(c,u,d){if(!l){const h=Oe(s,i);return h.appContext=r,u&&e?e(h,c):t(h,c,d),l=!0,a._container=c,c.__vue_app__=a,Aa(h.component)||h.component.proxy}},unmount(){l&&(t(null,a._container),delete a._container.__vue_app__)},provide(c,u){return r.provides[c]=u,a},runWithContext(c){zo=a;try{return c()}finally{zo=null}}};return a}}let zo=null;function qs(t,e){if(Xe){let n=Xe.provides;const s=Xe.parent&&Xe.parent.provides;s===n&&(n=Xe.provides=Object.create(s)),n[t]=e}}function Qt(t,e,n=!1){const s=Xe||Pt;if(s||zo){const i=s?s.parent==null?s.vnode.appContext&&s.vnode.appContext.provides:s.parent.provides:zo._context.provides;if(i&&t in i)return i[t];if(arguments.length>1)return n&&ce(e)?e.call(s&&s.proxy):e}}function _0(t,e,n,s=!1){const i={},r={};Fo(r,Ca,1),t.propsDefaults=Object.create(null),Qp(t,e,i,r);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);n?t.props=s?i:Lw(i):t.type.props?t.props=i:t.props=r,t.attrs=r}function E0(t,e,n,s){const{props:i,attrs:r,vnode:{patchFlag:o}}=t,l=we(i),[a]=t.propsOptions;let c=!1;if((s||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let d=0;d<u.length;d++){let h=u[d];if(_a(t.emitsOptions,h))continue;const f=e[h];if(a)if(pe(r,h))f!==r[h]&&(r[h]=f,c=!0);else{const p=tn(h);i[p]=nc(a,l,p,f,t,!1)}else f!==r[h]&&(r[h]=f,c=!0)}}}else{Qp(t,e,i,r)&&(c=!0);let u;for(const d in l)(!e||!pe(e,d)&&((u=As(d))===d||!pe(e,u)))&&(a?n&&(n[d]!==void 0||n[u]!==void 0)&&(i[d]=nc(a,l,d,void 0,t,!0)):delete i[d]);if(r!==l)for(const d in r)(!e||!pe(e,d))&&(delete r[d],c=!0)}c&&hn(t,"set","$attrs")}function Qp(t,e,n,s){const[i,r]=t.propsOptions;let o=!1,l;if(e)for(let a in e){if(To(a))continue;const c=e[a];let u;i&&pe(i,u=tn(a))?!r||!r.includes(u)?n[u]=c:(l||(l={}))[u]=c:_a(t.emitsOptions,a)||(!(a in s)||c!==s[a])&&(s[a]=c,o=!0)}if(r){const a=we(n),c=l||xe;for(let u=0;u<r.length;u++){const d=r[u];n[d]=nc(i,a,d,c[d],t,!pe(c,d))}}return o}function nc(t,e,n,s,i,r){const o=t[n];if(o!=null){const l=pe(o,"default");if(l&&s===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&ce(a)){const{propsDefaults:c}=i;n in c?s=c[n]:(si(i),s=c[n]=a.call(null,e),hs())}else s=a}o[0]&&(r&&!l?s=!1:o[1]&&(s===""||s===As(n))&&(s=!0))}return s}function Xp(t,e,n=!1){const s=e.propsCache,i=s.get(t);if(i)return i;const r=t.props,o={},l=[];let a=!1;if(!ce(t)){const u=d=>{a=!0;const[h,f]=Xp(d,e,!0);He(o,h),f&&l.push(...f)};!n&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!r&&!a)return Ae(t)&&s.set(t,Us),Us;if(te(r))for(let u=0;u<r.length;u++){const d=tn(r[u]);Zd(d)&&(o[d]=xe)}else if(r)for(const u in r){const d=tn(u);if(Zd(d)){const h=r[u],f=o[d]=te(h)||ce(h)?{type:h}:He({},h);if(f){const p=nh(Boolean,f.type),m=nh(String,f.type);f[0]=p>-1,f[1]=m<0||p<m,(p>-1||pe(f,"default"))&&l.push(d)}}}const c=[o,l];return Ae(t)&&s.set(t,c),c}function Zd(t){return t[0]!=="$"}function eh(t){const e=t&&t.toString().match(/^\s*(function|class) (\w+)/);return e?e[2]:t===null?"null":""}function th(t,e){return eh(t)===eh(e)}function nh(t,e){return te(e)?e.findIndex(n=>th(n,t)):ce(e)&&th(e,t)?0:-1}const Jp=t=>t[0]==="_"||t==="$stable",cu=t=>te(t)?t.map(Ht):[Ht(t)],T0=(t,e,n)=>{if(e._n)return e;const s=Mt((...i)=>cu(e(...i)),n);return s._c=!1,s},Zp=(t,e,n)=>{const s=t._ctx;for(const i in t){if(Jp(i))continue;const r=t[i];if(ce(r))e[i]=T0(i,r,s);else if(r!=null){const o=cu(r);e[i]=()=>o}}},eg=(t,e)=>{const n=cu(e);t.slots.default=()=>n},S0=(t,e)=>{if(t.vnode.shapeFlag&32){const n=e._;n?(t.slots=we(e),Fo(e,"_",n)):Zp(e,t.slots={})}else t.slots={},e&&eg(t,e);Fo(t.slots,Ca,1)},b0=(t,e,n)=>{const{vnode:s,slots:i}=t;let r=!0,o=xe;if(s.shapeFlag&32){const l=e._;l?n&&l===1?r=!1:(He(i,e),!n&&l===1&&delete i._):(r=!e.$stable,Zp(e,i)),o=e}else e&&(eg(t,e),o={default:1});if(r)for(const l in i)!Jp(l)&&!(l in o)&&delete i[l]};function sc(t,e,n,s,i=!1){if(te(t)){t.forEach((h,f)=>sc(h,e&&(te(e)?e[f]:e),n,s,i));return}if(bo(s)&&!i)return;const r=s.shapeFlag&4?Aa(s.component)||s.component.proxy:s.el,o=i?null:r,{i:l,r:a}=t,c=e&&e.r,u=l.refs===xe?l.refs={}:l.refs,d=l.setupState;if(c!=null&&c!==a&&(Be(c)?(u[c]=null,pe(d,c)&&(d[c]=null)):ot(c)&&(c.value=null)),ce(a))$n(a,l,12,[o,u]);else{const h=Be(a),f=ot(a);if(h||f){const p=()=>{if(t.f){const m=h?pe(d,a)?d[a]:u[a]:a.value;i?te(m)&&Wc(m,r):te(m)?m.includes(r)||m.push(r):h?(u[a]=[r],pe(d,a)&&(d[a]=u[a])):(a.value=[r],t.k&&(u[t.k]=a.value))}else h?(u[a]=o,pe(d,a)&&(d[a]=o)):f&&(a.value=o,t.k&&(u[t.k]=o))};o?(p.id=-1,vt(p,n)):p()}}}const vt=Zw;function I0(t){return C0(t)}function C0(t,e){const n=Kl();n.__VUE__=!0;const{insert:s,remove:i,patchProp:r,createElement:o,createText:l,createComment:a,setText:c,setElementText:u,parentNode:d,nextSibling:h,setScopeId:f=Lt,insertStaticContent:p}=t,m=(g,v,_,C=null,x=null,R=null,z=!1,L=null,V=!!v.dynamicChildren)=>{if(g===v)return;g&&!Fi(g,v)&&(C=S(g),ze(g,x,R,!0),g=null),v.patchFlag===-2&&(V=!1,v.dynamicChildren=null);const{type:O,ref:X,shapeFlag:G}=v;switch(O){case Ia:w(g,v,_,C);break;case ms:y(g,v,_,C);break;case Io:g==null&&E(v,_,C,z);break;case tt:ne(g,v,_,C,x,R,z,L,V);break;default:G&1?N(g,v,_,C,x,R,z,L,V):G&6?q(g,v,_,C,x,R,z,L,V):(G&64||G&128)&&O.process(g,v,_,C,x,R,z,L,V,D)}X!=null&&x&&sc(X,g&&g.ref,R,v||g,!v)},w=(g,v,_,C)=>{if(g==null)s(v.el=l(v.children),_,C);else{const x=v.el=g.el;v.children!==g.children&&c(x,v.children)}},y=(g,v,_,C)=>{g==null?s(v.el=a(v.children||""),_,C):v.el=g.el},E=(g,v,_,C)=>{[g.el,g.anchor]=p(g.children,v,_,C,g.el,g.anchor)},T=({el:g,anchor:v},_,C)=>{let x;for(;g&&g!==v;)x=h(g),s(g,_,C),g=x;s(v,_,C)},b=({el:g,anchor:v})=>{let _;for(;g&&g!==v;)_=h(g),i(g),g=_;i(v)},N=(g,v,_,C,x,R,z,L,V)=>{z=z||v.type==="svg",g==null?H(v,_,C,x,R,z,L,V):k(g,v,x,R,z,L,V)},H=(g,v,_,C,x,R,z,L)=>{let V,O;const{type:X,props:G,shapeFlag:J,transition:oe,dirs:de}=g;if(V=g.el=o(g.type,R,G&&G.is,G),J&8?u(V,g.children):J&16&&$(g.children,V,null,C,x,R&&X!=="foreignObject",z,L),de&&es(g,null,C,"created"),K(V,g,g.scopeId,z,C),G){for(const be in G)be!=="value"&&!To(be)&&r(V,be,null,G[be],R,g.children,C,x,ee);"value"in G&&r(V,"value",null,G.value),(O=G.onVnodeBeforeMount)&&jt(O,C,g)}de&&es(g,null,C,"beforeMount");const Ce=(!x||x&&!x.pendingBranch)&&oe&&!oe.persisted;Ce&&oe.beforeEnter(V),s(V,v,_),((O=G&&G.onVnodeMounted)||Ce||de)&&vt(()=>{O&&jt(O,C,g),Ce&&oe.enter(V),de&&es(g,null,C,"mounted")},x)},K=(g,v,_,C,x)=>{if(_&&f(g,_),C)for(let R=0;R<C.length;R++)f(g,C[R]);if(x){let R=x.subTree;if(v===R){const z=x.vnode;K(g,z,z.scopeId,z.slotScopeIds,x.parent)}}},$=(g,v,_,C,x,R,z,L,V=0)=>{for(let O=V;O<g.length;O++){const X=g[O]=L?In(g[O]):Ht(g[O]);m(null,X,v,_,C,x,R,z,L)}},k=(g,v,_,C,x,R,z)=>{const L=v.el=g.el;let{patchFlag:V,dynamicChildren:O,dirs:X}=v;V|=g.patchFlag&16;const G=g.props||xe,J=v.props||xe;let oe;_&&ts(_,!1),(oe=J.onVnodeBeforeUpdate)&&jt(oe,_,v,g),X&&es(v,g,_,"beforeUpdate"),_&&ts(_,!0);const de=x&&v.type!=="foreignObject";if(O?P(g.dynamicChildren,O,L,_,C,de,R):z||ue(g,v,L,null,_,C,de,R,!1),V>0){if(V&16)F(L,v,G,J,_,C,x);else if(V&2&&G.class!==J.class&&r(L,"class",null,J.class,x),V&4&&r(L,"style",G.style,J.style,x),V&8){const Ce=v.dynamicProps;for(let be=0;be<Ce.length;be++){const De=Ce[be],kt=G[De],Os=J[De];(Os!==kt||De==="value")&&r(L,De,kt,Os,x,g.children,_,C,ee)}}V&1&&g.children!==v.children&&u(L,v.children)}else!z&&O==null&&F(L,v,G,J,_,C,x);((oe=J.onVnodeUpdated)||X)&&vt(()=>{oe&&jt(oe,_,v,g),X&&es(v,g,_,"updated")},C)},P=(g,v,_,C,x,R,z)=>{for(let L=0;L<v.length;L++){const V=g[L],O=v[L],X=V.el&&(V.type===tt||!Fi(V,O)||V.shapeFlag&70)?d(V.el):_;m(V,O,X,null,C,x,R,z,!0)}},F=(g,v,_,C,x,R,z)=>{if(_!==C){if(_!==xe)for(const L in _)!To(L)&&!(L in C)&&r(g,L,_[L],null,z,v.children,x,R,ee);for(const L in C){if(To(L))continue;const V=C[L],O=_[L];V!==O&&L!=="value"&&r(g,L,O,V,z,v.children,x,R,ee)}"value"in C&&r(g,"value",_.value,C.value)}},ne=(g,v,_,C,x,R,z,L,V)=>{const O=v.el=g?g.el:l(""),X=v.anchor=g?g.anchor:l("");let{patchFlag:G,dynamicChildren:J,slotScopeIds:oe}=v;oe&&(L=L?L.concat(oe):oe),g==null?(s(O,_,C),s(X,_,C),$(v.children,_,X,x,R,z,L,V)):G>0&&G&64&&J&&g.dynamicChildren?(P(g.dynamicChildren,J,_,x,R,z,L),(v.key!=null||x&&v===x.subTree)&&tg(g,v,!0)):ue(g,v,_,X,x,R,z,L,V)},q=(g,v,_,C,x,R,z,L,V)=>{v.slotScopeIds=L,g==null?v.shapeFlag&512?x.ctx.activate(v,_,C,z,V):ge(v,_,C,x,R,z,V):Ie(g,v,V)},ge=(g,v,_,C,x,R,z)=>{const L=g.component=L0(g,C,x);if(jp(g)&&(L.ctx.renderer=D),F0(L),L.asyncDep){if(x&&x.registerDep(L,_e),!g.el){const V=L.subTree=Oe(ms);y(null,V,v,_)}return}_e(L,g,v,_,x,R,z)},Ie=(g,v,_)=>{const C=v.component=g.component;if(Qw(g,v,_))if(C.asyncDep&&!C.asyncResolved){ve(C,v,_);return}else C.next=v,Hw(C.update),C.update();else v.el=g.el,C.vnode=v},_e=(g,v,_,C,x,R,z)=>{const L=()=>{if(g.isMounted){let{next:X,bu:G,u:J,parent:oe,vnode:de}=g,Ce=X,be;ts(g,!1),X?(X.el=de.el,ve(g,X,z)):X=de,G&&So(G),(be=X.props&&X.props.onVnodeBeforeUpdate)&&jt(be,oe,X,de),ts(g,!0);const De=dl(g),kt=g.subTree;g.subTree=De,m(kt,De,d(kt.el),S(kt),g,x,R),X.el=De.el,Ce===null&&Xw(g,De.el),J&&vt(J,x),(be=X.props&&X.props.onVnodeUpdated)&&vt(()=>jt(be,oe,X,de),x)}else{let X;const{el:G,props:J}=v,{bm:oe,m:de,parent:Ce}=g,be=bo(v);if(ts(g,!1),oe&&So(oe),!be&&(X=J&&J.onVnodeBeforeMount)&&jt(X,Ce,v),ts(g,!0),G&&Ee){const De=()=>{g.subTree=dl(g),Ee(G,g.subTree,g,x,null)};be?v.type.__asyncLoader().then(()=>!g.isUnmounted&&De()):De()}else{const De=g.subTree=dl(g);m(null,De,_,C,g,x,R),v.el=De.el}if(de&&vt(de,x),!be&&(X=J&&J.onVnodeMounted)){const De=v;vt(()=>jt(X,Ce,De),x)}(v.shapeFlag&256||Ce&&bo(Ce.vnode)&&Ce.vnode.shapeFlag&256)&&g.a&&vt(g.a,x),g.isMounted=!0,v=_=C=null}},V=g.effect=new Jc(L,()=>ru(O),g.scope),O=g.update=()=>V.run();O.id=g.uid,ts(g,!0),O()},ve=(g,v,_)=>{v.component=g;const C=g.vnode.props;g.vnode=v,g.next=null,E0(g,v.props,C,_),b0(g,v.children,_),wi(),Gd(),_i()},ue=(g,v,_,C,x,R,z,L,V=!1)=>{const O=g&&g.children,X=g?g.shapeFlag:0,G=v.children,{patchFlag:J,shapeFlag:oe}=v;if(J>0){if(J&128){Et(O,G,_,C,x,R,z,L,V);return}else if(J&256){gt(O,G,_,C,x,R,z,L,V);return}}oe&8?(X&16&&ee(O,x,R),G!==O&&u(_,G)):X&16?oe&16?Et(O,G,_,C,x,R,z,L,V):ee(O,x,R,!0):(X&8&&u(_,""),oe&16&&$(G,_,C,x,R,z,L,V))},gt=(g,v,_,C,x,R,z,L,V)=>{g=g||Us,v=v||Us;const O=g.length,X=v.length,G=Math.min(O,X);let J;for(J=0;J<G;J++){const oe=v[J]=V?In(v[J]):Ht(v[J]);m(g[J],oe,_,null,x,R,z,L,V)}O>X?ee(g,x,R,!0,!1,G):$(v,_,C,x,R,z,L,V,G)},Et=(g,v,_,C,x,R,z,L,V)=>{let O=0;const X=v.length;let G=g.length-1,J=X-1;for(;O<=G&&O<=J;){const oe=g[O],de=v[O]=V?In(v[O]):Ht(v[O]);if(Fi(oe,de))m(oe,de,_,null,x,R,z,L,V);else break;O++}for(;O<=G&&O<=J;){const oe=g[G],de=v[J]=V?In(v[J]):Ht(v[J]);if(Fi(oe,de))m(oe,de,_,null,x,R,z,L,V);else break;G--,J--}if(O>G){if(O<=J){const oe=J+1,de=oe<X?v[oe].el:C;for(;O<=J;)m(null,v[O]=V?In(v[O]):Ht(v[O]),_,de,x,R,z,L,V),O++}}else if(O>J)for(;O<=G;)ze(g[O],x,R,!0),O++;else{const oe=O,de=O,Ce=new Map;for(O=de;O<=J;O++){const Tt=v[O]=V?In(v[O]):Ht(v[O]);Tt.key!=null&&Ce.set(Tt.key,O)}let be,De=0;const kt=J-de+1;let Os=!1,Nd=0;const Li=new Array(kt);for(O=0;O<kt;O++)Li[O]=0;for(O=oe;O<=G;O++){const Tt=g[O];if(De>=kt){ze(Tt,x,R,!0);continue}let zt;if(Tt.key!=null)zt=Ce.get(Tt.key);else for(be=de;be<=J;be++)if(Li[be-de]===0&&Fi(Tt,v[be])){zt=be;break}zt===void 0?ze(Tt,x,R,!0):(Li[zt-de]=O+1,zt>=Nd?Nd=zt:Os=!0,m(Tt,v[zt],_,null,x,R,z,L,V),De++)}const Dd=Os?A0(Li):Us;for(be=Dd.length-1,O=kt-1;O>=0;O--){const Tt=de+O,zt=v[Tt],Ld=Tt+1<X?v[Tt+1].el:C;Li[O]===0?m(null,zt,_,Ld,x,R,z,L,V):Os&&(be<0||O!==Dd[be]?mt(zt,_,Ld,2):be--)}}},mt=(g,v,_,C,x=null)=>{const{el:R,type:z,transition:L,children:V,shapeFlag:O}=g;if(O&6){mt(g.component.subTree,v,_,C);return}if(O&128){g.suspense.move(v,_,C);return}if(O&64){z.move(g,v,_,D);return}if(z===tt){s(R,v,_);for(let G=0;G<V.length;G++)mt(V[G],v,_,C);s(g.anchor,v,_);return}if(z===Io){T(g,v,_);return}if(C!==2&&O&1&&L)if(C===0)L.beforeEnter(R),s(R,v,_),vt(()=>L.enter(R),x);else{const{leave:G,delayLeave:J,afterLeave:oe}=L,de=()=>s(R,v,_),Ce=()=>{G(R,()=>{de(),oe&&oe()})};J?J(R,de,Ce):Ce()}else s(R,v,_)},ze=(g,v,_,C=!1,x=!1)=>{const{type:R,props:z,ref:L,children:V,dynamicChildren:O,shapeFlag:X,patchFlag:G,dirs:J}=g;if(L!=null&&sc(L,null,_,g,!0),X&256){v.ctx.deactivate(g);return}const oe=X&1&&J,de=!bo(g);let Ce;if(de&&(Ce=z&&z.onVnodeBeforeUnmount)&&jt(Ce,v,g),X&6)Zn(g.component,_,C);else{if(X&128){g.suspense.unmount(_,C);return}oe&&es(g,null,v,"beforeUnmount"),X&64?g.type.remove(g,v,_,x,D,C):O&&(R!==tt||G>0&&G&64)?ee(O,v,_,!1,!0):(R===tt&&G&384||!x&&X&16)&&ee(V,v,_),C&&_n(g)}(de&&(Ce=z&&z.onVnodeUnmounted)||oe)&&vt(()=>{Ce&&jt(Ce,v,g),oe&&es(g,null,v,"unmounted")},_)},_n=g=>{const{type:v,el:_,anchor:C,transition:x}=g;if(v===tt){En(_,C);return}if(v===Io){b(g);return}const R=()=>{i(_),x&&!x.persisted&&x.afterLeave&&x.afterLeave()};if(g.shapeFlag&1&&x&&!x.persisted){const{leave:z,delayLeave:L}=x,V=()=>z(_,R);L?L(g.el,R,V):V()}else R()},En=(g,v)=>{let _;for(;g!==v;)_=h(g),i(g),g=_;i(v)},Zn=(g,v,_)=>{const{bum:C,scope:x,update:R,subTree:z,um:L}=g;C&&So(C),x.stop(),R&&(R.active=!1,ze(z,g,v,_)),L&&vt(L,v),vt(()=>{g.isUnmounted=!0},v),v&&v.pendingBranch&&!v.isUnmounted&&g.asyncDep&&!g.asyncResolved&&g.suspenseId===v.pendingId&&(v.deps--,v.deps===0&&v.resolve())},ee=(g,v,_,C=!1,x=!1,R=0)=>{for(let z=R;z<g.length;z++)ze(g[z],v,_,C,x)},S=g=>g.shapeFlag&6?S(g.component.subTree):g.shapeFlag&128?g.suspense.next():h(g.anchor||g.el),B=(g,v,_)=>{g==null?v._vnode&&ze(v._vnode,null,null,!0):m(v._vnode||null,g,v,null,null,null,_),Gd(),Fp(),v._vnode=g},D={p:m,um:ze,m:mt,r:_n,mt:ge,mc:$,pc:ue,pbc:P,n:S,o:t};let W,Ee;return e&&([W,Ee]=e(D)),{render:B,hydrate:W,createApp:w0(B,W)}}function ts({effect:t,update:e},n){t.allowRecurse=e.allowRecurse=n}function tg(t,e,n=!1){const s=t.children,i=e.children;if(te(s)&&te(i))for(let r=0;r<s.length;r++){const o=s[r];let l=i[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=i[r]=In(i[r]),l.el=o.el),n||tg(o,l)),l.type===Ia&&(l.el=o.el)}}function A0(t){const e=t.slice(),n=[0];let s,i,r,o,l;const a=t.length;for(s=0;s<a;s++){const c=t[s];if(c!==0){if(i=n[n.length-1],t[i]<c){e[s]=i,n.push(s);continue}for(r=0,o=n.length-1;r<o;)l=r+o>>1,t[n[l]]<c?r=l+1:o=l;c<t[n[r]]&&(r>0&&(e[s]=n[r-1]),n[r]=s)}}for(r=n.length,o=n[r-1];r-- >0;)n[r]=o,o=e[o];return n}const x0=t=>t.__isTeleport,tt=Symbol.for("v-fgt"),Ia=Symbol.for("v-txt"),ms=Symbol.for("v-cmt"),Io=Symbol.for("v-stc"),Ji=[];let Nt=null;function Ve(t=!1){Ji.push(Nt=t?null:[])}function P0(){Ji.pop(),Nt=Ji[Ji.length-1]||null}let dr=1;function sh(t){dr+=t}function ng(t){return t.dynamicChildren=dr>0?Nt||Us:null,P0(),dr>0&&Nt&&Nt.push(t),t}function Ke(t,e,n,s,i,r){return ng(I(t,e,n,s,i,r,!0))}function sg(t,e,n,s,i){return ng(Oe(t,e,n,s,i,!0))}function ic(t){return t?t.__v_isVNode===!0:!1}function Fi(t,e){return t.type===e.type&&t.key===e.key}const Ca="__vInternal",ig=({key:t})=>t??null,Co=({ref:t,ref_key:e,ref_for:n})=>(typeof t=="number"&&(t=""+t),t!=null?Be(t)||ot(t)||ce(t)?{i:Pt,r:t,k:e,f:!!n}:t:null);function I(t,e=null,n=null,s=0,i=null,r=t===tt?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&ig(e),ref:e&&Co(e),scopeId:Ea,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:s,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Pt};return l?(uu(a,n),r&128&&t.normalize(a)):n&&(a.shapeFlag|=Be(n)?8:16),dr>0&&!o&&Nt&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&Nt.push(a),a}const Oe=k0;function k0(t,e=null,n=null,s=0,i=null,r=!1){if((!t||t===u0)&&(t=ms),ic(t)){const l=ni(t,e,!0);return n&&uu(l,n),dr>0&&!r&&Nt&&(l.shapeFlag&6?Nt[Nt.indexOf(t)]=l:Nt.push(l)),l.patchFlag|=-2,l}if(z0(t)&&(t=t.__vccOpts),e){e=R0(e);let{class:l,style:a}=e;l&&!Be(l)&&(e.class=Ln(l)),Ae(a)&&(Pp(a)&&!te(a)&&(a=He({},a)),e.style=cs(a))}const o=Be(t)?1:Jw(t)?128:x0(t)?64:Ae(t)?4:ce(t)?2:0;return I(t,e,n,s,i,o,r,!0)}function R0(t){return t?Pp(t)||Ca in t?He({},t):t:null}function ni(t,e,n=!1){const{props:s,ref:i,patchFlag:r,children:o}=t,l=e?M0(s||{},e):s;return{__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&ig(l),ref:e&&e.ref?n&&i?te(i)?i.concat(Co(e)):[i,Co(e)]:Co(e):i,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:o,target:t.target,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==tt?r===-1?16:r|16:r,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:t.transition,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ni(t.ssContent),ssFallback:t.ssFallback&&ni(t.ssFallback),el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce}}function An(t=" ",e=0){return Oe(Ia,null,t,e)}function O0(t,e){const n=Oe(Io,null,t);return n.staticCount=e,n}function ih(t="",e=!1){return e?(Ve(),sg(ms,null,t)):Oe(ms,null,t)}function Ht(t){return t==null||typeof t=="boolean"?Oe(ms):te(t)?Oe(tt,null,t.slice()):typeof t=="object"?In(t):Oe(Ia,null,String(t))}function In(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ni(t)}function uu(t,e){let n=0;const{shapeFlag:s}=t;if(e==null)e=null;else if(te(e))n=16;else if(typeof e=="object")if(s&65){const i=e.default;i&&(i._c&&(i._d=!1),uu(t,i()),i._c&&(i._d=!0));return}else{n=32;const i=e._;!i&&!(Ca in e)?e._ctx=Pt:i===3&&Pt&&(Pt.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else ce(e)?(e={default:e,_ctx:Pt},n=32):(e=String(e),s&64?(n=16,e=[An(e)]):n=8);t.children=e,t.shapeFlag|=n}function M0(...t){const e={};for(let n=0;n<t.length;n++){const s=t[n];for(const i in s)if(i==="class")e.class!==s.class&&(e.class=Ln([e.class,s.class]));else if(i==="style")e.style=cs([e.style,s.style]);else if(ga(i)){const r=e[i],o=s[i];o&&r!==o&&!(te(r)&&r.includes(o))&&(e[i]=r?[].concat(r,o):o)}else i!==""&&(e[i]=s[i])}return e}function jt(t,e,n,s=null){Ft(t,e,7,[n,s])}const N0=Yp();let D0=0;function L0(t,e,n){const s=t.type,i=(e?e.appContext:t.appContext)||N0,r={uid:D0++,vnode:t,type:s,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new aw(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:Xp(s,i),emitsOptions:Vp(s,i),emit:null,emitted:null,propsDefaults:xe,inheritAttrs:s.inheritAttrs,ctx:xe,data:xe,props:xe,attrs:xe,slots:xe,refs:xe,setupState:xe,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Kw.bind(null,r),t.ce&&t.ce(r),r}let Xe=null,du,Ms,rh="__VUE_INSTANCE_SETTERS__";(Ms=Kl()[rh])||(Ms=Kl()[rh]=[]),Ms.push(t=>Xe=t),du=t=>{Ms.length>1?Ms.forEach(e=>e(t)):Ms[0](t)};const si=t=>{du(t),t.scope.on()},hs=()=>{Xe&&Xe.scope.off(),du(null)};function rg(t){return t.vnode.shapeFlag&4}let hr=!1;function F0(t,e=!1){hr=e;const{props:n,children:s}=t.vnode,i=rg(t);_0(t,n,i,e),S0(t,s);const r=i?$0(t,e):void 0;return hr=!1,r}function $0(t,e){const n=t.type;t.accessCache=Object.create(null),t.proxy=kp(new Proxy(t.ctx,h0));const{setup:s}=n;if(s){const i=t.setupContext=s.length>1?U0(t):null;si(t),wi();const r=$n(s,t,0,[t.props,i]);if(_i(),hs(),fp(r)){if(r.then(hs,hs),e)return r.then(o=>{oh(t,o,e)}).catch(o=>{wa(o,t,0)});t.asyncDep=r}else oh(t,r,e)}else og(t,e)}function oh(t,e,n){ce(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:Ae(e)&&(t.setupState=Np(e)),og(t,n)}let ah;function og(t,e,n){const s=t.type;if(!t.render){if(!e&&ah&&!s.render){const i=s.template||lu(t).template;if(i){const{isCustomElement:r,compilerOptions:o}=t.appContext.config,{delimiters:l,compilerOptions:a}=s,c=He(He({isCustomElement:r,delimiters:l},o),a);s.render=ah(i,c)}}t.render=s.render||Lt}si(t),wi(),f0(t),_i(),hs()}function V0(t){return t.attrsProxy||(t.attrsProxy=new Proxy(t.attrs,{get(e,n){return _t(t,"get","$attrs"),e[n]}}))}function U0(t){const e=n=>{t.exposed=n||{}};return{get attrs(){return V0(t)},slots:t.slots,emit:t.emit,expose:e}}function Aa(t){if(t.exposed)return t.exposeProxy||(t.exposeProxy=new Proxy(Np(kp(t.exposed)),{get(e,n){if(n in e)return e[n];if(n in Xi)return Xi[n](t)},has(e,n){return n in e||n in Xi}}))}function B0(t,e=!0){return ce(t)?t.displayName||t.name:t.name||e&&t.__name}function z0(t){return ce(t)&&"__vccOpts"in t}const it=(t,e)=>Bw(t,e,hr);function wt(t,e,n){const s=arguments.length;return s===2?Ae(e)&&!te(e)?ic(e)?Oe(t,null,[e]):Oe(t,e):Oe(t,null,e):(s>3?n=Array.prototype.slice.call(arguments,2):s===3&&ic(n)&&(n=[n]),Oe(t,e,n))}const j0=Symbol.for("v-scx"),H0=()=>Qt(j0),q0="3.3.4",G0="http://www.w3.org/2000/svg",is=typeof document<"u"?document:null,lh=is&&is.createElement("template"),K0={insert:(t,e,n)=>{e.insertBefore(t,n||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,n,s)=>{const i=e?is.createElementNS(G0,t):is.createElement(t,n?{is:n}:void 0);return t==="select"&&s&&s.multiple!=null&&i.setAttribute("multiple",s.multiple),i},createText:t=>is.createTextNode(t),createComment:t=>is.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>is.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,n,s,i,r){const o=n?n.previousSibling:e.lastChild;if(i&&(i===r||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),n),!(i===r||!(i=i.nextSibling)););else{lh.innerHTML=s?`<svg>${t}</svg>`:t;const l=lh.content;if(s){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,n)}return[o?o.nextSibling:e.firstChild,n?n.previousSibling:e.lastChild]}};function W0(t,e,n){const s=t._vtc;s&&(e=(e?[e,...s]:[...s]).join(" ")),e==null?t.removeAttribute("class"):n?t.setAttribute("class",e):t.className=e}function Y0(t,e,n){const s=t.style,i=Be(n);if(n&&!i){if(e&&!Be(e))for(const r in e)n[r]==null&&rc(s,r,"");for(const r in n)rc(s,r,n[r])}else{const r=s.display;i?e!==n&&(s.cssText=n):e&&t.removeAttribute("style"),"_vod"in t&&(s.display=r)}}const ch=/\s*!important$/;function rc(t,e,n){if(te(n))n.forEach(s=>rc(t,e,s));else if(n==null&&(n=""),e.startsWith("--"))t.setProperty(e,n);else{const s=Q0(t,e);ch.test(n)?t.setProperty(As(s),n.replace(ch,""),"important"):t[s]=n}}const uh=["Webkit","Moz","ms"],fl={};function Q0(t,e){const n=fl[e];if(n)return n;let s=tn(e);if(s!=="filter"&&s in t)return fl[e]=s;s=va(s);for(let i=0;i<uh.length;i++){const r=uh[i]+s;if(r in t)return fl[e]=r}return e}const dh="http://www.w3.org/1999/xlink";function X0(t,e,n,s,i){if(s&&e.startsWith("xlink:"))n==null?t.removeAttributeNS(dh,e.slice(6,e.length)):t.setAttributeNS(dh,e,n);else{const r=rw(e);n==null||r&&!mp(n)?t.removeAttribute(e):t.setAttribute(e,r?"":n)}}function J0(t,e,n,s,i,r,o){if(e==="innerHTML"||e==="textContent"){s&&o(s,i,r),t[e]=n??"";return}const l=t.tagName;if(e==="value"&&l!=="PROGRESS"&&!l.includes("-")){t._value=n;const c=l==="OPTION"?t.getAttribute("value"):t.value,u=n??"";c!==u&&(t.value=u),n==null&&t.removeAttribute(e);return}let a=!1;if(n===""||n==null){const c=typeof t[e];c==="boolean"?n=mp(n):n==null&&c==="string"?(n="",a=!0):c==="number"&&(n=0,a=!0)}try{t[e]=n}catch{}a&&t.removeAttribute(e)}function ln(t,e,n,s){t.addEventListener(e,n,s)}function Z0(t,e,n,s){t.removeEventListener(e,n,s)}function e_(t,e,n,s,i=null){const r=t._vei||(t._vei={}),o=r[e];if(s&&o)o.value=s;else{const[l,a]=t_(e);if(s){const c=r[e]=i_(s,i);ln(t,l,c,a)}else o&&(Z0(t,l,o,a),r[e]=void 0)}}const hh=/(?:Once|Passive|Capture)$/;function t_(t){let e;if(hh.test(t)){e={};let s;for(;s=t.match(hh);)t=t.slice(0,t.length-s[0].length),e[s[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):As(t.slice(2)),e]}let pl=0;const n_=Promise.resolve(),s_=()=>pl||(n_.then(()=>pl=0),pl=Date.now());function i_(t,e){const n=s=>{if(!s._vts)s._vts=Date.now();else if(s._vts<=n.attached)return;Ft(r_(s,n.value),e,5,[s])};return n.value=t,n.attached=s_(),n}function r_(t,e){if(te(e)){const n=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{n.call(t),t._stopped=!0},e.map(s=>i=>!i._stopped&&s&&s(i))}else return e}const fh=/^on[a-z]/,o_=(t,e,n,s,i=!1,r,o,l,a)=>{e==="class"?W0(t,s,i):e==="style"?Y0(t,n,s):ga(e)?Kc(e)||e_(t,e,n,s,o):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):a_(t,e,s,i))?J0(t,e,s,r,o,l,a):(e==="true-value"?t._trueValue=s:e==="false-value"&&(t._falseValue=s),X0(t,e,s,i))};function a_(t,e,n,s){return s?!!(e==="innerHTML"||e==="textContent"||e in t&&fh.test(e)&&ce(n)):e==="spellcheck"||e==="draggable"||e==="translate"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA"||fh.test(e)&&Be(n)?!1:e in t}const Gn=t=>{const e=t.props["onUpdate:modelValue"]||!1;return te(e)?n=>So(e,n):e};function l_(t){t.target.composing=!0}function ph(t){const e=t.target;e.composing&&(e.composing=!1,e.dispatchEvent(new Event("input")))}const ii={created(t,{modifiers:{lazy:e,trim:n,number:s}},i){t._assign=Gn(i);const r=s||i.props&&i.props.type==="number";ln(t,e?"change":"input",o=>{if(o.target.composing)return;let l=t.value;n&&(l=l.trim()),r&&(l=$o(l)),t._assign(l)}),n&&ln(t,"change",()=>{t.value=t.value.trim()}),e||(ln(t,"compositionstart",l_),ln(t,"compositionend",ph),ln(t,"change",ph))},mounted(t,{value:e}){t.value=e??""},beforeUpdate(t,{value:e,modifiers:{lazy:n,trim:s,number:i}},r){if(t._assign=Gn(r),t.composing||document.activeElement===t&&t.type!=="range"&&(n||s&&t.value.trim()===e||(i||t.type==="number")&&$o(t.value)===e))return;const o=e??"";t.value!==o&&(t.value=o)}},c_={deep:!0,created(t,e,n){t._assign=Gn(n),ln(t,"change",()=>{const s=t._modelValue,i=ri(t),r=t.checked,o=t._assign;if(te(s)){const l=Qc(s,i),a=l!==-1;if(r&&!a)o(s.concat(i));else if(!r&&a){const c=[...s];c.splice(l,1),o(c)}}else if(yi(s)){const l=new Set(s);r?l.add(i):l.delete(i),o(l)}else o(ag(t,r))})},mounted:gh,beforeUpdate(t,e,n){t._assign=Gn(n),gh(t,e,n)}};function gh(t,{value:e,oldValue:n},s){t._modelValue=e,te(e)?t.checked=Qc(e,s.props.value)>-1:yi(e)?t.checked=e.has(s.props.value):e!==n&&(t.checked=gs(e,ag(t,!0)))}const u_={created(t,{value:e},n){t.checked=gs(e,n.props.value),t._assign=Gn(n),ln(t,"change",()=>{t._assign(ri(t))})},beforeUpdate(t,{value:e,oldValue:n},s){t._assign=Gn(s),e!==n&&(t.checked=gs(e,s.props.value))}},d_={deep:!0,created(t,{value:e,modifiers:{number:n}},s){const i=yi(e);ln(t,"change",()=>{const r=Array.prototype.filter.call(t.options,o=>o.selected).map(o=>n?$o(ri(o)):ri(o));t._assign(t.multiple?i?new Set(r):r:r[0])}),t._assign=Gn(s)},mounted(t,{value:e}){mh(t,e)},beforeUpdate(t,e,n){t._assign=Gn(n)},updated(t,{value:e}){mh(t,e)}};function mh(t,e){const n=t.multiple;if(!(n&&!te(e)&&!yi(e))){for(let s=0,i=t.options.length;s<i;s++){const r=t.options[s],o=ri(r);if(n)te(e)?r.selected=Qc(e,o)>-1:r.selected=e.has(o);else if(gs(ri(r),e)){t.selectedIndex!==s&&(t.selectedIndex=s);return}}!n&&t.selectedIndex!==-1&&(t.selectedIndex=-1)}}function ri(t){return"_value"in t?t._value:t.value}function ag(t,e){const n=e?"_trueValue":"_falseValue";return n in t?t[n]:e}const lg={created(t,e,n){lo(t,e,n,null,"created")},mounted(t,e,n){lo(t,e,n,null,"mounted")},beforeUpdate(t,e,n,s){lo(t,e,n,s,"beforeUpdate")},updated(t,e,n,s){lo(t,e,n,s,"updated")}};function h_(t,e){switch(t){case"SELECT":return d_;case"TEXTAREA":return ii;default:switch(e){case"checkbox":return c_;case"radio":return u_;default:return ii}}}function lo(t,e,n,s,i){const o=h_(t.tagName,n.props&&n.props.type)[i];o&&o(t,e,n,s)}const f_=["ctrl","shift","alt","meta"],p_={stop:t=>t.stopPropagation(),prevent:t=>t.preventDefault(),self:t=>t.target!==t.currentTarget,ctrl:t=>!t.ctrlKey,shift:t=>!t.shiftKey,alt:t=>!t.altKey,meta:t=>!t.metaKey,left:t=>"button"in t&&t.button!==0,middle:t=>"button"in t&&t.button!==1,right:t=>"button"in t&&t.button!==2,exact:(t,e)=>f_.some(n=>t[`${n}Key`]&&!e.includes(n))},On=(t,e)=>(n,...s)=>{for(let i=0;i<e.length;i++){const r=p_[e[i]];if(r&&r(n,e))return}return t(n,...s)},g_={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},Mn=(t,e)=>n=>{if(!("key"in n))return;const s=As(n.key);if(e.some(i=>i===s||g_[i]===s))return t(n)},m_=He({patchProp:o_},K0);let vh;function v_(){return vh||(vh=I0(m_))}const y_=(...t)=>{const e=v_().createApp(...t),{mount:n}=e;return e.mount=s=>{const i=w_(s);if(!i)return;const r=e._component;!ce(r)&&!r.render&&!r.template&&(r.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e};function w_(t){return Be(t)?document.querySelector(t):t}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const Ds=typeof window<"u";function __(t){return t.__esModule||t[Symbol.toStringTag]==="Module"}const Te=Object.assign;function gl(t,e){const n={};for(const s in e){const i=e[s];n[s]=$t(i)?i.map(t):t(i)}return n}const Zi=()=>{},$t=Array.isArray,E_=/\/$/,T_=t=>t.replace(E_,"");function ml(t,e,n="/"){let s,i={},r="",o="";const l=e.indexOf("#");let a=e.indexOf("?");return l<a&&l>=0&&(a=-1),a>-1&&(s=e.slice(0,a),r=e.slice(a+1,l>-1?l:e.length),i=t(r)),l>-1&&(s=s||e.slice(0,l),o=e.slice(l,e.length)),s=C_(s??e,n),{fullPath:s+(r&&"?")+r+o,path:s,query:i,hash:o}}function S_(t,e){const n=e.query?t(e.query):"";return e.path+(n&&"?")+n+(e.hash||"")}function yh(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function b_(t,e,n){const s=e.matched.length-1,i=n.matched.length-1;return s>-1&&s===i&&oi(e.matched[s],n.matched[i])&&cg(e.params,n.params)&&t(e.query)===t(n.query)&&e.hash===n.hash}function oi(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function cg(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const n in t)if(!I_(t[n],e[n]))return!1;return!0}function I_(t,e){return $t(t)?wh(t,e):$t(e)?wh(e,t):t===e}function wh(t,e){return $t(e)?t.length===e.length&&t.every((n,s)=>n===e[s]):t.length===1&&t[0]===e}function C_(t,e){if(t.startsWith("/"))return t;if(!t)return e;const n=e.split("/"),s=t.split("/"),i=s[s.length-1];(i===".."||i===".")&&s.push("");let r=n.length-1,o,l;for(o=0;o<s.length;o++)if(l=s[o],l!==".")if(l==="..")r>1&&r--;else break;return n.slice(0,r).join("/")+"/"+s.slice(o-(o===s.length?1:0)).join("/")}var fr;(function(t){t.pop="pop",t.push="push"})(fr||(fr={}));var er;(function(t){t.back="back",t.forward="forward",t.unknown=""})(er||(er={}));function A_(t){if(!t)if(Ds){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),T_(t)}const x_=/^[^#]+#/;function P_(t,e){return t.replace(x_,"#")+e}function k_(t,e){const n=document.documentElement.getBoundingClientRect(),s=t.getBoundingClientRect();return{behavior:e.behavior,left:s.left-n.left-(e.left||0),top:s.top-n.top-(e.top||0)}}const xa=()=>({left:window.pageXOffset,top:window.pageYOffset});function R_(t){let e;if("el"in t){const n=t.el,s=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?s?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;e=k_(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.pageXOffset,e.top!=null?e.top:window.pageYOffset)}function _h(t,e){return(history.state?history.state.position-e:-1)+t}const oc=new Map;function O_(t,e){oc.set(t,e)}function M_(t){const e=oc.get(t);return oc.delete(t),e}let N_=()=>location.protocol+"//"+location.host;function ug(t,e){const{pathname:n,search:s,hash:i}=e,r=t.indexOf("#");if(r>-1){let l=i.includes(t.slice(r))?t.slice(r).length:1,a=i.slice(l);return a[0]!=="/"&&(a="/"+a),yh(a,"")}return yh(n,t)+s+i}function D_(t,e,n,s){let i=[],r=[],o=null;const l=({state:h})=>{const f=ug(t,location),p=n.value,m=e.value;let w=0;if(h){if(n.value=f,e.value=h,o&&o===p){o=null;return}w=m?h.position-m.position:0}else s(f);i.forEach(y=>{y(n.value,p,{delta:w,type:fr.pop,direction:w?w>0?er.forward:er.back:er.unknown})})};function a(){o=n.value}function c(h){i.push(h);const f=()=>{const p=i.indexOf(h);p>-1&&i.splice(p,1)};return r.push(f),f}function u(){const{history:h}=window;h.state&&h.replaceState(Te({},h.state,{scroll:xa()}),"")}function d(){for(const h of r)h();r=[],window.removeEventListener("popstate",l),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",l),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:a,listen:c,destroy:d}}function Eh(t,e,n,s=!1,i=!1){return{back:t,current:e,forward:n,replaced:s,position:window.history.length,scroll:i?xa():null}}function L_(t){const{history:e,location:n}=window,s={value:ug(t,n)},i={value:e.state};i.value||r(s.value,{back:null,current:s.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function r(a,c,u){const d=t.indexOf("#"),h=d>-1?(n.host&&document.querySelector("base")?t:t.slice(d))+a:N_()+t+a;try{e[u?"replaceState":"pushState"](c,"",h),i.value=c}catch(f){console.error(f),n[u?"replace":"assign"](h)}}function o(a,c){const u=Te({},e.state,Eh(i.value.back,a,i.value.forward,!0),c,{position:i.value.position});r(a,u,!0),s.value=a}function l(a,c){const u=Te({},i.value,e.state,{forward:a,scroll:xa()});r(u.current,u,!0);const d=Te({},Eh(s.value,a,null),{position:u.position+1},c);r(a,d,!1),s.value=a}return{location:s,state:i,push:l,replace:o}}function F_(t){t=A_(t);const e=L_(t),n=D_(t,e.state,e.location,e.replace);function s(r,o=!0){o||n.pauseListeners(),history.go(r)}const i=Te({location:"",base:t,go:s,createHref:P_.bind(null,t)},e,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function $_(t){return typeof t=="string"||t&&typeof t=="object"}function dg(t){return typeof t=="string"||typeof t=="symbol"}const Sn={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},hg=Symbol("");var Th;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(Th||(Th={}));function ai(t,e){return Te(new Error,{type:t,[hg]:!0},e)}function sn(t,e){return t instanceof Error&&hg in t&&(e==null||!!(t.type&e))}const Sh="[^/]+?",V_={sensitive:!1,strict:!1,start:!0,end:!0},U_=/[.+*?^${}()[\]/\\]/g;function B_(t,e){const n=Te({},V_,e),s=[];let i=n.start?"^":"";const r=[];for(const c of t){const u=c.length?[]:[90];n.strict&&!c.length&&(i+="/");for(let d=0;d<c.length;d++){const h=c[d];let f=40+(n.sensitive?.25:0);if(h.type===0)d||(i+="/"),i+=h.value.replace(U_,"\\$&"),f+=40;else if(h.type===1){const{value:p,repeatable:m,optional:w,regexp:y}=h;r.push({name:p,repeatable:m,optional:w});const E=y||Sh;if(E!==Sh){f+=10;try{new RegExp(`(${E})`)}catch(b){throw new Error(`Invalid custom RegExp for param "${p}" (${E}): `+b.message)}}let T=m?`((?:${E})(?:/(?:${E}))*)`:`(${E})`;d||(T=w&&c.length<2?`(?:/${T})`:"/"+T),w&&(T+="?"),i+=T,f+=20,w&&(f+=-8),m&&(f+=-20),E===".*"&&(f+=-50)}u.push(f)}s.push(u)}if(n.strict&&n.end){const c=s.length-1;s[c][s[c].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function l(c){const u=c.match(o),d={};if(!u)return null;for(let h=1;h<u.length;h++){const f=u[h]||"",p=r[h-1];d[p.name]=f&&p.repeatable?f.split("/"):f}return d}function a(c){let u="",d=!1;for(const h of t){(!d||!u.endsWith("/"))&&(u+="/"),d=!1;for(const f of h)if(f.type===0)u+=f.value;else if(f.type===1){const{value:p,repeatable:m,optional:w}=f,y=p in c?c[p]:"";if($t(y)&&!m)throw new Error(`Provided param "${p}" is an array but it is not repeatable (* or + modifiers)`);const E=$t(y)?y.join("/"):y;if(!E)if(w)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):d=!0);else throw new Error(`Missing required param "${p}"`);u+=E}}return u||"/"}return{re:o,score:s,keys:r,parse:l,stringify:a}}function z_(t,e){let n=0;for(;n<t.length&&n<e.length;){const s=e[n]-t[n];if(s)return s;n++}return t.length<e.length?t.length===1&&t[0]===40+40?-1:1:t.length>e.length?e.length===1&&e[0]===40+40?1:-1:0}function j_(t,e){let n=0;const s=t.score,i=e.score;for(;n<s.length&&n<i.length;){const r=z_(s[n],i[n]);if(r)return r;n++}if(Math.abs(i.length-s.length)===1){if(bh(s))return 1;if(bh(i))return-1}return i.length-s.length}function bh(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const H_={type:0,value:""},q_=/[a-zA-Z0-9_]/;function G_(t){if(!t)return[[]];if(t==="/")return[[H_]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(f){throw new Error(`ERR (${n})/"${c}": ${f}`)}let n=0,s=n;const i=[];let r;function o(){r&&i.push(r),r=[]}let l=0,a,c="",u="";function d(){c&&(n===0?r.push({type:0,value:c}):n===1||n===2||n===3?(r.length>1&&(a==="*"||a==="+")&&e(`A repeatable param (${c}) must be alone in its segment. eg: '/:ids+.`),r.push({type:1,value:c,regexp:u,repeatable:a==="*"||a==="+",optional:a==="*"||a==="?"})):e("Invalid state to consume buffer"),c="")}function h(){c+=a}for(;l<t.length;){if(a=t[l++],a==="\\"&&n!==2){s=n,n=4;continue}switch(n){case 0:a==="/"?(c&&d(),o()):a===":"?(d(),n=1):h();break;case 4:h(),n=s;break;case 1:a==="("?n=2:q_.test(a)?h():(d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--);break;case 2:a===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+a:n=3:u+=a;break;case 3:d(),n=0,a!=="*"&&a!=="?"&&a!=="+"&&l--,u="";break;default:e("Unknown state");break}}return n===2&&e(`Unfinished custom RegExp for param "${c}"`),d(),o(),i}function K_(t,e,n){const s=B_(G_(t.path),n),i=Te(s,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function W_(t,e){const n=[],s=new Map;e=Ah({strict:!1,end:!0,sensitive:!1},e);function i(u){return s.get(u)}function r(u,d,h){const f=!h,p=Y_(u);p.aliasOf=h&&h.record;const m=Ah(e,u),w=[p];if("alias"in u){const T=typeof u.alias=="string"?[u.alias]:u.alias;for(const b of T)w.push(Te({},p,{components:h?h.record.components:p.components,path:b,aliasOf:h?h.record:p}))}let y,E;for(const T of w){const{path:b}=T;if(d&&b[0]!=="/"){const N=d.record.path,H=N[N.length-1]==="/"?"":"/";T.path=d.record.path+(b&&H+b)}if(y=K_(T,d,m),h?h.alias.push(y):(E=E||y,E!==y&&E.alias.push(y),f&&u.name&&!Ch(y)&&o(u.name)),p.children){const N=p.children;for(let H=0;H<N.length;H++)r(N[H],y,h&&h.children[H])}h=h||y,(y.record.components&&Object.keys(y.record.components).length||y.record.name||y.record.redirect)&&a(y)}return E?()=>{o(E)}:Zi}function o(u){if(dg(u)){const d=s.get(u);d&&(s.delete(u),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(u);d>-1&&(n.splice(d,1),u.record.name&&s.delete(u.record.name),u.children.forEach(o),u.alias.forEach(o))}}function l(){return n}function a(u){let d=0;for(;d<n.length&&j_(u,n[d])>=0&&(u.record.path!==n[d].record.path||!fg(u,n[d]));)d++;n.splice(d,0,u),u.record.name&&!Ch(u)&&s.set(u.record.name,u)}function c(u,d){let h,f={},p,m;if("name"in u&&u.name){if(h=s.get(u.name),!h)throw ai(1,{location:u});m=h.record.name,f=Te(Ih(d.params,h.keys.filter(E=>!E.optional).map(E=>E.name)),u.params&&Ih(u.params,h.keys.map(E=>E.name))),p=h.stringify(f)}else if("path"in u)p=u.path,h=n.find(E=>E.re.test(p)),h&&(f=h.parse(p),m=h.record.name);else{if(h=d.name?s.get(d.name):n.find(E=>E.re.test(d.path)),!h)throw ai(1,{location:u,currentLocation:d});m=h.record.name,f=Te({},d.params,u.params),p=h.stringify(f)}const w=[];let y=h;for(;y;)w.unshift(y.record),y=y.parent;return{name:m,path:p,params:f,matched:w,meta:X_(w)}}return t.forEach(u=>r(u)),{addRoute:r,resolve:c,removeRoute:o,getRoutes:l,getRecordMatcher:i}}function Ih(t,e){const n={};for(const s of e)s in t&&(n[s]=t[s]);return n}function Y_(t){return{path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:void 0,beforeEnter:t.beforeEnter,props:Q_(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}}}function Q_(t){const e={},n=t.props||!1;if("component"in t)e.default=n;else for(const s in t.components)e[s]=typeof n=="boolean"?n:n[s];return e}function Ch(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function X_(t){return t.reduce((e,n)=>Te(e,n.meta),{})}function Ah(t,e){const n={};for(const s in t)n[s]=s in e?e[s]:t[s];return n}function fg(t,e){return e.children.some(n=>n===t||fg(t,n))}const pg=/#/g,J_=/&/g,Z_=/\//g,eE=/=/g,tE=/\?/g,gg=/\+/g,nE=/%5B/g,sE=/%5D/g,mg=/%5E/g,iE=/%60/g,vg=/%7B/g,rE=/%7C/g,yg=/%7D/g,oE=/%20/g;function hu(t){return encodeURI(""+t).replace(rE,"|").replace(nE,"[").replace(sE,"]")}function aE(t){return hu(t).replace(vg,"{").replace(yg,"}").replace(mg,"^")}function ac(t){return hu(t).replace(gg,"%2B").replace(oE,"+").replace(pg,"%23").replace(J_,"%26").replace(iE,"`").replace(vg,"{").replace(yg,"}").replace(mg,"^")}function lE(t){return ac(t).replace(eE,"%3D")}function cE(t){return hu(t).replace(pg,"%23").replace(tE,"%3F")}function uE(t){return t==null?"":cE(t).replace(Z_,"%2F")}function jo(t){try{return decodeURIComponent(""+t)}catch{}return""+t}function dE(t){const e={};if(t===""||t==="?")return e;const s=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<s.length;++i){const r=s[i].replace(gg," "),o=r.indexOf("="),l=jo(o<0?r:r.slice(0,o)),a=o<0?null:jo(r.slice(o+1));if(l in e){let c=e[l];$t(c)||(c=e[l]=[c]),c.push(a)}else e[l]=a}return e}function xh(t){let e="";for(let n in t){const s=t[n];if(n=lE(n),s==null){s!==void 0&&(e+=(e.length?"&":"")+n);continue}($t(s)?s.map(r=>r&&ac(r)):[s&&ac(s)]).forEach(r=>{r!==void 0&&(e+=(e.length?"&":"")+n,r!=null&&(e+="="+r))})}return e}function hE(t){const e={};for(const n in t){const s=t[n];s!==void 0&&(e[n]=$t(s)?s.map(i=>i==null?null:""+i):s==null?s:""+s)}return e}const fE=Symbol(""),Ph=Symbol(""),Pa=Symbol(""),wg=Symbol(""),lc=Symbol("");function $i(){let t=[];function e(s){return t.push(s),()=>{const i=t.indexOf(s);i>-1&&t.splice(i,1)}}function n(){t=[]}return{add:e,list:()=>t,reset:n}}function Cn(t,e,n,s,i){const r=s&&(s.enterCallbacks[i]=s.enterCallbacks[i]||[]);return()=>new Promise((o,l)=>{const a=d=>{d===!1?l(ai(4,{from:n,to:e})):d instanceof Error?l(d):$_(d)?l(ai(2,{from:e,to:d})):(r&&s.enterCallbacks[i]===r&&typeof d=="function"&&r.push(d),o())},c=t.call(s&&s.instances[i],e,n,a);let u=Promise.resolve(c);t.length<3&&(u=u.then(a)),u.catch(d=>l(d))})}function vl(t,e,n,s){const i=[];for(const r of t)for(const o in r.components){let l=r.components[o];if(!(e!=="beforeRouteEnter"&&!r.instances[o]))if(pE(l)){const c=(l.__vccOpts||l)[e];c&&i.push(Cn(c,n,s,r,o))}else{let a=l();i.push(()=>a.then(c=>{if(!c)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${r.path}"`));const u=__(c)?c.default:c;r.components[o]=u;const h=(u.__vccOpts||u)[e];return h&&Cn(h,n,s,r,o)()}))}}return i}function pE(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function kh(t){const e=Qt(Pa),n=Qt(wg),s=it(()=>e.resolve(Ye(t.to))),i=it(()=>{const{matched:a}=s.value,{length:c}=a,u=a[c-1],d=n.matched;if(!u||!d.length)return-1;const h=d.findIndex(oi.bind(null,u));if(h>-1)return h;const f=Rh(a[c-2]);return c>1&&Rh(u)===f&&d[d.length-1].path!==f?d.findIndex(oi.bind(null,a[c-2])):h}),r=it(()=>i.value>-1&&vE(n.params,s.value.params)),o=it(()=>i.value>-1&&i.value===n.matched.length-1&&cg(n.params,s.value.params));function l(a={}){return mE(a)?e[Ye(t.replace)?"replace":"push"](Ye(t.to)).catch(Zi):Promise.resolve()}return{route:s,href:it(()=>s.value.href),isActive:r,isExactActive:o,navigate:l}}const gE=zp({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:kh,setup(t,{slots:e}){const n=Nr(kh(t)),{options:s}=Qt(Pa),i=it(()=>({[Oh(t.activeClass,s.linkActiveClass,"router-link-active")]:n.isActive,[Oh(t.exactActiveClass,s.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const r=e.default&&e.default(n);return t.custom?r:wt("a",{"aria-current":n.isExactActive?t.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},r)}}}),vs=gE;function mE(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function vE(t,e){for(const n in e){const s=e[n],i=t[n];if(typeof s=="string"){if(s!==i)return!1}else if(!$t(i)||i.length!==s.length||s.some((r,o)=>r!==i[o]))return!1}return!0}function Rh(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const Oh=(t,e,n)=>t??e??n,yE=zp({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:n}){const s=Qt(lc),i=it(()=>t.route||s.value),r=Qt(Ph,0),o=it(()=>{let c=Ye(r);const{matched:u}=i.value;let d;for(;(d=u[c])&&!d.components;)c++;return c}),l=it(()=>i.value.matched[o.value]);qs(Ph,it(()=>o.value+1)),qs(fE,l),qs(lc,i);const a=Z();return ds(()=>[a.value,l.value,t.name],([c,u,d],[h,f,p])=>{u&&(u.instances[d]=c,f&&f!==u&&c&&c===h&&(u.leaveGuards.size||(u.leaveGuards=f.leaveGuards),u.updateGuards.size||(u.updateGuards=f.updateGuards))),c&&u&&(!f||!oi(u,f)||!h)&&(u.enterCallbacks[d]||[]).forEach(m=>m(c))},{flush:"post"}),()=>{const c=i.value,u=t.name,d=l.value,h=d&&d.components[u];if(!h)return Mh(n.default,{Component:h,route:c});const f=d.props[u],p=f?f===!0?c.params:typeof f=="function"?f(c):f:null,w=wt(h,Te({},p,e,{onVnodeUnmounted:y=>{y.component.isUnmounted&&(d.instances[u]=null)},ref:a}));return Mh(n.default,{Component:w,route:c})||w}}});function Mh(t,e){if(!t)return null;const n=t(e);return n.length===1?n[0]:n}const _g=yE;function wE(t){const e=W_(t.routes,t),n=t.parseQuery||dE,s=t.stringifyQuery||xh,i=t.history,r=$i(),o=$i(),l=$i(),a=Fw(Sn);let c=Sn;Ds&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=gl.bind(null,S=>""+S),d=gl.bind(null,uE),h=gl.bind(null,jo);function f(S,B){let D,W;return dg(S)?(D=e.getRecordMatcher(S),W=B):W=S,e.addRoute(W,D)}function p(S){const B=e.getRecordMatcher(S);B&&e.removeRoute(B)}function m(){return e.getRoutes().map(S=>S.record)}function w(S){return!!e.getRecordMatcher(S)}function y(S,B){if(B=Te({},B||a.value),typeof S=="string"){const _=ml(n,S,B.path),C=e.resolve({path:_.path},B),x=i.createHref(_.fullPath);return Te(_,C,{params:h(C.params),hash:jo(_.hash),redirectedFrom:void 0,href:x})}let D;if("path"in S)D=Te({},S,{path:ml(n,S.path,B.path).path});else{const _=Te({},S.params);for(const C in _)_[C]==null&&delete _[C];D=Te({},S,{params:d(_)}),B.params=d(B.params)}const W=e.resolve(D,B),Ee=S.hash||"";W.params=u(h(W.params));const g=S_(s,Te({},S,{hash:aE(Ee),path:W.path})),v=i.createHref(g);return Te({fullPath:g,hash:Ee,query:s===xh?hE(S.query):S.query||{}},W,{redirectedFrom:void 0,href:v})}function E(S){return typeof S=="string"?ml(n,S,a.value.path):Te({},S)}function T(S,B){if(c!==S)return ai(8,{from:B,to:S})}function b(S){return K(S)}function N(S){return b(Te(E(S),{replace:!0}))}function H(S){const B=S.matched[S.matched.length-1];if(B&&B.redirect){const{redirect:D}=B;let W=typeof D=="function"?D(S):D;return typeof W=="string"&&(W=W.includes("?")||W.includes("#")?W=E(W):{path:W},W.params={}),Te({query:S.query,hash:S.hash,params:"path"in W?{}:S.params},W)}}function K(S,B){const D=c=y(S),W=a.value,Ee=S.state,g=S.force,v=S.replace===!0,_=H(D);if(_)return K(Te(E(_),{state:typeof _=="object"?Te({},Ee,_.state):Ee,force:g,replace:v}),B||D);const C=D;C.redirectedFrom=B;let x;return!g&&b_(s,W,D)&&(x=ai(16,{to:C,from:W}),mt(W,W,!0,!1)),(x?Promise.resolve(x):P(C,W)).catch(R=>sn(R)?sn(R,2)?R:Et(R):ue(R,C,W)).then(R=>{if(R){if(sn(R,2))return K(Te({replace:v},E(R.to),{state:typeof R.to=="object"?Te({},Ee,R.to.state):Ee,force:g}),B||C)}else R=ne(C,W,!0,v,Ee);return F(C,W,R),R})}function $(S,B){const D=T(S,B);return D?Promise.reject(D):Promise.resolve()}function k(S){const B=En.values().next().value;return B&&typeof B.runWithContext=="function"?B.runWithContext(S):S()}function P(S,B){let D;const[W,Ee,g]=_E(S,B);D=vl(W.reverse(),"beforeRouteLeave",S,B);for(const _ of W)_.leaveGuards.forEach(C=>{D.push(Cn(C,S,B))});const v=$.bind(null,S,B);return D.push(v),ee(D).then(()=>{D=[];for(const _ of r.list())D.push(Cn(_,S,B));return D.push(v),ee(D)}).then(()=>{D=vl(Ee,"beforeRouteUpdate",S,B);for(const _ of Ee)_.updateGuards.forEach(C=>{D.push(Cn(C,S,B))});return D.push(v),ee(D)}).then(()=>{D=[];for(const _ of S.matched)if(_.beforeEnter&&!B.matched.includes(_))if($t(_.beforeEnter))for(const C of _.beforeEnter)D.push(Cn(C,S,B));else D.push(Cn(_.beforeEnter,S,B));return D.push(v),ee(D)}).then(()=>(S.matched.forEach(_=>_.enterCallbacks={}),D=vl(g,"beforeRouteEnter",S,B),D.push(v),ee(D))).then(()=>{D=[];for(const _ of o.list())D.push(Cn(_,S,B));return D.push(v),ee(D)}).catch(_=>sn(_,8)?_:Promise.reject(_))}function F(S,B,D){for(const W of l.list())k(()=>W(S,B,D))}function ne(S,B,D,W,Ee){const g=T(S,B);if(g)return g;const v=B===Sn,_=Ds?history.state:{};D&&(W||v?i.replace(S.fullPath,Te({scroll:v&&_&&_.scroll},Ee)):i.push(S.fullPath,Ee)),a.value=S,mt(S,B,D,v),Et()}let q;function ge(){q||(q=i.listen((S,B,D)=>{if(!Zn.listening)return;const W=y(S),Ee=H(W);if(Ee){K(Te(Ee,{replace:!0}),W).catch(Zi);return}c=W;const g=a.value;Ds&&O_(_h(g.fullPath,D.delta),xa()),P(W,g).catch(v=>sn(v,12)?v:sn(v,2)?(K(v.to,W).then(_=>{sn(_,20)&&!D.delta&&D.type===fr.pop&&i.go(-1,!1)}).catch(Zi),Promise.reject()):(D.delta&&i.go(-D.delta,!1),ue(v,W,g))).then(v=>{v=v||ne(W,g,!1),v&&(D.delta&&!sn(v,8)?i.go(-D.delta,!1):D.type===fr.pop&&sn(v,20)&&i.go(-1,!1)),F(W,g,v)}).catch(Zi)}))}let Ie=$i(),_e=$i(),ve;function ue(S,B,D){Et(S);const W=_e.list();return W.length?W.forEach(Ee=>Ee(S,B,D)):console.error(S),Promise.reject(S)}function gt(){return ve&&a.value!==Sn?Promise.resolve():new Promise((S,B)=>{Ie.add([S,B])})}function Et(S){return ve||(ve=!S,ge(),Ie.list().forEach(([B,D])=>S?D(S):B()),Ie.reset()),S}function mt(S,B,D,W){const{scrollBehavior:Ee}=t;if(!Ds||!Ee)return Promise.resolve();const g=!D&&M_(_h(S.fullPath,0))||(W||!D)&&history.state&&history.state.scroll||null;return Hs().then(()=>Ee(S,B,g)).then(v=>v&&R_(v)).catch(v=>ue(v,S,B))}const ze=S=>i.go(S);let _n;const En=new Set,Zn={currentRoute:a,listening:!0,addRoute:f,removeRoute:p,hasRoute:w,getRoutes:m,resolve:y,options:t,push:b,replace:N,go:ze,back:()=>ze(-1),forward:()=>ze(1),beforeEach:r.add,beforeResolve:o.add,afterEach:l.add,onError:_e.add,isReady:gt,install(S){const B=this;S.component("RouterLink",vs),S.component("RouterView",_g),S.config.globalProperties.$router=B,Object.defineProperty(S.config.globalProperties,"$route",{enumerable:!0,get:()=>Ye(a)}),Ds&&!_n&&a.value===Sn&&(_n=!0,b(i.location).catch(Ee=>{}));const D={};for(const Ee in Sn)D[Ee]=it(()=>a.value[Ee]);S.provide(Pa,B),S.provide(wg,Nr(D)),S.provide(lc,a);const W=S.unmount;En.add(S),S.unmount=function(){En.delete(S),En.size<1&&(c=Sn,q&&q(),q=null,a.value=Sn,_n=!1,ve=!1),W()}}};function ee(S){return S.reduce((B,D)=>B.then(()=>k(D)),Promise.resolve())}return Zn}function _E(t,e){const n=[],s=[],i=[],r=Math.max(e.matched.length,t.matched.length);for(let o=0;o<r;o++){const l=e.matched[o];l&&(t.matched.find(c=>oi(c,l))?s.push(l):n.push(l));const a=t.matched[o];a&&(e.matched.find(c=>oi(c,a))||i.push(a))}return[n,s,i]}function fu(){return Qt(Pa)}const EE={__name:"App",setup(t){return(e,n)=>(Ve(),sg(Ye(_g)))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=function(t){const e=[];let n=0;for(let s=0;s<t.length;s++){let i=t.charCodeAt(s);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&s+1<t.length&&(t.charCodeAt(s+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++s)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},TE=function(t){const e=[];let n=0,s=0;for(;n<t.length;){const i=t[n++];if(i<128)e[s++]=String.fromCharCode(i);else if(i>191&&i<224){const r=t[n++];e[s++]=String.fromCharCode((i&31)<<6|r&63)}else if(i>239&&i<365){const r=t[n++],o=t[n++],l=t[n++],a=((i&7)<<18|(r&63)<<12|(o&63)<<6|l&63)-65536;e[s++]=String.fromCharCode(55296+(a>>10)),e[s++]=String.fromCharCode(56320+(a&1023))}else{const r=t[n++],o=t[n++];e[s++]=String.fromCharCode((i&15)<<12|(r&63)<<6|o&63)}}return e.join("")},Tg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let i=0;i<t.length;i+=3){const r=t[i],o=i+1<t.length,l=o?t[i+1]:0,a=i+2<t.length,c=a?t[i+2]:0,u=r>>2,d=(r&3)<<4|l>>4;let h=(l&15)<<2|c>>6,f=c&63;a||(f=64,o||(h=64)),s.push(n[u],n[d],n[h],n[f])}return s.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(Eg(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):TE(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let i=0;i<t.length;){const r=n[t.charAt(i++)],l=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const d=i<t.length?n[t.charAt(i)]:64;if(++i,r==null||l==null||c==null||d==null)throw new SE;const h=r<<2|l>>4;if(s.push(h),c!==64){const f=l<<4&240|c>>2;if(s.push(f),d!==64){const p=c<<6&192|d;s.push(p)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class SE extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const bE=function(t){const e=Eg(t);return Tg.encodeByteArray(e,!0)},Ho=function(t){return bE(t).replace(/\./g,"")},Sg=function(t){try{return Tg.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IE(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE=()=>IE().__FIREBASE_DEFAULTS__,AE=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},xE=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Sg(t[1]);return e&&JSON.parse(e)},pu=()=>{try{return CE()||AE()||xE()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},bg=t=>{var e,n;return(n=(e=pu())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},PE=t=>{const e=bg(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},Ig=()=>{var t;return(t=pu())===null||t===void 0?void 0:t.config},Cg=t=>{var e;return(e=pu())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RE(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",i=t.iat||0,r=t.sub||t.user_id;if(!r)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:i,exp:i+3600,auth_time:i,sub:r,user_id:r,firebase:{sign_in_provider:"custom",identities:{}}},t),l="";return[Ho(JSON.stringify(n)),Ho(JSON.stringify(o)),l].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ut(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function OE(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ut())}function ME(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function NE(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DE(){const t=ut();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function LE(){try{return typeof indexedDB=="object"}catch{return!1}}function FE(){return new Promise((t,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(s);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(s),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var r;e(((r=i.error)===null||r===void 0?void 0:r.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $E="FirebaseError";class wn extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=$E,Object.setPrototypeOf(this,wn.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Dr.prototype.create)}}class Dr{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},i=`${this.service}/${e}`,r=this.errors[e],o=r?VE(r,s):"Error",l=`${this.serviceName}: ${o} (${i}).`;return new wn(i,l,s)}}function VE(t,e){return t.replace(UE,(n,s)=>{const i=e[s];return i!=null?String(i):`<${s}?>`})}const UE=/\{\$([^}]+)}/g;function BE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function qo(t,e){if(t===e)return!0;const n=Object.keys(t),s=Object.keys(e);for(const i of n){if(!s.includes(i))return!1;const r=t[i],o=e[i];if(Nh(r)&&Nh(o)){if(!qo(r,o))return!1}else if(r!==o)return!1}for(const i of s)if(!n.includes(i))return!1;return!0}function Nh(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lr(t){const e=[];for(const[n,s]of Object.entries(t))Array.isArray(s)?s.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(s));return e.length?"&"+e.join("&"):""}function Hi(t){const e={};return t.replace(/^\?/,"").split("&").forEach(s=>{if(s){const[i,r]=s.split("=");e[decodeURIComponent(i)]=decodeURIComponent(r)}}),e}function qi(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function zE(t,e){const n=new jE(t,e);return n.subscribe.bind(n)}class jE{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(s=>{this.error(s)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,s){let i;if(e===void 0&&n===void 0&&s===void 0)throw new Error("Missing Observer.");HE(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:s},i.next===void 0&&(i.next=yl),i.error===void 0&&(i.error=yl),i.complete===void 0&&(i.complete=yl);const r=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),r}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function HE(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function yl(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class ys{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qE{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new kE;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&s.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(r){if(i)return null;throw r}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(KE(e))try{this.getOrInitializeService({instanceIdentifier:ns})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const r=this.getOrInitializeService({instanceIdentifier:i});s.resolve(r)}catch{}}}}clearInstance(e=ns){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ns){return this.instances.has(e)}getOptions(e=ns){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[r,o]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(r);s===l&&o.resolve(i)}return i}onInit(e,n){var s;const i=this.normalizeInstanceIdentifier(n),r=(s=this.onInitCallbacks.get(i))!==null&&s!==void 0?s:new Set;r.add(e),this.onInitCallbacks.set(i,r);const o=this.instances.get(i);return o&&e(o,i),()=>{r.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const i of s)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:GE(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=ns){return this.component?this.component.multipleInstances?e:ns:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GE(t){return t===ns?void 0:t}function KE(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new qE(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var me;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(me||(me={}));const YE={debug:me.DEBUG,verbose:me.VERBOSE,info:me.INFO,warn:me.WARN,error:me.ERROR,silent:me.SILENT},QE=me.INFO,XE={[me.DEBUG]:"log",[me.VERBOSE]:"log",[me.INFO]:"info",[me.WARN]:"warn",[me.ERROR]:"error"},JE=(t,e,...n)=>{if(e<t.logLevel)return;const s=new Date().toISOString(),i=XE[e];if(i)console[i](`[${s}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class gu{constructor(e){this.name=e,this._logLevel=QE,this._logHandler=JE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in me))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?YE[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,me.DEBUG,...e),this._logHandler(this,me.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,me.VERBOSE,...e),this._logHandler(this,me.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,me.INFO,...e),this._logHandler(this,me.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,me.WARN,...e),this._logHandler(this,me.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,me.ERROR,...e),this._logHandler(this,me.ERROR,...e)}}const ZE=(t,e)=>e.some(n=>t instanceof n);let Dh,Lh;function eT(){return Dh||(Dh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function tT(){return Lh||(Lh=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Ag=new WeakMap,cc=new WeakMap,xg=new WeakMap,wl=new WeakMap,mu=new WeakMap;function nT(t){const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("success",r),t.removeEventListener("error",o)},r=()=>{n(Vn(t.result)),i()},o=()=>{s(t.error),i()};t.addEventListener("success",r),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&Ag.set(n,t)}).catch(()=>{}),mu.set(e,t),e}function sT(t){if(cc.has(t))return;const e=new Promise((n,s)=>{const i=()=>{t.removeEventListener("complete",r),t.removeEventListener("error",o),t.removeEventListener("abort",o)},r=()=>{n(),i()},o=()=>{s(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",r),t.addEventListener("error",o),t.addEventListener("abort",o)});cc.set(t,e)}let uc={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return cc.get(t);if(e==="objectStoreNames")return t.objectStoreNames||xg.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Vn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function iT(t){uc=t(uc)}function rT(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=t.call(_l(this),e,...n);return xg.set(s,e.sort?e.sort():[e]),Vn(s)}:tT().includes(t)?function(...e){return t.apply(_l(this),e),Vn(Ag.get(this))}:function(...e){return Vn(t.apply(_l(this),e))}}function oT(t){return typeof t=="function"?rT(t):(t instanceof IDBTransaction&&sT(t),ZE(t,eT())?new Proxy(t,uc):t)}function Vn(t){if(t instanceof IDBRequest)return nT(t);if(wl.has(t))return wl.get(t);const e=oT(t);return e!==t&&(wl.set(t,e),mu.set(e,t)),e}const _l=t=>mu.get(t);function aT(t,e,{blocked:n,upgrade:s,blocking:i,terminated:r}={}){const o=indexedDB.open(t,e),l=Vn(o);return s&&o.addEventListener("upgradeneeded",a=>{s(Vn(o.result),a.oldVersion,a.newVersion,Vn(o.transaction),a)}),n&&o.addEventListener("blocked",a=>n(a.oldVersion,a.newVersion,a)),l.then(a=>{r&&a.addEventListener("close",()=>r()),i&&a.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),l}const lT=["get","getKey","getAll","getAllKeys","count"],cT=["put","add","delete","clear"],El=new Map;function Fh(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(El.get(e))return El.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,i=cT.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(i||lT.includes(n)))return;const r=async function(o,...l){const a=this.transaction(o,i?"readwrite":"readonly");let c=a.store;return s&&(c=c.index(l.shift())),(await Promise.all([c[n](...l),i&&a.done]))[0]};return El.set(e,r),r}iT(t=>({...t,get:(e,n,s)=>Fh(e,n)||t.get(e,n,s),has:(e,n)=>!!Fh(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(dT(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function dT(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dc="@firebase/app",$h="0.9.12";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ws=new gu("@firebase/app"),hT="@firebase/app-compat",fT="@firebase/analytics-compat",pT="@firebase/analytics",gT="@firebase/app-check-compat",mT="@firebase/app-check",vT="@firebase/auth",yT="@firebase/auth-compat",wT="@firebase/database",_T="@firebase/database-compat",ET="@firebase/functions",TT="@firebase/functions-compat",ST="@firebase/installations",bT="@firebase/installations-compat",IT="@firebase/messaging",CT="@firebase/messaging-compat",AT="@firebase/performance",xT="@firebase/performance-compat",PT="@firebase/remote-config",kT="@firebase/remote-config-compat",RT="@firebase/storage",OT="@firebase/storage-compat",MT="@firebase/firestore",NT="@firebase/firestore-compat",DT="firebase",LT="9.22.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hc="[DEFAULT]",FT={[dc]:"fire-core",[hT]:"fire-core-compat",[pT]:"fire-analytics",[fT]:"fire-analytics-compat",[mT]:"fire-app-check",[gT]:"fire-app-check-compat",[vT]:"fire-auth",[yT]:"fire-auth-compat",[wT]:"fire-rtdb",[_T]:"fire-rtdb-compat",[ET]:"fire-fn",[TT]:"fire-fn-compat",[ST]:"fire-iid",[bT]:"fire-iid-compat",[IT]:"fire-fcm",[CT]:"fire-fcm-compat",[AT]:"fire-perf",[xT]:"fire-perf-compat",[PT]:"fire-rc",[kT]:"fire-rc-compat",[RT]:"fire-gcs",[OT]:"fire-gcs-compat",[MT]:"fire-fst",[NT]:"fire-fst-compat","fire-js":"fire-js",[DT]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new Map,fc=new Map;function $T(t,e){try{t.container.addComponent(e)}catch(n){ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function li(t){const e=t.name;if(fc.has(e))return ws.debug(`There were multiple attempts to register component ${e}.`),!1;fc.set(e,t);for(const n of Go.values())$T(n,t);return!0}function vu(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Un=new Dr("app","Firebase",VT);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ys("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Un.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ti=LT;function Pg(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const s=Object.assign({name:hc,automaticDataCollectionEnabled:!1},e),i=s.name;if(typeof i!="string"||!i)throw Un.create("bad-app-name",{appName:String(i)});if(n||(n=Ig()),!n)throw Un.create("no-options");const r=Go.get(i);if(r){if(qo(n,r.options)&&qo(s,r.config))return r;throw Un.create("duplicate-app",{appName:i})}const o=new WE(i);for(const a of fc.values())o.addComponent(a);const l=new UT(n,s,o);return Go.set(i,l),l}function kg(t=hc){const e=Go.get(t);if(!e&&t===hc&&Ig())return Pg();if(!e)throw Un.create("no-app",{appName:t});return e}function Bn(t,e,n){var s;let i=(s=FT[t])!==null&&s!==void 0?s:t;n&&(i+=`-${n}`);const r=i.match(/\s|\//),o=e.match(/\s|\//);if(r||o){const l=[`Unable to register library "${i}" with version "${e}":`];r&&l.push(`library name "${i}" contains illegal characters (whitespace or "/")`),r&&o&&l.push("and"),o&&l.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ws.warn(l.join(" "));return}li(new ys(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BT="firebase-heartbeat-database",zT=1,pr="firebase-heartbeat-store";let Tl=null;function Rg(){return Tl||(Tl=aT(BT,zT,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(pr)}}}).catch(t=>{throw Un.create("idb-open",{originalErrorMessage:t.message})})),Tl}async function jT(t){try{return await(await Rg()).transaction(pr).objectStore(pr).get(Og(t))}catch(e){if(e instanceof wn)ws.warn(e.message);else{const n=Un.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ws.warn(n.message)}}}async function Vh(t,e){try{const s=(await Rg()).transaction(pr,"readwrite");await s.objectStore(pr).put(e,Og(t)),await s.done}catch(n){if(n instanceof wn)ws.warn(n.message);else{const s=Un.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});ws.warn(s.message)}}}function Og(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HT=1024,qT=30*24*60*60*1e3;class GT{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new WT(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Uh();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(i=>i.date===s)))return this._heartbeatsCache.heartbeats.push({date:s,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const r=new Date(i.date).valueOf();return Date.now()-r<=qT}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=Uh(),{heartbeatsToSend:n,unsentEntries:s}=KT(this._heartbeatsCache.heartbeats),i=Ho(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=e,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function Uh(){return new Date().toISOString().substring(0,10)}function KT(t,e=HT){const n=[];let s=t.slice();for(const i of t){const r=n.find(o=>o.agent===i.agent);if(r){if(r.dates.push(i.date),Bh(n)>e){r.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),Bh(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class WT{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return LE()?FE().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await jT(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Vh(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Bh(t){return Ho(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YT(t){li(new ys("platform-logger",e=>new uT(e),"PRIVATE")),li(new ys("heartbeat",e=>new GT(e),"PRIVATE")),Bn(dc,$h,t),Bn(dc,$h,"esm2017"),Bn("fire-js","")}YT("");function yu(t,e){var n={};for(var s in t)Object.prototype.hasOwnProperty.call(t,s)&&e.indexOf(s)<0&&(n[s]=t[s]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,s=Object.getOwnPropertySymbols(t);i<s.length;i++)e.indexOf(s[i])<0&&Object.prototype.propertyIsEnumerable.call(t,s[i])&&(n[s[i]]=t[s[i]]);return n}function Mg(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const QT=Mg,Ng=new Dr("auth","Firebase",Mg());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ko=new gu("@firebase/auth");function XT(t,...e){Ko.logLevel<=me.WARN&&Ko.warn(`Auth (${Ti}): ${t}`,...e)}function Ao(t,...e){Ko.logLevel<=me.ERROR&&Ko.error(`Auth (${Ti}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t,...e){throw wu(t,...e)}function Xt(t,...e){return wu(t,...e)}function JT(t,e,n){const s=Object.assign(Object.assign({},QT()),{[e]:n});return new Dr("auth","Firebase",s).create(e,{appName:t.name})}function wu(t,...e){if(typeof t!="string"){const n=e[0],s=[...e.slice(1)];return s[0]&&(s[0].appName=t.name),t._errorFactory.create(n,...s)}return Ng.create(t,...e)}function se(t,e,...n){if(!t)throw wu(e,...n)}function cn(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Ao(e),new Error(e)}function fn(t,e){t||cn(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pc(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function ZT(){return zh()==="http:"||zh()==="https:"}function zh(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(ZT()||ME()||"connection"in navigator)?navigator.onLine:!0}function tS(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fr{constructor(e,n){this.shortDelay=e,this.longDelay=n,fn(n>e,"Short delay should be less than long delay!"),this.isMobile=OE()||NE()}get(){return eS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _u(t,e){fn(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{static initialize(e,n,s){this.fetchImpl=e,n&&(this.headersImpl=n),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;cn("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;cn("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;cn("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sS=new Fr(3e4,6e4);function Si(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function bi(t,e,n,s,i={}){return Lg(t,i,async()=>{let r={},o={};s&&(e==="GET"?o=s:r={body:JSON.stringify(s)});const l=Lr(Object.assign({key:t.config.apiKey},o)).slice(1),a=await t._getAdditionalHeaders();return a["Content-Type"]="application/json",t.languageCode&&(a["X-Firebase-Locale"]=t.languageCode),Dg.fetch()(Fg(t,t.config.apiHost,n,l),Object.assign({method:e,headers:a,referrerPolicy:"no-referrer"},r))})}async function Lg(t,e,n){t._canInitEmulator=!1;const s=Object.assign(Object.assign({},nS),e);try{const i=new iS(t),r=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await r.json();if("needConfirmation"in o)throw co(t,"account-exists-with-different-credential",o);if(r.ok&&!("errorMessage"in o))return o;{const l=r.ok?o.errorMessage:o.error.message,[a,c]=l.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw co(t,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw co(t,"email-already-in-use",o);if(a==="USER_DISABLED")throw co(t,"user-disabled",o);const u=s[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw JT(t,u,c);Vt(t,u)}}catch(i){if(i instanceof wn)throw i;Vt(t,"network-request-failed",{message:String(i)})}}async function $r(t,e,n,s,i={}){const r=await bi(t,e,n,s,i);return"mfaPendingCredential"in r&&Vt(t,"multi-factor-auth-required",{_serverResponse:r}),r}function Fg(t,e,n,s){const i=`${e}${n}?${s}`;return t.config.emulator?_u(t.config,i):`${t.config.apiScheme}://${i}`}class iS{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,s)=>{this.timer=setTimeout(()=>s(Xt(this.auth,"network-request-failed")),sS.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function co(t,e,n){const s={appName:t.name};n.email&&(s.email=n.email),n.phoneNumber&&(s.phoneNumber=n.phoneNumber);const i=Xt(t,e,s);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rS(t,e){return bi(t,"POST","/v1/accounts:delete",e)}async function oS(t,e){return bi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tr(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function aS(t,e=!1){const n=dt(t),s=await n.getIdToken(e),i=Eu(s);se(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const r=typeof i.firebase=="object"?i.firebase:void 0,o=r==null?void 0:r.sign_in_provider;return{claims:i,token:s,authTime:tr(Sl(i.auth_time)),issuedAtTime:tr(Sl(i.iat)),expirationTime:tr(Sl(i.exp)),signInProvider:o||null,signInSecondFactor:(r==null?void 0:r.sign_in_second_factor)||null}}function Sl(t){return Number(t)*1e3}function Eu(t){const[e,n,s]=t.split(".");if(e===void 0||n===void 0||s===void 0)return Ao("JWT malformed, contained fewer than 3 sections"),null;try{const i=Sg(n);return i?JSON.parse(i):(Ao("Failed to decode base64 JWT payload"),null)}catch(i){return Ao("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lS(t){const e=Eu(t);return se(e,"internal-error"),se(typeof e.exp<"u","internal-error"),se(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gr(t,e,n=!1){if(n)return e;try{return await e}catch(s){throw s instanceof wn&&cS(s)&&t.auth.currentUser===t&&await t.auth.signOut(),s}}function cS({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uS{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=tr(this.lastLoginAt),this.creationTime=tr(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wo(t){var e;const n=t.auth,s=await t.getIdToken(),i=await gr(t,oS(n,{idToken:s}));se(i==null?void 0:i.users.length,n,"internal-error");const r=i.users[0];t._notifyReloadListener(r);const o=!((e=r.providerUserInfo)===null||e===void 0)&&e.length?fS(r.providerUserInfo):[],l=hS(t.providerData,o),a=t.isAnonymous,c=!(t.email&&r.passwordHash)&&!(l!=null&&l.length),u=a?c:!1,d={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:l,metadata:new $g(r.createdAt,r.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function dS(t){const e=dt(t);await Wo(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function hS(t,e){return[...t.filter(s=>!e.some(i=>i.providerId===s.providerId)),...e]}function fS(t){return t.map(e=>{var{providerId:n}=e,s=yu(e,["providerId"]);return{providerId:n,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function pS(t,e){const n=await Lg(t,{},async()=>{const s=Lr({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:r}=t.config,o=Fg(t,i,"/v1/token",`key=${r}`),l=await t._getAdditionalHeaders();return l["Content-Type"]="application/x-www-form-urlencoded",Dg.fetch()(o,{method:"POST",headers:l,body:s})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mr{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){se(e.idToken,"internal-error"),se(typeof e.idToken<"u","internal-error"),se(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}async getToken(e,n=!1){return se(!this.accessToken||this.refreshToken,e,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:s,refreshToken:i,expiresIn:r}=await pS(e,n);this.updateTokensAndExpiration(s,i,Number(r))}updateTokensAndExpiration(e,n,s){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(e,n){const{refreshToken:s,accessToken:i,expirationTime:r}=n,o=new mr;return s&&(se(typeof s=="string","internal-error",{appName:e}),o.refreshToken=s),i&&(se(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),r&&(se(typeof r=="number","internal-error",{appName:e}),o.expirationTime=r),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new mr,this.toJSON())}_performRefresh(){return cn("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bn(t,e){se(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class fs{constructor(e){var{uid:n,auth:s,stsTokenManager:i}=e,r=yu(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new uS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=s,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=r.displayName||null,this.email=r.email||null,this.emailVerified=r.emailVerified||!1,this.phoneNumber=r.phoneNumber||null,this.photoURL=r.photoURL||null,this.isAnonymous=r.isAnonymous||!1,this.tenantId=r.tenantId||null,this.providerData=r.providerData?[...r.providerData]:[],this.metadata=new $g(r.createdAt||void 0,r.lastLoginAt||void 0)}async getIdToken(e){const n=await gr(this,this.stsTokenManager.getToken(this.auth,e));return se(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return aS(this,e)}reload(){return dS(this)}_assign(e){this!==e&&(se(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new fs(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){se(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let s=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),s=!0),n&&await Wo(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){const e=await this.getIdToken();return await gr(this,rS(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var s,i,r,o,l,a,c,u;const d=(s=n.displayName)!==null&&s!==void 0?s:void 0,h=(i=n.email)!==null&&i!==void 0?i:void 0,f=(r=n.phoneNumber)!==null&&r!==void 0?r:void 0,p=(o=n.photoURL)!==null&&o!==void 0?o:void 0,m=(l=n.tenantId)!==null&&l!==void 0?l:void 0,w=(a=n._redirectEventId)!==null&&a!==void 0?a:void 0,y=(c=n.createdAt)!==null&&c!==void 0?c:void 0,E=(u=n.lastLoginAt)!==null&&u!==void 0?u:void 0,{uid:T,emailVerified:b,isAnonymous:N,providerData:H,stsTokenManager:K}=n;se(T&&K,e,"internal-error");const $=mr.fromJSON(this.name,K);se(typeof T=="string",e,"internal-error"),bn(d,e.name),bn(h,e.name),se(typeof b=="boolean",e,"internal-error"),se(typeof N=="boolean",e,"internal-error"),bn(f,e.name),bn(p,e.name),bn(m,e.name),bn(w,e.name),bn(y,e.name),bn(E,e.name);const k=new fs({uid:T,auth:e,email:h,emailVerified:b,displayName:d,isAnonymous:N,photoURL:p,phoneNumber:f,tenantId:m,stsTokenManager:$,createdAt:y,lastLoginAt:E});return H&&Array.isArray(H)&&(k.providerData=H.map(P=>Object.assign({},P))),w&&(k._redirectEventId=w),k}static async _fromIdTokenResponse(e,n,s=!1){const i=new mr;i.updateFromServerResponse(n);const r=new fs({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:s});return await Wo(r),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jh=new Map;function un(t){fn(t instanceof Function,"Expected a class definition");let e=jh.get(t);return e?(fn(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,jh.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vg{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}Vg.type="NONE";const Hh=Vg;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xo(t,e,n){return`firebase:${t}:${e}:${n}`}class Gs{constructor(e,n,s){this.persistence=e,this.auth=n,this.userKey=s;const{config:i,name:r}=this.auth;this.fullUserKey=xo(this.userKey,i.apiKey,r),this.fullPersistenceKey=xo("persistence",i.apiKey,r),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?fs._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,s="authUser"){if(!n.length)return new Gs(un(Hh),e,s);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let r=i[0]||un(Hh);const o=xo(s,e.config.apiKey,e.name);let l=null;for(const c of n)try{const u=await c._get(o);if(u){const d=fs._fromJSON(e,u);c!==r&&(l=d),r=c;break}}catch{}const a=i.filter(c=>c._shouldAllowMigration);return!r._shouldAllowMigration||!a.length?new Gs(r,e,s):(r=a[0],l&&await r._set(o,l.toJSON()),await Promise.all(n.map(async c=>{if(c!==r)try{await c._remove(o)}catch{}})),new Gs(r,e,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qh(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(zg(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(Ug(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Hg(e))return"Blackberry";if(qg(e))return"Webos";if(Tu(e))return"Safari";if((e.includes("chrome/")||Bg(e))&&!e.includes("edge/"))return"Chrome";if(jg(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=t.match(n);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function Ug(t=ut()){return/firefox\//i.test(t)}function Tu(t=ut()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Bg(t=ut()){return/crios\//i.test(t)}function zg(t=ut()){return/iemobile/i.test(t)}function jg(t=ut()){return/android/i.test(t)}function Hg(t=ut()){return/blackberry/i.test(t)}function qg(t=ut()){return/webos/i.test(t)}function ka(t=ut()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function gS(t=ut()){var e;return ka(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function mS(){return DE()&&document.documentMode===10}function Gg(t=ut()){return ka(t)||jg(t)||qg(t)||Hg(t)||/windows phone/i.test(t)||zg(t)}function vS(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kg(t,e=[]){let n;switch(t){case"Browser":n=qh(ut());break;case"Worker":n=`${qh(ut())}-${t}`;break;default:n=t}const s=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Ti}/${s}`}async function Wg(t,e){return bi(t,"GET","/v2/recaptchaConfig",Si(t,e))}function Gh(t){return t!==void 0&&t.enterprise!==void 0}class Yg{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yS(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}function Qg(t){return new Promise((e,n)=>{const s=document.createElement("script");s.setAttribute("src",t),s.onload=e,s.onerror=i=>{const r=Xt("internal-error");r.customData=i,n(r)},s.type="text/javascript",s.charset="UTF-8",yS().appendChild(s)})}function wS(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const _S="https://www.google.com/recaptcha/enterprise.js?render=",ES="recaptcha-enterprise",TS="NO_RECAPTCHA";class Xg{constructor(e){this.type=ES,this.auth=Ii(e)}async verify(e="verify",n=!1){async function s(r){if(!n){if(r.tenantId==null&&r._agentRecaptchaConfig!=null)return r._agentRecaptchaConfig.siteKey;if(r.tenantId!=null&&r._tenantRecaptchaConfigs[r.tenantId]!==void 0)return r._tenantRecaptchaConfigs[r.tenantId].siteKey}return new Promise(async(o,l)=>{Wg(r,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)l(new Error("recaptcha Enterprise site key undefined"));else{const c=new Yg(a);return r.tenantId==null?r._agentRecaptchaConfig=c:r._tenantRecaptchaConfigs[r.tenantId]=c,o(c.siteKey)}}).catch(a=>{l(a)})})}function i(r,o,l){const a=window.grecaptcha;Gh(a)?a.enterprise.ready(()=>{a.enterprise.execute(r,{action:e}).then(c=>{o(c)}).catch(()=>{o(TS)})}):l(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((r,o)=>{s(this.auth).then(l=>{if(!n&&Gh(window.grecaptcha))i(l,r,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}Qg(_S+l).then(()=>{i(l,r,o)}).catch(a=>{o(a)})}}).catch(l=>{o(l)})})}}async function Yo(t,e,n,s=!1){const i=new Xg(t);let r;try{r=await i.verify(n)}catch{r=await i.verify(n,!0)}const o=Object.assign({},e);return s?Object.assign(o,{captchaResp:r}):Object.assign(o,{captchaResponse:r}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const s=r=>new Promise((o,l)=>{try{const a=e(r);o(a)}catch(a){l(a)}});s.onAbort=n,this.queue.push(s);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const s of this.queue)await s(e),s.onAbort&&n.push(s.onAbort)}catch(s){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bS{constructor(e,n,s,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=s,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kh(this),this.idTokenSubscription=new Kh(this),this.beforeStateQueue=new SS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Ng,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=un(n)),this._initializationPromise=this.queue(async()=>{var s,i;if(!this._deleted&&(this.persistenceManager=await Gs.create(this,e),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUser(e){var n;const s=await this.assertedPersistence.getCurrentUser();let i=s,r=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,l=i==null?void 0:i._redirectEventId,a=await this.tryRedirectSignIn(e);(!o||o===l)&&(a!=null&&a.user)&&(i=a.user,r=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(r)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return se(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wo(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=tS()}async _delete(){this._deleted=!0}async updateCurrentUser(e){const n=e?dt(e):null;return n&&se(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&se(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(e){return this.queue(async()=>{await this.assertedPersistence.setPersistence(un(e))})}async initializeRecaptchaConfig(){const e=await Wg(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new Yg(e);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new Xg(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Dr("auth","Firebase",e())}onAuthStateChanged(e,n,s){return this.registerStateListener(this.authStateSubscription,e,n,s)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,s){return this.registerStateListener(this.idTokenSubscription,e,n,s)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const s=await this.getOrInitRedirectPersistenceManager(n);return e===null?s.removeCurrentUser():s.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&un(e)||this._popupRedirectResolver;se(n,this,"argument-error"),this.redirectPersistenceManager=await Gs.create(this,[un(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,s;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,s,i){if(this._deleted)return()=>{};const r=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return se(o,this,"internal-error"),o.then(()=>r(this.currentUser)),typeof n=="function"?e.addObserver(n,s,i):e.addObserver(n)}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return se(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Kg(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const s=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());s&&(n["X-Firebase-Client"]=s);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&XT(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Ii(t){return dt(t)}class Kh{constructor(e){this.auth=e,this.observer=null,this.addObserver=zE(n=>this.observer=n)}get next(){return se(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IS(t,e){const n=vu(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),r=n.getOptions();if(qo(r,e??{}))return i;Vt(i,"already-initialized")}return n.initialize({options:e})}function CS(t,e){const n=(e==null?void 0:e.persistence)||[],s=(Array.isArray(n)?n:[n]).map(un);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(s,e==null?void 0:e.popupRedirectResolver)}function AS(t,e,n){const s=Ii(t);se(s._canInitEmulator,s,"emulator-config-failed"),se(/^https?:\/\//.test(e),s,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),r=Jg(e),{host:o,port:l}=xS(e),a=l===null?"":`:${l}`;s.config.emulator={url:`${r}//${o}${a}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:o,port:l,protocol:r.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||PS()}function Jg(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function xS(t){const e=Jg(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const s=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(s);if(i){const r=i[1];return{host:r,port:Wh(s.substr(r.length+1))}}else{const[r,o]=s.split(":");return{host:r,port:Wh(o)}}}function Wh(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function PS(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return cn("not implemented")}_getIdTokenResponse(e){return cn("not implemented")}_linkToIdToken(e,n){return cn("not implemented")}_getReauthenticationResolver(e){return cn("not implemented")}}async function kS(t,e){return bi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bl(t,e){return $r(t,"POST","/v1/accounts:signInWithPassword",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(t,e){return $r(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}async function OS(t,e){return $r(t,"POST","/v1/accounts:signInWithEmailLink",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr extends Su{constructor(e,n,s,i=null){super("password",s),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new vr(e,n,"password")}static _fromEmailAndCode(e,n,s=null){return new vr(e,n,"emailLink",s)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){var n;switch(this.signInMethod){case"password":const s={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=e._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await Yo(e,s,"signInWithPassword");return bl(e,i)}else return bl(e,s).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const r=await Yo(e,s,"signInWithPassword");return bl(e,r)}else return Promise.reject(i)});case"emailLink":return RS(e,{email:this._email,oobCode:this._password});default:Vt(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":return kS(e,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return OS(e,{idToken:n,email:this._email,oobCode:this._password});default:Vt(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ks(t,e){return $r(t,"POST","/v1/accounts:signInWithIdp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MS="http://localhost";class _s extends Su{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new _s(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vt("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:s,signInMethod:i}=n,r=yu(n,["providerId","signInMethod"]);if(!s||!i)return null;const o=new _s(s,i);return o.idToken=r.idToken||void 0,o.accessToken=r.accessToken||void 0,o.secret=r.secret,o.nonce=r.nonce,o.pendingToken=r.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Ks(e,n)}_linkToIdToken(e,n){const s=this.buildRequest();return s.idToken=n,Ks(e,s)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Ks(e,n)}buildRequest(){const e={requestUri:MS,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Lr(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NS(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function DS(t){const e=Hi(qi(t)).link,n=e?Hi(qi(e)).deep_link_id:null,s=Hi(qi(t)).deep_link_id;return(s?Hi(qi(s)).link:null)||s||n||e||t}class bu{constructor(e){var n,s,i,r,o,l;const a=Hi(qi(e)),c=(n=a.apiKey)!==null&&n!==void 0?n:null,u=(s=a.oobCode)!==null&&s!==void 0?s:null,d=NS((i=a.mode)!==null&&i!==void 0?i:null);se(c&&u&&d,"argument-error"),this.apiKey=c,this.operation=d,this.code=u,this.continueUrl=(r=a.continueUrl)!==null&&r!==void 0?r:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(l=a.tenantId)!==null&&l!==void 0?l:null}static parseLink(e){const n=DS(e);try{return new bu(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ci{constructor(){this.providerId=Ci.PROVIDER_ID}static credential(e,n){return vr._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const s=bu.parseLink(n);return se(s,"argument-error"),vr._fromEmailAndCode(e,s.code,s.tenantId)}}Ci.PROVIDER_ID="password";Ci.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Ci.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vr extends Zg{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xn extends Vr{constructor(){super("facebook.com")}static credential(e){return _s._fromParams({providerId:xn.PROVIDER_ID,signInMethod:xn.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xn.credentialFromTaggedObject(e)}static credentialFromError(e){return xn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xn.credential(e.oauthAccessToken)}catch{return null}}}xn.FACEBOOK_SIGN_IN_METHOD="facebook.com";xn.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn extends Vr{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return _s._fromParams({providerId:Pn.PROVIDER_ID,signInMethod:Pn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return Pn.credentialFromTaggedObject(e)}static credentialFromError(e){return Pn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:s}=e;if(!n&&!s)return null;try{return Pn.credential(n,s)}catch{return null}}}Pn.GOOGLE_SIGN_IN_METHOD="google.com";Pn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kn extends Vr{constructor(){super("github.com")}static credential(e){return _s._fromParams({providerId:kn.PROVIDER_ID,signInMethod:kn.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return kn.credentialFromTaggedObject(e)}static credentialFromError(e){return kn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return kn.credential(e.oauthAccessToken)}catch{return null}}}kn.GITHUB_SIGN_IN_METHOD="github.com";kn.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rn extends Vr{constructor(){super("twitter.com")}static credential(e,n){return _s._fromParams({providerId:Rn.PROVIDER_ID,signInMethod:Rn.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Rn.credentialFromTaggedObject(e)}static credentialFromError(e){return Rn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:s}=e;if(!n||!s)return null;try{return Rn.credential(n,s)}catch{return null}}}Rn.TWITTER_SIGN_IN_METHOD="twitter.com";Rn.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Il(t,e){return $r(t,"POST","/v1/accounts:signUp",Si(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Es{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,s,i=!1){const r=await fs._fromIdTokenResponse(e,s,i),o=Yh(s);return new Es({user:r,providerId:o,_tokenResponse:s,operationType:n})}static async _forOperation(e,n,s){await e._updateTokensIfNecessary(s,!0);const i=Yh(s);return new Es({user:e,providerId:i,_tokenResponse:s,operationType:n})}}function Yh(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qo extends wn{constructor(e,n,s,i){var r;super(n.code,n.message),this.operationType=s,this.user=i,Object.setPrototypeOf(this,Qo.prototype),this.customData={appName:e.name,tenantId:(r=e.tenantId)!==null&&r!==void 0?r:void 0,_serverResponse:n.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(e,n,s,i){return new Qo(e,n,s,i)}}function em(t,e,n,s){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(r=>{throw r.code==="auth/multi-factor-auth-required"?Qo._fromErrorAndOperation(t,r,e,s):r})}async function LS(t,e,n=!1){const s=await gr(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Es._forOperation(t,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function FS(t,e,n=!1){const{auth:s}=t,i="reauthenticate";try{const r=await gr(t,em(s,i,e,t),n);se(r.idToken,s,"internal-error");const o=Eu(r.idToken);se(o,s,"internal-error");const{sub:l}=o;return se(t.uid===l,s,"user-mismatch"),Es._forOperation(t,i,r)}catch(r){throw(r==null?void 0:r.code)==="auth/user-not-found"&&Vt(s,"user-mismatch"),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tm(t,e,n=!1){const s="signIn",i=await em(t,s,e),r=await Es._fromIdTokenResponse(t,s,i);return n||await t._updateCurrentUser(r.user),r}async function $S(t,e){return tm(Ii(t),e)}async function VS(t,e,n){var s;const i=Ii(t),r={returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((s=i._getRecaptchaConfig())===null||s===void 0)&&s.emailPasswordEnabled){const c=await Yo(i,r,"signUpPassword");o=Il(i,c)}else o=Il(i,r).catch(async c=>{if(c.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const u=await Yo(i,r,"signUpPassword");return Il(i,u)}else return Promise.reject(c)});const l=await o.catch(c=>Promise.reject(c)),a=await Es._fromIdTokenResponse(i,"signIn",l);return await i._updateCurrentUser(a.user),a}function US(t,e,n){return $S(dt(t),Ci.credential(e,n))}function BS(t,e,n,s){return dt(t).onIdTokenChanged(e,n,s)}function zS(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function Iu(t,e,n,s){return dt(t).onAuthStateChanged(e,n,s)}function jS(t){return dt(t).signOut()}const Xo="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Xo,"1"),this.storage.removeItem(Xo),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HS(){const t=ut();return Tu(t)||ka(t)}const qS=1e3,GS=10;class sm extends nm{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=HS()&&vS(),this.fallbackToPolling=Gg(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const s=this.storage.getItem(n),i=this.localCache[n];s!==i&&e(n,i,s)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,l,a)=>{this.notifyListeners(o,a)});return}const s=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(s);if(e.newValue!==o)e.newValue!==null?this.storage.setItem(s,e.newValue):this.storage.removeItem(s);else if(this.localCache[s]===e.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(s);!n&&this.localCache[s]===o||this.notifyListeners(s,o)},r=this.storage.getItem(s);mS()&&r!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,GS):i()}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:s}),!0)})},qS)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}sm.type="LOCAL";const KS=sm;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im extends nm{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}im.type="SESSION";const rm=im;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WS(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const s=new Ra(e);return this.receivers.push(s),s}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:s,eventType:i,data:r}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:s,eventType:i});const l=Array.from(o).map(async c=>c(n.origin,r)),a=await WS(l);n.ports[0].postMessage({status:"done",eventId:s,eventType:i,response:a})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Ra.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(t="",e=10){let n="";for(let s=0;s<e;s++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YS{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,s=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let r,o;return new Promise((l,a)=>{const c=Cu("",20);i.port1.start();const u=setTimeout(()=>{a(new Error("unsupported_event"))},s);o={messageChannel:i,onMessage(d){const h=d;if(h.data.eventId===c)switch(h.data.status){case"ack":clearTimeout(u),r=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(r),l(h.data.response);break;default:clearTimeout(u),clearTimeout(r),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jt(){return window}function QS(t){Jt().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function om(){return typeof Jt().WorkerGlobalScope<"u"&&typeof Jt().importScripts=="function"}async function XS(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function JS(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function ZS(){return om()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const am="firebaseLocalStorageDb",eb=1,Jo="firebaseLocalStorage",lm="fbase_key";class Ur{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Oa(t,e){return t.transaction([Jo],e?"readwrite":"readonly").objectStore(Jo)}function tb(){const t=indexedDB.deleteDatabase(am);return new Ur(t).toPromise()}function gc(){const t=indexedDB.open(am,eb);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const s=t.result;try{s.createObjectStore(Jo,{keyPath:lm})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const s=t.result;s.objectStoreNames.contains(Jo)?e(s):(s.close(),await tb(),e(await gc()))})})}async function Qh(t,e,n){const s=Oa(t,!0).put({[lm]:e,value:n});return new Ur(s).toPromise()}async function nb(t,e){const n=Oa(t,!1).get(e),s=await new Ur(n).toPromise();return s===void 0?null:s.value}function Xh(t,e){const n=Oa(t,!0).delete(e);return new Ur(n).toPromise()}const sb=800,ib=3;class cm{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await gc(),this.db)}async _withRetries(e){let n=0;for(;;)try{const s=await this._openDb();return await e(s)}catch(s){if(n++>ib)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return om()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ra._getInstance(ZS()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await XS(),!this.activeServiceWorker)return;this.sender=new YS(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((e=s[0])===null||e===void 0)&&e.fulfilled&&!((n=s[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||JS()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await gc();return await Qh(e,Xo,"1"),await Xh(e,Xo),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(s=>Qh(s,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(s=>nb(s,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Xh(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const r=Oa(i,!1).getAll();return new Ur(r).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],s=new Set;for(const{fbase_key:i,value:r}of e)s.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(r)&&(this.notifyListeners(i,r),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!s.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const s=this.listeners[e];if(s)for(const i of Array.from(s))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),sb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}cm.type="LOCAL";const rb=cm;new Fr(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ob(t,e){return e?un(e):(se(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au extends Su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ks(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Ks(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Ks(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function ab(t){return tm(t.auth,new Au(t),t.bypassAuthState)}function lb(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),FS(n,new Au(t),t.bypassAuthState)}async function cb(t){const{auth:e,user:n}=t;return se(n,e,"internal-error"),LS(n,new Au(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,n,s,i,r=!1){this.auth=e,this.resolver=s,this.user=i,this.bypassAuthState=r,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:s,postBody:i,tenantId:r,error:o,type:l}=e;if(o){this.reject(o);return}const a={auth:this.auth,requestUri:n,sessionId:s,tenantId:r||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(l)(a))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return ab;case"linkViaPopup":case"linkViaRedirect":return cb;case"reauthViaPopup":case"reauthViaRedirect":return lb;default:Vt(this.auth,"internal-error")}}resolve(e){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fn(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ub=new Fr(2e3,1e4);class $s extends um{constructor(e,n,s,i,r){super(e,n,i,r),this.provider=s,this.authWindow=null,this.pollId=null,$s.currentPopupAction&&$s.currentPopupAction.cancel(),$s.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return se(e,this.auth,"internal-error"),e}async onExecution(){fn(this.filter.length===1,"Popup operations only handle one event");const e=Cu();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Xt(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Xt(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,$s.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,s;if(!((s=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Xt(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,ub.get())};e()}}$s.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const db="pendingRedirect",Po=new Map;class hb extends um{constructor(e,n,s=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,s),this.eventId=null}async execute(){let e=Po.get(this.auth._key());if(!e){try{const s=await fb(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(s)}catch(n){e=()=>Promise.reject(n)}Po.set(this.auth._key(),e)}return this.bypassAuthState||Po.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function fb(t,e){const n=mb(e),s=gb(t);if(!await s._isAvailable())return!1;const i=await s._get(n)==="true";return await s._remove(n),i}function pb(t,e){Po.set(t._key(),e)}function gb(t){return un(t._redirectPersistence)}function mb(t){return xo(db,t.config.apiKey,t.name)}async function vb(t,e,n=!1){const s=Ii(t),i=ob(s,e),o=await new hb(s,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await s._persistUserIfCurrent(o.user),await s._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yb=10*60*1e3;class wb{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(e,s)&&(n=!0,this.sendToConsumer(e,s),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!_b(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var s;if(e.error&&!dm(e)){const i=((s=e.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";n.onError(Xt(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const s=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&s}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=yb&&this.cachedEventUids.clear(),this.cachedEventUids.has(Jh(e))}saveEventToCache(e){this.cachedEventUids.add(Jh(e)),this.lastProcessedEventTime=Date.now()}}function Jh(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function dm({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function _b(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return dm(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Eb(t,e={}){return bi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Sb=/^https?/;async function bb(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Eb(t);for(const n of e)try{if(Ib(n))return}catch{}Vt(t,"unauthorized-domain")}function Ib(t){const e=pc(),{protocol:n,hostname:s}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&s===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===s}if(!Sb.test(n))return!1;if(Tb.test(t))return s===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb=new Fr(3e4,6e4);function Zh(){const t=Jt().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function Ab(t){return new Promise((e,n)=>{var s,i,r;function o(){Zh(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Zh(),n(Xt(t,"network-request-failed"))},timeout:Cb.get()})}if(!((i=(s=Jt().gapi)===null||s===void 0?void 0:s.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((r=Jt().gapi)===null||r===void 0)&&r.load)o();else{const l=wS("iframefcb");return Jt()[l]=()=>{gapi.load?o():n(Xt(t,"network-request-failed"))},Qg(`https://apis.google.com/js/api.js?onload=${l}`).catch(a=>n(a))}}).catch(e=>{throw ko=null,e})}let ko=null;function xb(t){return ko=ko||Ab(t),ko}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=new Fr(5e3,15e3),kb="__/auth/iframe",Rb="emulator/auth/iframe",Ob={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Mb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Nb(t){const e=t.config;se(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_u(e,Rb):`https://${t.config.authDomain}/${kb}`,s={apiKey:e.apiKey,appName:t.name,v:Ti},i=Mb.get(t.config.apiHost);i&&(s.eid=i);const r=t._getFrameworks();return r.length&&(s.fw=r.join(",")),`${n}?${Lr(s).slice(1)}`}async function Db(t){const e=await xb(t),n=Jt().gapi;return se(n,t,"internal-error"),e.open({where:document.body,url:Nb(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ob,dontclear:!0},s=>new Promise(async(i,r)=>{await s.restyle({setHideOnLeave:!1});const o=Xt(t,"network-request-failed"),l=Jt().setTimeout(()=>{r(o)},Pb.get());function a(){Jt().clearTimeout(l),i(s)}s.ping(a).then(a,()=>{r(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Fb=500,$b=600,Vb="_blank",Ub="http://localhost";class ef{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Bb(t,e,n,s=Fb,i=$b){const r=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-s)/2,0).toString();let l="";const a=Object.assign(Object.assign({},Lb),{width:s.toString(),height:i.toString(),top:r,left:o}),c=ut().toLowerCase();n&&(l=Bg(c)?Vb:n),Ug(c)&&(e=e||Ub,a.scrollbars="yes");const u=Object.entries(a).reduce((h,[f,p])=>`${h}${f}=${p},`,"");if(gS(c)&&l!=="_self")return zb(e||"",l),new ef(null);const d=window.open(e||"",l,u);se(d,t,"popup-blocked");try{d.focus()}catch{}return new ef(d)}function zb(t,e){const n=document.createElement("a");n.href=t,n.target=e;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jb="__/auth/handler",Hb="emulator/auth/handler",qb=encodeURIComponent("fac");async function tf(t,e,n,s,i,r){se(t.config.authDomain,t,"auth-domain-config-required"),se(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:s,v:Ti,eventId:i};if(e instanceof Zg){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",BE(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[u,d]of Object.entries(r||{}))o[u]=d}if(e instanceof Vr){const u=e.getScopes().filter(d=>d!=="");u.length>0&&(o.scopes=u.join(","))}t.tenantId&&(o.tid=t.tenantId);const l=o;for(const u of Object.keys(l))l[u]===void 0&&delete l[u];const a=await t._getAppCheckToken(),c=a?`#${qb}=${encodeURIComponent(a)}`:"";return`${Gb(t)}?${Lr(l).slice(1)}${c}`}function Gb({config:t}){return t.emulator?_u(t,Hb):`https://${t.authDomain}/${jb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cl="webStorageSupport";class Kb{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=rm,this._completeRedirectFn=vb,this._overrideRedirectResult=pb}async _openPopup(e,n,s,i){var r;fn((r=this.eventManagers[e._key()])===null||r===void 0?void 0:r.manager,"_initialize() not called before _openPopup()");const o=await tf(e,n,s,pc(),i);return Bb(e,o,Cu())}async _openRedirect(e,n,s,i){await this._originValidation(e);const r=await tf(e,n,s,pc(),i);return QS(r),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:r}=this.eventManagers[n];return i?Promise.resolve(i):(fn(r,"If manager is not set, promise should be"),r)}const s=this.initAndGetManager(e);return this.eventManagers[n]={promise:s},s.catch(()=>{delete this.eventManagers[n]}),s}async initAndGetManager(e){const n=await Db(e),s=new wb(e);return n.register("authEvent",i=>(se(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:s.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:s},this.iframes[e._key()]=n,s}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Cl,{type:Cl},i=>{var r;const o=(r=i==null?void 0:i[0])===null||r===void 0?void 0:r[Cl];o!==void 0&&n(!!o),Vt(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=bb(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return Gg()||Tu()||ka()}}const Wb=Kb;var nf="@firebase/auth",sf="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(s=>{e((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){se(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qb(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Xb(t){li(new ys("auth",(e,{options:n})=>{const s=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),r=e.getProvider("app-check-internal"),{apiKey:o,authDomain:l}=s.options;se(o&&!o.includes(":"),"invalid-api-key",{appName:s.name});const a={apiKey:o,authDomain:l,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Kg(t)},c=new bS(s,i,r,a);return CS(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,s)=>{e.getProvider("auth-internal").initialize()})),li(new ys("auth-internal",e=>{const n=Ii(e.getProvider("auth").getImmediate());return(s=>new Yb(s))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Bn(nf,sf,Qb(t)),Bn(nf,sf,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jb=5*60,Zb=Cg("authIdTokenMaxAge")||Jb;let rf=null;const eI=t=>async e=>{const n=e&&await e.getIdTokenResult(),s=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(s&&s>Zb)return;const i=n==null?void 0:n.token;rf!==i&&(rf=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Ts(t=kg()){const e=vu(t,"auth");if(e.isInitialized())return e.getImmediate();const n=IS(t,{popupRedirectResolver:Wb,persistence:[rb,KS,rm]}),s=Cg("authTokenSyncURL");if(s){const r=eI(s);zS(n,r,()=>r(n.currentUser)),BS(n,o=>r(o))}const i=bg("auth");return i&&AS(n,`http://${i}`),n}Xb("Browser");const tI="/zero-thinking/assets/check-3efe0ce9.svg",hm="/zero-thinking/assets/trashbox-08da14f7.svg";var nI="firebase",sI="9.22.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Bn(nI,sI,"app");var iI=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},U,xu=xu||{},re=iI||self;function Ma(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Br(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function rI(t){return Object.prototype.hasOwnProperty.call(t,Al)&&t[Al]||(t[Al]=++oI)}var Al="closure_uid_"+(1e9*Math.random()>>>0),oI=0;function aI(t,e,n){return t.call.apply(t.bind,arguments)}function lI(t,e,n){if(!t)throw Error();if(2<arguments.length){var s=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,s),t.apply(e,i)}}return function(){return t.apply(e,arguments)}}function at(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?at=aI:at=lI,at.apply(null,arguments)}function uo(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var s=n.slice();return s.push.apply(s,arguments),t.apply(this,s)}}function Ge(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(s,i,r){for(var o=Array(arguments.length-2),l=2;l<arguments.length;l++)o[l-2]=arguments[l];return e.prototype[i].apply(s,o)}}function Qn(){this.s=this.s,this.o=this.o}var cI=0;Qn.prototype.s=!1;Qn.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),cI!=0)&&rI(this)};Qn.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const fm=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function Pu(t){const e=t.length;if(0<e){const n=Array(e);for(let s=0;s<e;s++)n[s]=t[s];return n}return[]}function of(t,e){for(let n=1;n<arguments.length;n++){const s=arguments[n];if(Ma(s)){const i=t.length||0,r=s.length||0;t.length=i+r;for(let o=0;o<r;o++)t[i+o]=s[o]}else t.push(s)}}function lt(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}lt.prototype.h=function(){this.defaultPrevented=!0};var uI=function(){if(!re.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{re.addEventListener("test",()=>{},e),re.removeEventListener("test",()=>{},e)}catch{}return t}();function yr(t){return/^[\s\xa0]*$/.test(t)}function Na(){var t=re.navigator;return t&&(t=t.userAgent)?t:""}function Gt(t){return Na().indexOf(t)!=-1}function ku(t){return ku[" "](t),t}ku[" "]=function(){};function dI(t,e){var n=sC;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var hI=Gt("Opera"),ci=Gt("Trident")||Gt("MSIE"),pm=Gt("Edge"),mc=pm||ci,gm=Gt("Gecko")&&!(Na().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge"))&&!(Gt("Trident")||Gt("MSIE"))&&!Gt("Edge"),fI=Na().toLowerCase().indexOf("webkit")!=-1&&!Gt("Edge");function mm(){var t=re.document;return t?t.documentMode:void 0}var vc;e:{var xl="",Pl=function(){var t=Na();if(gm)return/rv:([^\);]+)(\)|;)/.exec(t);if(pm)return/Edge\/([\d\.]+)/.exec(t);if(ci)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(fI)return/WebKit\/(\S+)/.exec(t);if(hI)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Pl&&(xl=Pl?Pl[1]:""),ci){var kl=mm();if(kl!=null&&kl>parseFloat(xl)){vc=String(kl);break e}}vc=xl}var yc;if(re.document&&ci){var af=mm();yc=af||parseInt(vc,10)||void 0}else yc=void 0;var pI=yc;function wr(t,e){if(lt.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,s=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(gm){e:{try{ku(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,s?(this.clientX=s.clientX!==void 0?s.clientX:s.pageX,this.clientY=s.clientY!==void 0?s.clientY:s.pageY,this.screenX=s.screenX||0,this.screenY=s.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:gI[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&wr.$.h.call(this)}}Ge(wr,lt);var gI={2:"touch",3:"pen",4:"mouse"};wr.prototype.h=function(){wr.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var zr="closure_listenable_"+(1e6*Math.random()|0),mI=0;function vI(t,e,n,s,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!s,this.la=i,this.key=++mI,this.fa=this.ia=!1}function Da(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Ru(t,e,n){for(const s in t)e.call(n,t[s],s,t)}function yI(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function vm(t){const e={};for(const n in t)e[n]=t[n];return e}const lf="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ym(t,e){let n,s;for(let i=1;i<arguments.length;i++){s=arguments[i];for(n in s)t[n]=s[n];for(let r=0;r<lf.length;r++)n=lf[r],Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n])}}function La(t){this.src=t,this.g={},this.h=0}La.prototype.add=function(t,e,n,s,i){var r=t.toString();t=this.g[r],t||(t=this.g[r]=[],this.h++);var o=_c(t,e,s,i);return-1<o?(e=t[o],n||(e.ia=!1)):(e=new vI(e,this.src,r,!!s,i),e.ia=n,t.push(e)),e};function wc(t,e){var n=e.type;if(n in t.g){var s=t.g[n],i=fm(s,e),r;(r=0<=i)&&Array.prototype.splice.call(s,i,1),r&&(Da(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function _c(t,e,n,s){for(var i=0;i<t.length;++i){var r=t[i];if(!r.fa&&r.listener==e&&r.capture==!!n&&r.la==s)return i}return-1}var Ou="closure_lm_"+(1e6*Math.random()|0),Rl={};function wm(t,e,n,s,i){if(s&&s.once)return Em(t,e,n,s,i);if(Array.isArray(e)){for(var r=0;r<e.length;r++)wm(t,e[r],n,s,i);return null}return n=Du(n),t&&t[zr]?t.O(e,n,Br(s)?!!s.capture:!!s,i):_m(t,e,n,!1,s,i)}function _m(t,e,n,s,i,r){if(!e)throw Error("Invalid event type");var o=Br(i)?!!i.capture:!!i,l=Nu(t);if(l||(t[Ou]=l=new La(t)),n=l.add(e,n,s,o,r),n.proxy)return n;if(s=wI(),n.proxy=s,s.src=t,s.listener=n,t.addEventListener)uI||(i=o),i===void 0&&(i=!1),t.addEventListener(e.toString(),s,i);else if(t.attachEvent)t.attachEvent(Sm(e.toString()),s);else if(t.addListener&&t.removeListener)t.addListener(s);else throw Error("addEventListener and attachEvent are unavailable.");return n}function wI(){function t(n){return e.call(t.src,t.listener,n)}const e=_I;return t}function Em(t,e,n,s,i){if(Array.isArray(e)){for(var r=0;r<e.length;r++)Em(t,e[r],n,s,i);return null}return n=Du(n),t&&t[zr]?t.P(e,n,Br(s)?!!s.capture:!!s,i):_m(t,e,n,!0,s,i)}function Tm(t,e,n,s,i){if(Array.isArray(e))for(var r=0;r<e.length;r++)Tm(t,e[r],n,s,i);else s=Br(s)?!!s.capture:!!s,n=Du(n),t&&t[zr]?(t=t.i,e=String(e).toString(),e in t.g&&(r=t.g[e],n=_c(r,n,s,i),-1<n&&(Da(r[n]),Array.prototype.splice.call(r,n,1),r.length==0&&(delete t.g[e],t.h--)))):t&&(t=Nu(t))&&(e=t.g[e.toString()],t=-1,e&&(t=_c(e,n,s,i)),(n=-1<t?e[t]:null)&&Mu(n))}function Mu(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[zr])wc(e.i,t);else{var n=t.type,s=t.proxy;e.removeEventListener?e.removeEventListener(n,s,t.capture):e.detachEvent?e.detachEvent(Sm(n),s):e.addListener&&e.removeListener&&e.removeListener(s),(n=Nu(e))?(wc(n,t),n.h==0&&(n.src=null,e[Ou]=null)):Da(t)}}}function Sm(t){return t in Rl?Rl[t]:Rl[t]="on"+t}function _I(t,e){if(t.fa)t=!0;else{e=new wr(e,this);var n=t.listener,s=t.la||t.src;t.ia&&Mu(t),t=n.call(s,e)}return t}function Nu(t){return t=t[Ou],t instanceof La?t:null}var Ol="__closure_events_fn_"+(1e9*Math.random()>>>0);function Du(t){return typeof t=="function"?t:(t[Ol]||(t[Ol]=function(e){return t.handleEvent(e)}),t[Ol])}function qe(){Qn.call(this),this.i=new La(this),this.S=this,this.J=null}Ge(qe,Qn);qe.prototype[zr]=!0;qe.prototype.removeEventListener=function(t,e,n,s){Tm(this,t,e,n,s)};function Je(t,e){var n,s=t.J;if(s)for(n=[];s;s=s.J)n.push(s);if(t=t.S,s=e.type||e,typeof e=="string")e=new lt(e,t);else if(e instanceof lt)e.target=e.target||t;else{var i=e;e=new lt(s,t),ym(e,i)}if(i=!0,n)for(var r=n.length-1;0<=r;r--){var o=e.g=n[r];i=ho(o,s,!0,e)&&i}if(o=e.g=t,i=ho(o,s,!0,e)&&i,i=ho(o,s,!1,e)&&i,n)for(r=0;r<n.length;r++)o=e.g=n[r],i=ho(o,s,!1,e)&&i}qe.prototype.N=function(){if(qe.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],s=0;s<n.length;s++)Da(n[s]);delete t.g[e],t.h--}}this.J=null};qe.prototype.O=function(t,e,n,s){return this.i.add(String(t),e,!1,n,s)};qe.prototype.P=function(t,e,n,s){return this.i.add(String(t),e,!0,n,s)};function ho(t,e,n,s){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var i=!0,r=0;r<e.length;++r){var o=e[r];if(o&&!o.fa&&o.capture==n){var l=o.listener,a=o.la||o.src;o.ia&&wc(t.i,o),i=l.call(a,s)!==!1&&i}}return i&&!s.defaultPrevented}var Lu=re.JSON.stringify;class EI{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function TI(){var t=Fu;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class SI{constructor(){this.h=this.g=null}add(e,n){const s=bm.get();s.set(e,n),this.h?this.h.next=s:this.g=s,this.h=s}}var bm=new EI(()=>new bI,t=>t.reset());class bI{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function II(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function CI(t){re.setTimeout(()=>{throw t},0)}let _r,Er=!1,Fu=new SI,Im=()=>{const t=re.Promise.resolve(void 0);_r=()=>{t.then(AI)}};var AI=()=>{for(var t;t=TI();){try{t.h.call(t.g)}catch(n){CI(n)}var e=bm;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Er=!1};function Fa(t,e){qe.call(this),this.h=t||1,this.g=e||re,this.j=at(this.qb,this),this.l=Date.now()}Ge(Fa,qe);U=Fa.prototype;U.ga=!1;U.T=null;U.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Je(this,"tick"),this.ga&&($u(this),this.start()))}};U.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function $u(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}U.N=function(){Fa.$.N.call(this),$u(this),delete this.g};function Vu(t,e,n){if(typeof t=="function")n&&(t=at(t,n));else if(t&&typeof t.handleEvent=="function")t=at(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:re.setTimeout(t,e||0)}function Cm(t){t.g=Vu(()=>{t.g=null,t.i&&(t.i=!1,Cm(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class xI extends Qn{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Cm(this)}N(){super.N(),this.g&&(re.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(t){Qn.call(this),this.h=t,this.g={}}Ge(Tr,Qn);var cf=[];function Am(t,e,n,s){Array.isArray(n)||(n&&(cf[0]=n.toString()),n=cf);for(var i=0;i<n.length;i++){var r=wm(e,n[i],s||t.handleEvent,!1,t.h||t);if(!r)break;t.g[r.key]=r}}function xm(t){Ru(t.g,function(e,n){this.g.hasOwnProperty(n)&&Mu(e)},t),t.g={}}Tr.prototype.N=function(){Tr.$.N.call(this),xm(this)};Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function $a(){this.g=!0}$a.prototype.Ea=function(){this.g=!1};function PI(t,e,n,s,i,r){t.info(function(){if(t.g)if(r)for(var o="",l=r.split("&"),a=0;a<l.length;a++){var c=l[a].split("=");if(1<c.length){var u=c[0];c=c[1];var d=u.split("_");o=2<=d.length&&d[1]=="type"?o+(u+"="+c+"&"):o+(u+"=redacted&")}}else o=null;else o=r;return"XMLHTTP REQ ("+s+") [attempt "+i+"]: "+e+`
`+n+`
`+o})}function kI(t,e,n,s,i,r,o){t.info(function(){return"XMLHTTP RESP ("+s+") [ attempt "+i+"]: "+e+`
`+n+`
`+r+" "+o})}function Vs(t,e,n,s){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+OI(t,n)+(s?" "+s:"")})}function RI(t,e){t.info(function(){return"TIMEOUT: "+e})}$a.prototype.info=function(){};function OI(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var s=n[t];if(!(2>s.length)){var i=s[1];if(Array.isArray(i)&&!(1>i.length)){var r=i[0];if(r!="noop"&&r!="stop"&&r!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return Lu(n)}catch{return e}}var xs={},uf=null;function Va(){return uf=uf||new qe}xs.Ta="serverreachability";function Pm(t){lt.call(this,xs.Ta,t)}Ge(Pm,lt);function Sr(t){const e=Va();Je(e,new Pm(e))}xs.STAT_EVENT="statevent";function km(t,e){lt.call(this,xs.STAT_EVENT,t),this.stat=e}Ge(km,lt);function pt(t){const e=Va();Je(e,new km(e,t))}xs.Ua="timingevent";function Rm(t,e){lt.call(this,xs.Ua,t),this.size=e}Ge(Rm,lt);function jr(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return re.setTimeout(function(){t()},e)}var Ua={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Om={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Uu(){}Uu.prototype.h=null;function df(t){return t.h||(t.h=t.i())}function Mm(){}var Hr={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Bu(){lt.call(this,"d")}Ge(Bu,lt);function zu(){lt.call(this,"c")}Ge(zu,lt);var Ec;function Ba(){}Ge(Ba,Uu);Ba.prototype.g=function(){return new XMLHttpRequest};Ba.prototype.i=function(){return{}};Ec=new Ba;function qr(t,e,n,s){this.l=t,this.j=e,this.m=n,this.W=s||1,this.U=new Tr(this),this.P=MI,t=mc?125:void 0,this.V=new Fa(t),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Nm}function Nm(){this.i=null,this.g="",this.h=!1}var MI=45e3,Tc={},Zo={};U=qr.prototype;U.setTimeout=function(t){this.P=t};function Sc(t,e,n){t.L=1,t.v=ja(pn(e)),t.s=n,t.S=!0,Dm(t,null)}function Dm(t,e){t.G=Date.now(),Gr(t),t.A=pn(t.v);var n=t.A,s=t.W;Array.isArray(s)||(s=[String(s)]),jm(n.i,"t",s),t.C=0,n=t.l.J,t.h=new Nm,t.g=uv(t.l,n?e:null,!t.s),0<t.O&&(t.M=new xI(at(t.Pa,t,t.g),t.O)),Am(t.U,t.g,"readystatechange",t.nb),e=t.I?vm(t.I):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.A,t.u,t.s,e)):(t.u="GET",t.g.ha(t.A,t.u,null,e)),Sr(),PI(t.j,t.u,t.A,t.m,t.W,t.s)}U.nb=function(t){t=t.target;const e=this.M;e&&Kt(t)==3?e.l():this.Pa(t)};U.Pa=function(t){try{if(t==this.g)e:{const u=Kt(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>u)&&(u!=3||mc||this.g&&(this.h.h||this.g.ja()||gf(this.g)))){this.J||u!=4||e==7||(e==8||0>=d?Sr(3):Sr(2)),za(this);var n=this.g.da();this.ca=n;t:if(Lm(this)){var s=gf(this.g);t="";var i=s.length,r=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){os(this),nr(this);var o="";break t}this.h.i=new re.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,t+=this.h.i.decode(s[e],{stream:r&&e==i-1});s.splice(0,i),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,kI(this.j,this.u,this.A,this.m,this.W,u,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var l,a=this.g;if((l=a.g?a.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!yr(l)){var c=l;break t}}c=null}if(n=c)Vs(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,bc(this,n);else{this.i=!1,this.o=3,pt(12),os(this),nr(this);break e}}this.S?(Fm(this,u,o),mc&&this.i&&u==3&&(Am(this.U,this.V,"tick",this.mb),this.V.start())):(Vs(this.j,this.m,o,null),bc(this,o)),u==4&&os(this),this.i&&!this.J&&(u==4?ov(this.l,this):(this.i=!1,Gr(this)))}else eC(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,pt(12)):(this.o=0,pt(13)),os(this),nr(this)}}}catch{}finally{}};function Lm(t){return t.g?t.u=="GET"&&t.L!=2&&t.l.Ha:!1}function Fm(t,e,n){let s=!0,i;for(;!t.J&&t.C<n.length;)if(i=NI(t,n),i==Zo){e==4&&(t.o=4,pt(14),s=!1),Vs(t.j,t.m,null,"[Incomplete Response]");break}else if(i==Tc){t.o=4,pt(15),Vs(t.j,t.m,n,"[Invalid Chunk]"),s=!1;break}else Vs(t.j,t.m,i,null),bc(t,i);Lm(t)&&i!=Zo&&i!=Tc&&(t.h.g="",t.C=0),e!=4||n.length!=0||t.h.h||(t.o=1,pt(16),s=!1),t.i=t.i&&s,s?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Wu(e),e.M=!0,pt(11))):(Vs(t.j,t.m,n,"[Invalid Chunked Response]"),os(t),nr(t))}U.mb=function(){if(this.g){var t=Kt(this.g),e=this.g.ja();this.C<e.length&&(za(this),Fm(this,t,e),this.i&&t!=4&&Gr(this))}};function NI(t,e){var n=t.C,s=e.indexOf(`
`,n);return s==-1?Zo:(n=Number(e.substring(n,s)),isNaN(n)?Tc:(s+=1,s+n>e.length?Zo:(e=e.slice(s,s+n),t.C=s+n,e)))}U.cancel=function(){this.J=!0,os(this)};function Gr(t){t.Y=Date.now()+t.P,$m(t,t.P)}function $m(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=jr(at(t.lb,t),e)}function za(t){t.B&&(re.clearTimeout(t.B),t.B=null)}U.lb=function(){this.B=null;const t=Date.now();0<=t-this.Y?(RI(this.j,this.A),this.L!=2&&(Sr(),pt(17)),os(this),this.o=2,nr(this)):$m(this,this.Y-t)};function nr(t){t.l.H==0||t.J||ov(t.l,t)}function os(t){za(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,$u(t.V),xm(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function bc(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Ic(n.i,t))){if(!t.K&&Ic(n.i,t)&&n.H==3){try{var s=n.Ja.g.parse(e)}catch{s=null}if(Array.isArray(s)&&s.length==3){var i=s;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)na(n),Ga(n);else break e;Ku(n),pt(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=jr(at(n.ib,n),6e3));if(1>=Gm(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else as(n,11)}else if((t.K||n.g==t)&&na(n),!yr(e))for(i=n.Ja.g.parse(e),e=0;e<i.length;e++){let c=i[e];if(n.V=c[0],c=c[1],n.H==2)if(c[0]=="c"){n.K=c[1],n.pa=c[2];const u=c[3];u!=null&&(n.ra=u,n.l.info("VER="+n.ra));const d=c[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=c[5];h!=null&&typeof h=="number"&&0<h&&(s=1.5*h,n.L=s,n.l.info("backChannelRequestTimeoutMs_="+s)),s=n;const f=t.g;if(f){const p=f.g?f.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(p){var r=s.i;r.g||p.indexOf("spdy")==-1&&p.indexOf("quic")==-1&&p.indexOf("h2")==-1||(r.j=r.l,r.g=new Set,r.h&&(ju(r,r.h),r.h=null))}if(s.F){const m=f.g?f.g.getResponseHeader("X-HTTP-Session-Id"):null;m&&(s.Da=m,Pe(s.I,s.F,m))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),s=n;var o=t;if(s.wa=cv(s,s.J?s.pa:null,s.Y),o.K){Km(s.i,o);var l=o,a=s.L;a&&l.setTimeout(a),l.B&&(za(l),Gr(l)),s.g=o}else iv(s);0<n.j.length&&Ka(n)}else c[0]!="stop"&&c[0]!="close"||as(n,7);else n.H==3&&(c[0]=="stop"||c[0]=="close"?c[0]=="stop"?as(n,7):Gu(n):c[0]!="noop"&&n.h&&n.h.Aa(c),n.A=0)}}Sr(4)}catch{}}function DI(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ma(t)){for(var e=[],n=t.length,s=0;s<n;s++)e.push(t[s]);return e}e=[],n=0;for(s in t)e[n++]=t[s];return e}function LI(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ma(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const s in t)e[n++]=s;return e}}}function Vm(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ma(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=LI(t),s=DI(t),i=s.length,r=0;r<i;r++)e.call(void 0,s[r],n&&n[r],t)}var Um=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function FI(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var s=t[n].indexOf("="),i=null;if(0<=s){var r=t[n].substring(0,s);i=t[n].substring(s+1)}else r=t[n];e(r,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function ps(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof ps){this.h=t.h,ea(this,t.j),this.s=t.s,this.g=t.g,ta(this,t.m),this.l=t.l;var e=t.i,n=new br;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),hf(this,n),this.o=t.o}else t&&(e=String(t).match(Um))?(this.h=!1,ea(this,e[1]||"",!0),this.s=Gi(e[2]||""),this.g=Gi(e[3]||"",!0),ta(this,e[4]),this.l=Gi(e[5]||"",!0),hf(this,e[6]||"",!0),this.o=Gi(e[7]||"")):(this.h=!1,this.i=new br(null,this.h))}ps.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Ki(e,ff,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Ki(e,ff,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(Ki(n,n.charAt(0)=="/"?UI:VI,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",Ki(n,zI)),t.join("")};function pn(t){return new ps(t)}function ea(t,e,n){t.j=n?Gi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function ta(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function hf(t,e,n){e instanceof br?(t.i=e,jI(t.i,t.h)):(n||(e=Ki(e,BI)),t.i=new br(e,t.h))}function Pe(t,e,n){t.i.set(e,n)}function ja(t){return Pe(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Gi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Ki(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,$I),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function $I(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var ff=/[#\/\?@]/g,VI=/[#\?:]/g,UI=/[#\?]/g,BI=/[#\?@]/g,zI=/#/g;function br(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Xn(t){t.g||(t.g=new Map,t.h=0,t.i&&FI(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}U=br.prototype;U.add=function(t,e){Xn(this),this.i=null,t=Ai(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function Bm(t,e){Xn(t),e=Ai(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function zm(t,e){return Xn(t),e=Ai(t,e),t.g.has(e)}U.forEach=function(t,e){Xn(this),this.g.forEach(function(n,s){n.forEach(function(i){t.call(e,i,s,this)},this)},this)};U.ta=function(){Xn(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let s=0;s<e.length;s++){const i=t[s];for(let r=0;r<i.length;r++)n.push(e[s])}return n};U.Z=function(t){Xn(this);let e=[];if(typeof t=="string")zm(this,t)&&(e=e.concat(this.g.get(Ai(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};U.set=function(t,e){return Xn(this),this.i=null,t=Ai(this,t),zm(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};U.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function jm(t,e,n){Bm(t,e),0<n.length&&(t.i=null,t.g.set(Ai(t,e),Pu(n)),t.h+=n.length)}U.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var s=e[n];const r=encodeURIComponent(String(s)),o=this.Z(s);for(s=0;s<o.length;s++){var i=r;o[s]!==""&&(i+="="+encodeURIComponent(String(o[s]))),t.push(i)}}return this.i=t.join("&")};function Ai(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function jI(t,e){e&&!t.j&&(Xn(t),t.i=null,t.g.forEach(function(n,s){var i=s.toLowerCase();s!=i&&(Bm(this,s),jm(this,i,n))},t)),t.j=e}var HI=class{constructor(t,e){this.g=t,this.map=e}};function Hm(t){this.l=t||qI,re.PerformanceNavigationTiming?(t=re.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(re.g&&re.g.Ka&&re.g.Ka()&&re.g.Ka().ec),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var qI=10;function qm(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function Gm(t){return t.h?1:t.g?t.g.size:0}function Ic(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function ju(t,e){t.g?t.g.add(e):t.h=e}function Km(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}Hm.prototype.cancel=function(){if(this.i=Wm(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function Wm(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return Pu(t.i)}var GI=class{stringify(t){return re.JSON.stringify(t,void 0)}parse(t){return re.JSON.parse(t,void 0)}};function KI(){this.g=new GI}function WI(t,e,n){const s=n||"";try{Vm(t,function(i,r){let o=i;Br(i)&&(o=Lu(i)),e.push(s+r+"="+encodeURIComponent(o))})}catch(i){throw e.push(s+"type="+encodeURIComponent("_badmap")),i}}function YI(t,e){const n=new $a;if(re.Image){const s=new Image;s.onload=uo(fo,n,s,"TestLoadImage: loaded",!0,e),s.onerror=uo(fo,n,s,"TestLoadImage: error",!1,e),s.onabort=uo(fo,n,s,"TestLoadImage: abort",!1,e),s.ontimeout=uo(fo,n,s,"TestLoadImage: timeout",!1,e),re.setTimeout(function(){s.ontimeout&&s.ontimeout()},1e4),s.src=t}else e(!1)}function fo(t,e,n,s,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(s)}catch{}}function Kr(t){this.l=t.fc||null,this.j=t.ob||!1}Ge(Kr,Uu);Kr.prototype.g=function(){return new Ha(this.l,this.j)};Kr.prototype.i=function(t){return function(){return t}}({});function Ha(t,e){qe.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=Hu,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Ge(Ha,qe);var Hu=0;U=Ha.prototype;U.open=function(t,e){if(this.readyState!=Hu)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,Ir(this)};U.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||re).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};U.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Wr(this)),this.readyState=Hu};U.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,Ir(this)),this.g&&(this.readyState=3,Ir(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof re.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Ym(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function Ym(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}U.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Wr(this):Ir(this),this.readyState==3&&Ym(this)}};U.Za=function(t){this.g&&(this.response=this.responseText=t,Wr(this))};U.Ya=function(t){this.g&&(this.response=t,Wr(this))};U.ka=function(){this.g&&Wr(this)};function Wr(t){t.readyState=4,t.l=null,t.j=null,t.A=null,Ir(t)}U.setRequestHeader=function(t,e){this.v.append(t,e)};U.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};U.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function Ir(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(Ha.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var QI=re.JSON.parse;function Ne(t){qe.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Qm,this.L=this.M=!1}Ge(Ne,qe);var Qm="",XI=/^https?$/i,JI=["POST","PUT"];U=Ne.prototype;U.Oa=function(t){this.M=t};U.ha=function(t,e,n,s){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Ec.g(),this.C=this.u?df(this.u):df(Ec),this.g.onreadystatechange=at(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(r){pf(this,r);return}if(t=n||"",n=new Map(this.headers),s)if(Object.getPrototypeOf(s)===Object.prototype)for(var i in s)n.set(i,s[i]);else if(typeof s.keys=="function"&&typeof s.get=="function")for(const r of s.keys())n.set(r,s.get(r));else throw Error("Unknown input type for opt_headers: "+String(s));s=Array.from(n.keys()).find(r=>r.toLowerCase()=="content-type"),i=re.FormData&&t instanceof re.FormData,!(0<=fm(JI,e))||s||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[r,o]of n)this.g.setRequestHeader(r,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Zm(this),0<this.B&&((this.L=ZI(this.g))?(this.g.timeout=this.B,this.g.ontimeout=at(this.ua,this)):this.A=Vu(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(r){pf(this,r)}};function ZI(t){return ci&&typeof t.timeout=="number"&&t.ontimeout!==void 0}U.ua=function(){typeof xu<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Je(this,"timeout"),this.abort(8))};function pf(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,Xm(t),qa(t)}function Xm(t){t.F||(t.F=!0,Je(t,"complete"),Je(t,"error"))}U.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Je(this,"complete"),Je(this,"abort"),qa(this))};U.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),qa(this,!0)),Ne.$.N.call(this)};U.La=function(){this.s||(this.G||this.v||this.l?Jm(this):this.kb())};U.kb=function(){Jm(this)};function Jm(t){if(t.h&&typeof xu<"u"&&(!t.C[1]||Kt(t)!=4||t.da()!=2)){if(t.v&&Kt(t)==4)Vu(t.La,0,t);else if(Je(t,"readystatechange"),Kt(t)==4){t.h=!1;try{const o=t.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var s;if(s=o===0){var i=String(t.I).match(Um)[1]||null;!i&&re.self&&re.self.location&&(i=re.self.location.protocol.slice(0,-1)),s=!XI.test(i?i.toLowerCase():"")}n=s}if(n)Je(t,"complete"),Je(t,"success");else{t.m=6;try{var r=2<Kt(t)?t.g.statusText:""}catch{r=""}t.j=r+" ["+t.da()+"]",Xm(t)}}finally{qa(t)}}}}function qa(t,e){if(t.g){Zm(t);const n=t.g,s=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Je(t,"ready");try{n.onreadystatechange=s}catch{}}}function Zm(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(re.clearTimeout(t.A),t.A=null)}U.isActive=function(){return!!this.g};function Kt(t){return t.g?t.g.readyState:0}U.da=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}};U.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};U.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),QI(e)}};function gf(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case Qm:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function eC(t){const e={};t=(t.g&&2<=Kt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let s=0;s<t.length;s++){if(yr(t[s]))continue;var n=II(t[s]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const r=e[i]||[];e[i]=r,r.push(n)}yI(e,function(s){return s.join(", ")})}U.Ia=function(){return this.m};U.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function ev(t){let e="";return Ru(t,function(n,s){e+=s,e+=":",e+=n,e+=`\r
`}),e}function qu(t,e,n){e:{for(s in n){var s=!1;break e}s=!0}s||(n=ev(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):Pe(t,e,n))}function Vi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function tv(t){this.Ga=0,this.j=[],this.l=new $a,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Vi("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Vi("baseRetryDelayMs",5e3,t),this.hb=Vi("retryDelaySeedMs",1e4,t),this.eb=Vi("forwardChannelMaxRetries",2,t),this.xa=Vi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.dc||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new Hm(t&&t.concurrentRequestLimit),this.Ja=new KI,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}U=tv.prototype;U.ra=8;U.H=1;function Gu(t){if(nv(t),t.H==3){var e=t.W++,n=pn(t.I);if(Pe(n,"SID",t.K),Pe(n,"RID",e),Pe(n,"TYPE","terminate"),Yr(t,n),e=new qr(t,t.l,e),e.L=2,e.v=ja(pn(n)),n=!1,re.navigator&&re.navigator.sendBeacon)try{n=re.navigator.sendBeacon(e.v.toString(),"")}catch{}!n&&re.Image&&(new Image().src=e.v,n=!0),n||(e.g=uv(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Gr(e)}lv(t)}function Ga(t){t.g&&(Wu(t),t.g.cancel(),t.g=null)}function nv(t){Ga(t),t.u&&(re.clearTimeout(t.u),t.u=null),na(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&re.clearTimeout(t.m),t.m=null)}function Ka(t){if(!qm(t.i)&&!t.m){t.m=!0;var e=t.Na;_r||Im(),Er||(_r(),Er=!0),Fu.add(e,t),t.C=0}}function tC(t,e){return Gm(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=jr(at(t.Na,t,e),av(t,t.C)),t.C++,!0)}U.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const i=new qr(this,this.l,t);let r=this.s;if(this.U&&(r?(r=vm(r),ym(r,this.U)):r=this.U),this.o!==null||this.O||(i.I=r,r=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var s=this.j[n];if("__data__"in s.map&&(s=s.map.__data__,typeof s=="string")){s=s.length;break t}s=void 0}if(s===void 0)break;if(e+=s,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=sv(this,i,e),n=pn(this.I),Pe(n,"RID",t),Pe(n,"CVER",22),this.F&&Pe(n,"X-HTTP-Session-Id",this.F),Yr(this,n),r&&(this.O?e="headers="+encodeURIComponent(String(ev(r)))+"&"+e:this.o&&qu(n,this.o,r)),ju(this.i,i),this.bb&&Pe(n,"TYPE","init"),this.P?(Pe(n,"$req",e),Pe(n,"SID","null"),i.aa=!0,Sc(i,n,null)):Sc(i,n,e),this.H=2}}else this.H==3&&(t?mf(this,t):this.j.length==0||qm(this.i)||mf(this))};function mf(t,e){var n;e?n=e.m:n=t.W++;const s=pn(t.I);Pe(s,"SID",t.K),Pe(s,"RID",n),Pe(s,"AID",t.V),Yr(t,s),t.o&&t.s&&qu(s,t.o,t.s),n=new qr(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=sv(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),ju(t.i,n),Sc(n,s,e)}function Yr(t,e){t.na&&Ru(t.na,function(n,s){Pe(e,s,n)}),t.h&&Vm({},function(n,s){Pe(e,s,n)})}function sv(t,e,n){n=Math.min(t.j.length,n);var s=t.h?at(t.h.Va,t.h,t):null;e:{var i=t.j;let r=-1;for(;;){const o=["count="+n];r==-1?0<n?(r=i[0].g,o.push("ofs="+r)):r=0:o.push("ofs="+r);let l=!0;for(let a=0;a<n;a++){let c=i[a].g;const u=i[a].map;if(c-=r,0>c)r=Math.max(0,i[a].g-100),l=!1;else try{WI(u,o,"req"+c+"_")}catch{s&&s(u)}}if(l){s=o.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,s}function iv(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;_r||Im(),Er||(_r(),Er=!0),Fu.add(e,t),t.A=0}}function Ku(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=jr(at(t.Ma,t),av(t,t.A)),t.A++,!0)}U.Ma=function(){if(this.u=null,rv(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=jr(at(this.jb,this),t)}};U.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,pt(10),Ga(this),rv(this))};function Wu(t){t.B!=null&&(re.clearTimeout(t.B),t.B=null)}function rv(t){t.g=new qr(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=pn(t.wa);Pe(e,"RID","rpc"),Pe(e,"SID",t.K),Pe(e,"AID",t.V),Pe(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&Pe(e,"TO",t.qa),Pe(e,"TYPE","xmlhttp"),Yr(t,e),t.o&&t.s&&qu(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.v=ja(pn(e)),n.s=null,n.S=!0,Dm(n,t)}U.ib=function(){this.v!=null&&(this.v=null,Ga(this),Ku(this),pt(19))};function na(t){t.v!=null&&(re.clearTimeout(t.v),t.v=null)}function ov(t,e){var n=null;if(t.g==e){na(t),Wu(t),t.g=null;var s=2}else if(Ic(t.i,e))n=e.F,Km(t.i,e),s=1;else return;if(t.H!=0){if(e.i)if(s==1){n=e.s?e.s.length:0,e=Date.now()-e.G;var i=t.C;s=Va(),Je(s,new Rm(s,n)),Ka(t)}else iv(t);else if(i=e.o,i==3||i==0&&0<e.ca||!(s==1&&tC(t,e)||s==2&&Ku(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),i){case 1:as(t,5);break;case 4:as(t,10);break;case 3:as(t,6);break;default:as(t,2)}}}function av(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function as(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var s=at(t.pb,t);n||(n=new ps("//www.google.com/images/cleardot.gif"),re.location&&re.location.protocol=="http"||ea(n,"https"),ja(n)),YI(n.toString(),s)}else pt(2);t.H=0,t.h&&t.h.za(e),lv(t),nv(t)}U.pb=function(t){t?(this.l.info("Successfully pinged google.com"),pt(2)):(this.l.info("Failed to ping google.com"),pt(1))};function lv(t){if(t.H=0,t.ma=[],t.h){const e=Wm(t.i);(e.length!=0||t.j.length!=0)&&(of(t.ma,e),of(t.ma,t.j),t.i.i.length=0,Pu(t.j),t.j.length=0),t.h.ya()}}function cv(t,e,n){var s=n instanceof ps?pn(n):new ps(n);if(s.g!="")e&&(s.g=e+"."+s.g),ta(s,s.m);else{var i=re.location;s=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var r=new ps(null);s&&ea(r,s),e&&(r.g=e),i&&ta(r,i),n&&(r.l=n),s=r}return n=t.F,e=t.Da,n&&e&&Pe(s,n,e),Pe(s,"VER",t.ra),Yr(t,s),s}function uv(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=n&&t.Ha&&!t.va?new Ne(new Kr({ob:!0})):new Ne(t.va),e.Oa(t.J),e}U.isActive=function(){return!!this.h&&this.h.isActive(this)};function dv(){}U=dv.prototype;U.Ba=function(){};U.Aa=function(){};U.za=function(){};U.ya=function(){};U.isActive=function(){return!0};U.Va=function(){};function sa(){if(ci&&!(10<=Number(pI)))throw Error("Environmental error: no available transport.")}sa.prototype.g=function(t,e){return new It(t,e)};function It(t,e){qe.call(this),this.g=new tv(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!yr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!yr(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new xi(this)}Ge(It,qe);It.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;pt(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=cv(t,null,t.Y),Ka(t)};It.prototype.close=function(){Gu(this.g)};It.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=Lu(t),t=n);e.j.push(new HI(e.fb++,t)),e.H==3&&Ka(e)};It.prototype.N=function(){this.g.h=null,delete this.j,Gu(this.g),delete this.g,It.$.N.call(this)};function hv(t){Bu.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}Ge(hv,Bu);function fv(){zu.call(this),this.status=1}Ge(fv,zu);function xi(t){this.g=t}Ge(xi,dv);xi.prototype.Ba=function(){Je(this.g,"a")};xi.prototype.Aa=function(t){Je(this.g,new hv(t))};xi.prototype.za=function(t){Je(this.g,new fv)};xi.prototype.ya=function(){Je(this.g,"b")};function nC(){this.blockSize=-1}function Ut(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Ge(Ut,nC);Ut.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function Ml(t,e,n){n||(n=0);var s=Array(16);if(typeof e=="string")for(var i=0;16>i;++i)s[i]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(i=0;16>i;++i)s[i]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],i=t.g[2];var r=t.g[3],o=e+(r^n&(i^r))+s[0]+3614090360&4294967295;e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[1]+3905402710&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[2]+606105819&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[4]+4118548399&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[5]+1200080426&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[6]+2821735955&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[8]+1770035416&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[9]+2336552879&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[10]+4294925233&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(r^n&(i^r))+s[12]+1804603682&4294967295,e=n+(o<<7&4294967295|o>>>25),o=r+(i^e&(n^i))+s[13]+4254626195&4294967295,r=e+(o<<12&4294967295|o>>>20),o=i+(n^r&(e^n))+s[14]+2792965006&4294967295,i=r+(o<<17&4294967295|o>>>15),o=n+(e^i&(r^e))+s[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=e+(i^r&(n^i))+s[1]+4129170786&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[6]+3225465664&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[11]+643717713&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[5]+3593408605&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[10]+38016083&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[15]+3634488961&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[9]+568446438&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[14]+3275163606&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[3]+4107603335&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(i^r&(n^i))+s[13]+2850285829&4294967295,e=n+(o<<5&4294967295|o>>>27),o=r+(n^i&(e^n))+s[2]+4243563512&4294967295,r=e+(o<<9&4294967295|o>>>23),o=i+(e^n&(r^e))+s[7]+1735328473&4294967295,i=r+(o<<14&4294967295|o>>>18),o=n+(r^e&(i^r))+s[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=e+(n^i^r)+s[5]+4294588738&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[8]+2272392833&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[11]+1839030562&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[1]+2763975236&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[4]+1272893353&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[7]+4139469664&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[13]+681279174&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[0]+3936430074&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[3]+3572445317&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(n^i^r)+s[9]+3654602809&4294967295,e=n+(o<<4&4294967295|o>>>28),o=r+(e^n^i)+s[12]+3873151461&4294967295,r=e+(o<<11&4294967295|o>>>21),o=i+(r^e^n)+s[15]+530742520&4294967295,i=r+(o<<16&4294967295|o>>>16),o=n+(i^r^e)+s[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=e+(i^(n|~r))+s[0]+4096336452&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[7]+1126891415&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[14]+2878612391&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[12]+1700485571&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[3]+2399980690&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[10]+4293915773&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[8]+1873313359&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[15]+4264355552&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[6]+2734768916&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=e+(i^(n|~r))+s[4]+4149444226&4294967295,e=n+(o<<6&4294967295|o>>>26),o=r+(n^(e|~i))+s[11]+3174756917&4294967295,r=e+(o<<10&4294967295|o>>>22),o=i+(e^(r|~n))+s[2]+718787259&4294967295,i=r+(o<<15&4294967295|o>>>17),o=n+(r^(i|~e))+s[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,t.g[2]=t.g[2]+i&4294967295,t.g[3]=t.g[3]+r&4294967295}Ut.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,s=this.m,i=this.h,r=0;r<e;){if(i==0)for(;r<=n;)Ml(this,t,r),r+=this.blockSize;if(typeof t=="string"){for(;r<e;)if(s[i++]=t.charCodeAt(r++),i==this.blockSize){Ml(this,s),i=0;break}}else for(;r<e;)if(s[i++]=t[r++],i==this.blockSize){Ml(this,s),i=0;break}}this.h=i,this.i+=e};Ut.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var s=0;32>s;s+=8)t[n++]=this.g[e]>>>s&255;return t};function Se(t,e){this.h=e;for(var n=[],s=!0,i=t.length-1;0<=i;i--){var r=t[i]|0;s&&r==e||(n[i]=r,s=!1)}this.g=n}var sC={};function Yu(t){return-128<=t&&128>t?dI(t,function(e){return new Se([e|0],0>e?-1:0)}):new Se([t|0],0>t?-1:0)}function Wt(t){if(isNaN(t)||!isFinite(t))return Ws;if(0>t)return Qe(Wt(-t));for(var e=[],n=1,s=0;t>=n;s++)e[s]=t/n|0,n*=Cc;return new Se(e,0)}function pv(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Qe(pv(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Wt(Math.pow(e,8)),s=Ws,i=0;i<t.length;i+=8){var r=Math.min(8,t.length-i),o=parseInt(t.substring(i,i+r),e);8>r?(r=Wt(Math.pow(e,r)),s=s.R(r).add(Wt(o))):(s=s.R(n),s=s.add(Wt(o)))}return s}var Cc=4294967296,Ws=Yu(0),Ac=Yu(1),vf=Yu(16777216);U=Se.prototype;U.ea=function(){if(At(this))return-Qe(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var s=this.D(n);t+=(0<=s?s:Cc+s)*e,e*=Cc}return t};U.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(dn(this))return"0";if(At(this))return"-"+Qe(this).toString(t);for(var e=Wt(Math.pow(t,6)),n=this,s="";;){var i=ra(n,e).g;n=ia(n,i.R(e));var r=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=i,dn(n))return r+s;for(;6>r.length;)r="0"+r;s=r+s}};U.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function dn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function At(t){return t.h==-1}U.X=function(t){return t=ia(this,t),At(t)?-1:dn(t)?0:1};function Qe(t){for(var e=t.g.length,n=[],s=0;s<e;s++)n[s]=~t.g[s];return new Se(n,~t.h).add(Ac)}U.abs=function(){return At(this)?Qe(this):this};U.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0,i=0;i<=e;i++){var r=s+(this.D(i)&65535)+(t.D(i)&65535),o=(r>>>16)+(this.D(i)>>>16)+(t.D(i)>>>16);s=o>>>16,r&=65535,o&=65535,n[i]=o<<16|r}return new Se(n,n[n.length-1]&-2147483648?-1:0)};function ia(t,e){return t.add(Qe(e))}U.R=function(t){if(dn(this)||dn(t))return Ws;if(At(this))return At(t)?Qe(this).R(Qe(t)):Qe(Qe(this).R(t));if(At(t))return Qe(this.R(Qe(t)));if(0>this.X(vf)&&0>t.X(vf))return Wt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],s=0;s<2*e;s++)n[s]=0;for(s=0;s<this.g.length;s++)for(var i=0;i<t.g.length;i++){var r=this.D(s)>>>16,o=this.D(s)&65535,l=t.D(i)>>>16,a=t.D(i)&65535;n[2*s+2*i]+=o*a,po(n,2*s+2*i),n[2*s+2*i+1]+=r*a,po(n,2*s+2*i+1),n[2*s+2*i+1]+=o*l,po(n,2*s+2*i+1),n[2*s+2*i+2]+=r*l,po(n,2*s+2*i+2)}for(s=0;s<e;s++)n[s]=n[2*s+1]<<16|n[2*s];for(s=e;s<2*e;s++)n[s]=0;return new Se(n,0)};function po(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function Ui(t,e){this.g=t,this.h=e}function ra(t,e){if(dn(e))throw Error("division by zero");if(dn(t))return new Ui(Ws,Ws);if(At(t))return e=ra(Qe(t),e),new Ui(Qe(e.g),Qe(e.h));if(At(e))return e=ra(t,Qe(e)),new Ui(Qe(e.g),e.h);if(30<t.g.length){if(At(t)||At(e))throw Error("slowDivide_ only works with positive integers.");for(var n=Ac,s=e;0>=s.X(t);)n=yf(n),s=yf(s);var i=Ns(n,1),r=Ns(s,1);for(s=Ns(s,2),n=Ns(n,2);!dn(s);){var o=r.add(s);0>=o.X(t)&&(i=i.add(n),r=o),s=Ns(s,1),n=Ns(n,1)}return e=ia(t,i.R(e)),new Ui(i,e)}for(i=Ws;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),s=Math.ceil(Math.log(n)/Math.LN2),s=48>=s?1:Math.pow(2,s-48),r=Wt(n),o=r.R(e);At(o)||0<o.X(t);)n-=s,r=Wt(n),o=r.R(e);dn(r)&&(r=Ac),i=i.add(r),t=ia(t,o)}return new Ui(i,t)}U.gb=function(t){return ra(this,t).h};U.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)&t.D(s);return new Se(n,this.h&t.h)};U.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)|t.D(s);return new Se(n,this.h|t.h)};U.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],s=0;s<e;s++)n[s]=this.D(s)^t.D(s);return new Se(n,this.h^t.h)};function yf(t){for(var e=t.g.length+1,n=[],s=0;s<e;s++)n[s]=t.D(s)<<1|t.D(s-1)>>>31;return new Se(n,t.h)}function Ns(t,e){var n=e>>5;e%=32;for(var s=t.g.length-n,i=[],r=0;r<s;r++)i[r]=0<e?t.D(r+n)>>>e|t.D(r+n+1)<<32-e:t.D(r+n);return new Se(i,t.h)}sa.prototype.createWebChannel=sa.prototype.g;It.prototype.send=It.prototype.u;It.prototype.open=It.prototype.m;It.prototype.close=It.prototype.close;Ua.NO_ERROR=0;Ua.TIMEOUT=8;Ua.HTTP_ERROR=6;Om.COMPLETE="complete";Mm.EventType=Hr;Hr.OPEN="a";Hr.CLOSE="b";Hr.ERROR="c";Hr.MESSAGE="d";qe.prototype.listen=qe.prototype.O;Ne.prototype.listenOnce=Ne.prototype.P;Ne.prototype.getLastError=Ne.prototype.Sa;Ne.prototype.getLastErrorCode=Ne.prototype.Ia;Ne.prototype.getStatus=Ne.prototype.da;Ne.prototype.getResponseJson=Ne.prototype.Wa;Ne.prototype.getResponseText=Ne.prototype.ja;Ne.prototype.send=Ne.prototype.ha;Ne.prototype.setWithCredentials=Ne.prototype.Oa;Ut.prototype.digest=Ut.prototype.l;Ut.prototype.reset=Ut.prototype.reset;Ut.prototype.update=Ut.prototype.j;Se.prototype.add=Se.prototype.add;Se.prototype.multiply=Se.prototype.R;Se.prototype.modulo=Se.prototype.gb;Se.prototype.compare=Se.prototype.X;Se.prototype.toNumber=Se.prototype.ea;Se.prototype.toString=Se.prototype.toString;Se.prototype.getBits=Se.prototype.D;Se.fromNumber=Wt;Se.fromString=pv;var iC=function(){return new sa},rC=function(){return Va()},Nl=Ua,oC=Om,aC=xs,wf={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},lC=Kr,go=Mm,cC=Ne,uC=Ut,Ys=Se;const _f="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class et{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}et.UNAUTHENTICATED=new et(null),et.GOOGLE_CREDENTIALS=new et("google-credentials-uid"),et.FIRST_PARTY=new et("first-party-uid"),et.MOCK_USER=new et("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Pi="9.22.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ss=new gu("@firebase/firestore");function Ef(){return Ss.logLevel}function Y(t,...e){if(Ss.logLevel<=me.DEBUG){const n=e.map(Qu);Ss.debug(`Firestore (${Pi}): ${t}`,...n)}}function gn(t,...e){if(Ss.logLevel<=me.ERROR){const n=e.map(Qu);Ss.error(`Firestore (${Pi}): ${t}`,...n)}}function ui(t,...e){if(Ss.logLevel<=me.WARN){const n=e.map(Qu);Ss.warn(`Firestore (${Pi}): ${t}`,...n)}}function Qu(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ie(t="Unexpected state"){const e=`FIRESTORE (${Pi}) INTERNAL ASSERTION FAILED: `+t;throw gn(e),new Error(e)}function Re(t,e){t||ie()}function le(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class j extends wn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gv{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class dC{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(et.UNAUTHENTICATED))}shutdown(){}}class hC{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class fC{constructor(e){this.t=e,this.currentUser=et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let s=this.i;const i=a=>this.i!==s?(s=this.i,n(a)):Promise.resolve();let r=new zn;this.o=()=>{this.i++,this.currentUser=this.u(),r.resolve(),r=new zn,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const a=r;e.enqueueRetryable(async()=>{await a.promise,await i(this.currentUser)})},l=a=>{Y("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=a,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(a=>l(a)),setTimeout(()=>{if(!this.auth){const a=this.t.getImmediate({optional:!0});a?l(a):(Y("FirebaseAuthCredentialsProvider","Auth not yet detected"),r.resolve(),r=new zn)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(Y("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Re(typeof s.accessToken=="string"),new gv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Re(e===null||typeof e=="string"),new et(e)}}class pC{constructor(e,n,s){this.h=e,this.l=n,this.m=s,this.type="FirstParty",this.user=et.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class gC{constructor(e,n,s){this.h=e,this.l=n,this.m=s}getToken(){return Promise.resolve(new pC(this.h,this.l,this.m))}start(e,n){e.enqueueRetryable(()=>n(et.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class mC{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vC{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,n){const s=r=>{r.error!=null&&Y("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${r.error.message}`);const o=r.token!==this.T;return this.T=r.token,Y("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(r.token):Promise.resolve()};this.o=r=>{e.enqueueRetryable(()=>s(r))};const i=r=>{Y("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=r,this.appCheck.addTokenListener(this.o)};this.I.onInit(r=>i(r)),setTimeout(()=>{if(!this.appCheck){const r=this.I.getImmediate({optional:!0});r?i(r):Y("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Re(typeof n.token=="string"),this.T=n.token,new mC(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yC(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<t;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const i=yC(40);for(let r=0;r<i.length;++r)s.length<20&&i[r]<n&&(s+=e.charAt(i[r]%e.length))}return s}}function ye(t,e){return t<e?-1:t>e?1:0}function di(t,e,n){return t.length===e.length&&t.every((s,i)=>n(s,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ue{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new j(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new j(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new j(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new j(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ue.fromMillis(Date.now())}static fromDate(e){return Ue.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new Ue(n,s)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ye(this.nanoseconds,e.nanoseconds):ye(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.timestamp=e}static fromTimestamp(e){return new ae(e)}static min(){return new ae(new Ue(0,0))}static max(){return new ae(new Ue(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr{constructor(e,n,s){n===void 0?n=0:n>e.length&&ie(),s===void 0?s=e.length-n:s>e.length-n&&ie(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return Cr.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Cr?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let i=0;i<s;i++){const r=e.get(i),o=n.get(i);if(r<o)return-1;if(r>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class ke extends Cr{construct(e,n,s){return new ke(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new j(A.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(i=>i.length>0))}return new ke(n)}static emptyPath(){return new ke([])}}const wC=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class rt extends Cr{construct(e,n,s){return new rt(e,n,s)}static isValidIdentifier(e){return wC.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),rt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new rt(["__name__"])}static fromServerFormat(e){const n=[];let s="",i=0;const r=()=>{if(s.length===0)throw new j(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let o=!1;for(;i<e.length;){const l=e[i];if(l==="\\"){if(i+1===e.length)throw new j(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const a=e[i+1];if(a!=="\\"&&a!=="."&&a!=="`")throw new j(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=a,i+=2}else l==="`"?(o=!o,i++):l!=="."||o?(s+=l,i++):(r(),i++)}if(r(),o)throw new j(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new rt(n)}static emptyPath(){return new rt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q{constructor(e){this.path=e}static fromPath(e){return new Q(ke.fromString(e))}static fromName(e){return new Q(ke.fromString(e).popFirst(5))}static empty(){return new Q(ke.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ke.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ke.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Q(new ke(e.slice()))}}function _C(t,e){const n=t.toTimestamp().seconds,s=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(s===1e9?new Ue(n+1,0):new Ue(n,s));return new Kn(i,Q.empty(),e)}function EC(t){return new Kn(t.readTime,t.key,-1)}class Kn{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new Kn(ae.min(),Q.empty(),-1)}static max(){return new Kn(ae.max(),Q.empty(),-1)}}function TC(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Q.comparator(t.documentKey,e.documentKey),n!==0?n:ye(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SC="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class bC{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qr(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==SC)throw t;Y("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&ie(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new M((s,i)=>{this.nextCallback=r=>{this.wrapSuccess(e,r).next(s,i)},this.catchCallback=r=>{this.wrapFailure(n,r).next(s,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof M?n:M.resolve(n)}catch(n){return M.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):M.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):M.reject(n)}static resolve(e){return new M((n,s)=>{n(e)})}static reject(e){return new M((n,s)=>{s(e)})}static waitFor(e){return new M((n,s)=>{let i=0,r=0,o=!1;e.forEach(l=>{++i,l.next(()=>{++r,o&&r===i&&n()},a=>s(a))}),o=!0,r===i&&n()})}static or(e){let n=M.resolve(!1);for(const s of e)n=n.next(i=>i?M.resolve(i):s());return n}static forEach(e,n){const s=[];return e.forEach((i,r)=>{s.push(n.call(this,i,r))}),this.waitFor(s)}static mapArray(e,n){return new M((s,i)=>{const r=e.length,o=new Array(r);let l=0;for(let a=0;a<r;a++){const c=a;n(e[c]).next(u=>{o[c]=u,++l,l===r&&s(o)},u=>i(u))}})}static doWhile(e,n){return new M((s,i)=>{const r=()=>{e()===!0?n().next(()=>{r()},i):s()};r()})}}function Xr(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ot(s),this.ut=s=>n.writeSequenceNumber(s))}ot(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ut&&this.ut(e),e}}Xu.ct=-1;function Wa(t){return t==null}function oa(t){return t===0&&1/t==-1/0}function IC(t){return typeof t=="number"&&Number.isInteger(t)&&!oa(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tf(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ki(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function vv(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e,n){this.comparator=e,this.root=n||We.EMPTY}insert(e,n){return new Me(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,We.BLACK,null,null))}remove(e){return new Me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,We.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const i=this.comparator(e,s.key);if(i===0)return n+s.left.size;i<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new mo(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new mo(this.root,e,this.comparator,!1)}getReverseIterator(){return new mo(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new mo(this.root,e,this.comparator,!0)}}class mo{constructor(e,n,s,i){this.isReverse=i,this.nodeStack=[];let r=1;for(;!e.isEmpty();)if(r=n?s(e.key,n):1,n&&i&&(r*=-1),r<0)e=this.isReverse?e.left:e.right;else{if(r===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class We{constructor(e,n,s,i,r){this.key=e,this.value=n,this.color=s??We.RED,this.left=i??We.EMPTY,this.right=r??We.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,i,r){return new We(e??this.key,n??this.value,s??this.color,i??this.left,r??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let i=this;const r=s(e,i.key);return i=r<0?i.copy(null,null,null,i.left.insert(e,n,s),null):r===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,s)),i.fixUp()}removeMin(){if(this.left.isEmpty())return We.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return We.EMPTY;s=i.right.min(),i=i.copy(s.key,s.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,We.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,We.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ie();const e=this.left.check();if(e!==this.right.check())throw ie();return e+(this.isRed()?0:1)}}We.EMPTY=null,We.RED=!0,We.BLACK=!1;We.EMPTY=new class{constructor(){this.size=0}get key(){throw ie()}get value(){throw ie()}get color(){throw ie()}get left(){throw ie()}get right(){throw ie()}copy(t,e,n,s,i){return this}insert(t,e,n){return new We(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{constructor(e){this.comparator=e,this.data=new Me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const i=s.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Sf(this.data.getIterator())}getIteratorFrom(e){return new Sf(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof ct)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(this.comparator(i,r)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new ct(this.comparator);return n.data=e,n}}class Sf{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.fields=e,e.sort(rt.comparator)}static empty(){return new Dt([])}unionWith(e){let n=new ct(rt.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new Dt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return di(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new yv("Invalid base64 string: "+i):i}}(e);return new ht(n)}static fromUint8Array(e){const n=function(s){let i="";for(let r=0;r<s.length;++r)i+=String.fromCharCode(s[r]);return i}(e);return new ht(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const n=new Uint8Array(e.length);for(let s=0;s<e.length;s++)n[s]=e.charCodeAt(s);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ye(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ht.EMPTY_BYTE_STRING=new ht("");const CC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wn(t){if(Re(!!t),typeof t=="string"){let e=0;const n=CC.exec(t);if(Re(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const s=new Date(t);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:Fe(t.seconds),nanos:Fe(t.nanos)}}function Fe(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function bs(t){return typeof t=="string"?ht.fromBase64String(t):ht.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Zu(t){const e=t.mapValue.fields.__previous_value__;return Ju(e)?Zu(e):e}function Ar(t){const e=Wn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ue(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AC{constructor(e,n,s,i,r,o,l,a,c){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=i,this.ssl=r,this.forceLongPolling=o,this.autoDetectLongPolling=l,this.longPollingOptions=a,this.useFetchStreams=c}}class xr{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new xr("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof xr&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vo={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Is(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ju(t)?4:xC(t)?9007199254740991:10:ie()}function nn(t,e){if(t===e)return!0;const n=Is(t);if(n!==Is(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Ar(t).isEqual(Ar(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const r=Wn(s.timestampValue),o=Wn(i.timestampValue);return r.seconds===o.seconds&&r.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return bs(s.bytesValue).isEqual(bs(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return Fe(s.geoPointValue.latitude)===Fe(i.geoPointValue.latitude)&&Fe(s.geoPointValue.longitude)===Fe(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return Fe(s.integerValue)===Fe(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const r=Fe(s.doubleValue),o=Fe(i.doubleValue);return r===o?oa(r)===oa(o):isNaN(r)&&isNaN(o)}return!1}(t,e);case 9:return di(t.arrayValue.values||[],e.arrayValue.values||[],nn);case 10:return function(s,i){const r=s.mapValue.fields||{},o=i.mapValue.fields||{};if(Tf(r)!==Tf(o))return!1;for(const l in r)if(r.hasOwnProperty(l)&&(o[l]===void 0||!nn(r[l],o[l])))return!1;return!0}(t,e);default:return ie()}}function Pr(t,e){return(t.values||[]).find(n=>nn(n,e))!==void 0}function hi(t,e){if(t===e)return 0;const n=Is(t),s=Is(e);if(n!==s)return ye(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ye(t.booleanValue,e.booleanValue);case 2:return function(i,r){const o=Fe(i.integerValue||i.doubleValue),l=Fe(r.integerValue||r.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return bf(t.timestampValue,e.timestampValue);case 4:return bf(Ar(t),Ar(e));case 5:return ye(t.stringValue,e.stringValue);case 6:return function(i,r){const o=bs(i),l=bs(r);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,r){const o=i.split("/"),l=r.split("/");for(let a=0;a<o.length&&a<l.length;a++){const c=ye(o[a],l[a]);if(c!==0)return c}return ye(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,r){const o=ye(Fe(i.latitude),Fe(r.latitude));return o!==0?o:ye(Fe(i.longitude),Fe(r.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,r){const o=i.values||[],l=r.values||[];for(let a=0;a<o.length&&a<l.length;++a){const c=hi(o[a],l[a]);if(c)return c}return ye(o.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,r){if(i===vo.mapValue&&r===vo.mapValue)return 0;if(i===vo.mapValue)return 1;if(r===vo.mapValue)return-1;const o=i.fields||{},l=Object.keys(o),a=r.fields||{},c=Object.keys(a);l.sort(),c.sort();for(let u=0;u<l.length&&u<c.length;++u){const d=ye(l[u],c[u]);if(d!==0)return d;const h=hi(o[l[u]],a[c[u]]);if(h!==0)return h}return ye(l.length,c.length)}(t.mapValue,e.mapValue);default:throw ie()}}function bf(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ye(t,e);const n=Wn(t),s=Wn(e),i=ye(n.seconds,s.seconds);return i!==0?i:ye(n.nanos,s.nanos)}function fi(t){return xc(t)}function xc(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(s){const i=Wn(s);return`time(${i.seconds},${i.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?bs(t.bytesValue).toBase64():"referenceValue"in t?(n=t.referenceValue,Q.fromName(n).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(s){let i="[",r=!0;for(const o of s.values||[])r?r=!1:i+=",",i+=xc(o);return i+"]"}(t.arrayValue):"mapValue"in t?function(s){const i=Object.keys(s.fields||{}).sort();let r="{",o=!0;for(const l of i)o?o=!1:r+=",",r+=`${l}:${xc(s.fields[l])}`;return r+"}"}(t.mapValue):ie();var e,n}function If(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Pc(t){return!!t&&"integerValue"in t}function ed(t){return!!t&&"arrayValue"in t}function Cf(t){return!!t&&"nullValue"in t}function Af(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Ro(t){return!!t&&"mapValue"in t}function sr(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return ki(t.mapValue.fields,(n,s)=>e.mapValue.fields[n]=sr(s)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sr(t.arrayValue.values[n]);return e}return Object.assign({},t)}function xC(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.value=e}static empty(){return new xt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Ro(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sr(n)}setAll(e){let n=rt.emptyPath(),s={},i=[];e.forEach((o,l)=>{if(!n.isImmediateParentOf(l)){const a=this.getFieldsMap(n);this.applyChanges(a,s,i),s={},i=[],n=l.popLast()}o?s[l.lastSegment()]=sr(o):i.push(l.lastSegment())});const r=this.getFieldsMap(n);this.applyChanges(r,s,i)}delete(e){const n=this.field(e.popLast());Ro(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return nn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let i=n.mapValue.fields[e.get(s)];Ro(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,s){ki(n,(i,r)=>e[i]=r);for(const i of s)delete e[i]}clone(){return new xt(sr(this.value))}}function wv(t){const e=[];return ki(t.fields,(n,s)=>{const i=new rt([n]);if(Ro(s)){const r=wv(s.mapValue).fields;if(r.length===0)e.push(i);else for(const o of r)e.push(i.child(o))}else e.push(i)}),new Dt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n,s,i,r,o,l){this.key=e,this.documentType=n,this.version=s,this.readTime=i,this.createTime=r,this.data=o,this.documentState=l}static newInvalidDocument(e){return new nt(e,0,ae.min(),ae.min(),ae.min(),xt.empty(),0)}static newFoundDocument(e,n,s,i){return new nt(e,1,n,ae.min(),s,i,0)}static newNoDocument(e,n){return new nt(e,2,n,ae.min(),ae.min(),xt.empty(),0)}static newUnknownDocument(e,n){return new nt(e,3,n,ae.min(),ae.min(),xt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=xt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=xt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof nt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new nt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aa{constructor(e,n){this.position=e,this.inclusive=n}}function xf(t,e,n){let s=0;for(let i=0;i<t.position.length;i++){const r=e[i],o=t.position[i];if(r.field.isKeyField()?s=Q.comparator(Q.fromName(o.referenceValue),n.key):s=hi(o,n.data.field(r.field)),r.dir==="desc"&&(s*=-1),s!==0)break}return s}function Pf(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!nn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,n="asc"){this.field=e,this.dir=n}}function PC(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _v{}class $e extends _v{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new RC(e,n,s):n==="array-contains"?new NC(e,s):n==="in"?new DC(e,s):n==="not-in"?new LC(e,s):n==="array-contains-any"?new FC(e,s):new $e(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new OC(e,s):new MC(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(hi(n,this.value)):n!==null&&Is(this.value)===Is(n)&&this.matchesComparison(hi(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ie()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Bt extends _v{constructor(e,n){super(),this.filters=e,this.op=n,this.lt=null}static create(e,n){return new Bt(e,n)}matches(e){return Ev(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.ft(n=>n.isInequality());return e!==null?e.field:null}ft(e){for(const n of this.getFlattenedFilters())if(e(n))return n;return null}}function Ev(t){return t.op==="and"}function Tv(t){return kC(t)&&Ev(t)}function kC(t){for(const e of t.filters)if(e instanceof Bt)return!1;return!0}function kc(t){if(t instanceof $e)return t.field.canonicalString()+t.op.toString()+fi(t.value);if(Tv(t))return t.filters.map(e=>kc(e)).join(",");{const e=t.filters.map(n=>kc(n)).join(",");return`${t.op}(${e})`}}function Sv(t,e){return t instanceof $e?function(n,s){return s instanceof $e&&n.op===s.op&&n.field.isEqual(s.field)&&nn(n.value,s.value)}(t,e):t instanceof Bt?function(n,s){return s instanceof Bt&&n.op===s.op&&n.filters.length===s.filters.length?n.filters.reduce((i,r,o)=>i&&Sv(r,s.filters[o]),!0):!1}(t,e):void ie()}function bv(t){return t instanceof $e?function(e){return`${e.field.canonicalString()} ${e.op} ${fi(e.value)}`}(t):t instanceof Bt?function(e){return e.op.toString()+" {"+e.getFilters().map(bv).join(" ,")+"}"}(t):"Filter"}class RC extends $e{constructor(e,n,s){super(e,n,s),this.key=Q.fromName(s.referenceValue)}matches(e){const n=Q.comparator(e.key,this.key);return this.matchesComparison(n)}}class OC extends $e{constructor(e,n){super(e,"in",n),this.keys=Iv("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class MC extends $e{constructor(e,n){super(e,"not-in",n),this.keys=Iv("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Iv(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>Q.fromName(s.referenceValue))}class NC extends $e{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return ed(n)&&Pr(n.arrayValue,this.value)}}class DC extends $e{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Pr(this.value.arrayValue,n)}}class LC extends $e{constructor(e,n){super(e,"not-in",n)}matches(e){if(Pr(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!Pr(this.value.arrayValue,n)}}class FC extends $e{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!ed(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>Pr(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $C{constructor(e,n=null,s=[],i=[],r=null,o=null,l=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=i,this.limit=r,this.startAt=o,this.endAt=l,this.dt=null}}function kf(t,e=null,n=[],s=[],i=null,r=null,o=null){return new $C(t,e,n,s,i,r,o)}function td(t){const e=le(t);if(e.dt===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>kc(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(i){return i.field.canonicalString()+i.dir}(s)).join(","),Wa(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fi(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fi(s)).join(",")),e.dt=n}return e.dt}function nd(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!PC(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!Sv(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Pf(t.startAt,e.startAt)&&Pf(t.endAt,e.endAt)}function Rc(t){return Q.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ri{constructor(e,n=null,s=[],i=[],r=null,o="F",l=null,a=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=i,this.limit=r,this.limitType=o,this.startAt=l,this.endAt=a,this.wt=null,this._t=null,this.startAt,this.endAt}}function VC(t,e,n,s,i,r,o,l){return new Ri(t,e,n,s,i,r,o,l)}function sd(t){return new Ri(t)}function Rf(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function id(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function Ya(t){for(const e of t.filters){const n=e.getFirstInequalityField();if(n!==null)return n}return null}function Cv(t){return t.collectionGroup!==null}function Xs(t){const e=le(t);if(e.wt===null){e.wt=[];const n=Ya(e),s=id(e);if(n!==null&&s===null)n.isKeyField()||e.wt.push(new Qs(n)),e.wt.push(new Qs(rt.keyField(),"asc"));else{let i=!1;for(const r of e.explicitOrderBy)e.wt.push(r),r.field.isKeyField()&&(i=!0);if(!i){const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Qs(rt.keyField(),r))}}}return e.wt}function mn(t){const e=le(t);if(!e._t)if(e.limitType==="F")e._t=kf(e.path,e.collectionGroup,Xs(e),e.filters,e.limit,e.startAt,e.endAt);else{const n=[];for(const r of Xs(e)){const o=r.dir==="desc"?"asc":"desc";n.push(new Qs(r.field,o))}const s=e.endAt?new aa(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new aa(e.startAt.position,e.startAt.inclusive):null;e._t=kf(e.path,e.collectionGroup,n,e.filters,e.limit,s,i)}return e._t}function Oc(t,e){e.getFirstInequalityField(),Ya(t);const n=t.filters.concat([e]);return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function Mc(t,e,n){return new Ri(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Qa(t,e){return nd(mn(t),mn(e))&&t.limitType===e.limitType}function Av(t){return`${td(mn(t))}|lt:${t.limitType}`}function Nc(t){return`Query(target=${function(e){let n=e.path.canonicalString();return e.collectionGroup!==null&&(n+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(n+=`, filters: [${e.filters.map(s=>bv(s)).join(", ")}]`),Wa(e.limit)||(n+=", limit: "+e.limit),e.orderBy.length>0&&(n+=`, orderBy: [${e.orderBy.map(s=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(s)).join(", ")}]`),e.startAt&&(n+=", startAt: ",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>fi(s)).join(",")),e.endAt&&(n+=", endAt: ",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>fi(s)).join(",")),`Target(${n})`}(mn(t))}; limitType=${t.limitType})`}function Xa(t,e){return e.isFoundDocument()&&function(n,s){const i=s.key.path;return n.collectionGroup!==null?s.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Q.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(t,e)&&function(n,s){for(const i of Xs(n))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(n,s){for(const i of n.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(n,s){return!(n.startAt&&!function(i,r,o){const l=xf(i,r,o);return i.inclusive?l<=0:l<0}(n.startAt,Xs(n),s)||n.endAt&&!function(i,r,o){const l=xf(i,r,o);return i.inclusive?l>=0:l>0}(n.endAt,Xs(n),s))}(t,e)}function UC(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function xv(t){return(e,n)=>{let s=!1;for(const i of Xs(t)){const r=BC(i,e,n);if(r!==0)return r;s=s||i.field.isKeyField()}return 0}}function BC(t,e,n){const s=t.field.isKeyField()?Q.comparator(e.key,n.key):function(i,r,o){const l=r.data.field(i),a=o.data.field(i);return l!==null&&a!==null?hi(l,a):ie()}(t.field,e,n);switch(t.dir){case"asc":return s;case"desc":return-1*s;default:return ie()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[i,r]of s)if(this.equalsFn(i,e))return r}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),i=this.inner[s];if(i===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let r=0;r<i.length;r++)if(this.equalsFn(i[r][0],e))return void(i[r]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return s.length===1?delete this.inner[n]:s.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ki(this.inner,(n,s)=>{for(const[i,r]of s)e(i,r)})}isEmpty(){return vv(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zC=new Me(Q.comparator);function vn(){return zC}const Pv=new Me(Q.comparator);function Wi(...t){let e=Pv;for(const n of t)e=e.insert(n.key,n);return e}function kv(t){let e=Pv;return t.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function ls(){return ir()}function Rv(){return ir()}function ir(){return new Oi(t=>t.toString(),(t,e)=>t.isEqual(e))}const jC=new Me(Q.comparator),HC=new ct(Q.comparator);function he(...t){let e=HC;for(const n of t)e=e.add(n);return e}const qC=new ct(ye);function GC(){return qC}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ov(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:oa(e)?"-0":e}}function Mv(t){return{integerValue:""+t}}function KC(t,e){return IC(e)?Mv(e):Ov(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ja{constructor(){this._=void 0}}function WC(t,e,n){return t instanceof kr?function(s,i){const r={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Ju(i)&&(i=Zu(i)),i&&(r.fields.__previous_value__=i),{mapValue:r}}(n,e):t instanceof Rr?Dv(t,e):t instanceof Or?Lv(t,e):function(s,i){const r=Nv(s,i),o=Of(r)+Of(s.gt);return Pc(r)&&Pc(s.gt)?Mv(o):Ov(s.serializer,o)}(t,e)}function YC(t,e,n){return t instanceof Rr?Dv(t,e):t instanceof Or?Lv(t,e):n}function Nv(t,e){return t instanceof la?Pc(n=e)||function(s){return!!s&&"doubleValue"in s}(n)?e:{integerValue:0}:null;var n}class kr extends Ja{}class Rr extends Ja{constructor(e){super(),this.elements=e}}function Dv(t,e){const n=Fv(e);for(const s of t.elements)n.some(i=>nn(i,s))||n.push(s);return{arrayValue:{values:n}}}class Or extends Ja{constructor(e){super(),this.elements=e}}function Lv(t,e){let n=Fv(e);for(const s of t.elements)n=n.filter(i=>!nn(i,s));return{arrayValue:{values:n}}}class la extends Ja{constructor(e,n){super(),this.serializer=e,this.gt=n}}function Of(t){return Fe(t.integerValue||t.doubleValue)}function Fv(t){return ed(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QC{constructor(e,n){this.field=e,this.transform=n}}function XC(t,e){return t.field.isEqual(e.field)&&function(n,s){return n instanceof Rr&&s instanceof Rr||n instanceof Or&&s instanceof Or?di(n.elements,s.elements,nn):n instanceof la&&s instanceof la?nn(n.gt,s.gt):n instanceof kr&&s instanceof kr}(t.transform,e.transform)}class JC{constructor(e,n){this.version=e,this.transformResults=n}}class Zt{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new Zt}static exists(e){return new Zt(void 0,e)}static updateTime(e){return new Zt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Oo(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Za{}function $v(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new rd(t.key,Zt.none()):new Jr(t.key,t.data,Zt.none());{const n=t.data,s=xt.empty();let i=new ct(rt.comparator);for(let r of e.fields)if(!i.has(r)){let o=n.field(r);o===null&&r.length>1&&(r=r.popLast(),o=n.field(r)),o===null?s.delete(r):s.set(r,o),i=i.add(r)}return new Ps(t.key,s,new Dt(i.toArray()),Zt.none())}}function ZC(t,e,n){t instanceof Jr?function(s,i,r){const o=s.value.clone(),l=Nf(s.fieldTransforms,i,r.transformResults);o.setAll(l),i.convertToFoundDocument(r.version,o).setHasCommittedMutations()}(t,e,n):t instanceof Ps?function(s,i,r){if(!Oo(s.precondition,i))return void i.convertToUnknownDocument(r.version);const o=Nf(s.fieldTransforms,i,r.transformResults),l=i.data;l.setAll(Vv(s)),l.setAll(o),i.convertToFoundDocument(r.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,r){i.convertToNoDocument(r.version).setHasCommittedMutations()}(0,e,n)}function rr(t,e,n,s){return t instanceof Jr?function(i,r,o,l){if(!Oo(i.precondition,r))return o;const a=i.value.clone(),c=Df(i.fieldTransforms,l,r);return a.setAll(c),r.convertToFoundDocument(r.version,a).setHasLocalMutations(),null}(t,e,n,s):t instanceof Ps?function(i,r,o,l){if(!Oo(i.precondition,r))return o;const a=Df(i.fieldTransforms,l,r),c=r.data;return c.setAll(Vv(i)),c.setAll(a),r.convertToFoundDocument(r.version,c).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(u=>u.field))}(t,e,n,s):function(i,r,o){return Oo(i.precondition,r)?(r.convertToNoDocument(r.version).setHasLocalMutations(),null):o}(t,e,n)}function e1(t,e){let n=null;for(const s of t.fieldTransforms){const i=e.data.field(s.field),r=Nv(s.transform,i||null);r!=null&&(n===null&&(n=xt.empty()),n.set(s.field,r))}return n||null}function Mf(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,s){return n===void 0&&s===void 0||!(!n||!s)&&di(n,s,(i,r)=>XC(i,r))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Jr extends Za{constructor(e,n,s,i=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ps extends Za{constructor(e,n,s,i,r=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=i,this.fieldTransforms=r,this.type=1}getFieldMask(){return this.fieldMask}}function Vv(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=t.data.field(n);e.set(n,s)}}),e}function Nf(t,e,n){const s=new Map;Re(t.length===n.length);for(let i=0;i<n.length;i++){const r=t[i],o=r.transform,l=e.data.field(r.field);s.set(r.field,YC(o,l,n[i]))}return s}function Df(t,e,n){const s=new Map;for(const i of t){const r=i.transform,o=n.data.field(i.field);s.set(i.field,WC(r,o,e))}return s}class rd extends Za{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class t1 extends Za{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n,s,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=i}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const r=this.mutations[i];r.key.isEqual(e.key)&&ZC(r,e,s[i])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=rr(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=rr(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=Rv();return this.mutations.forEach(i=>{const r=e.get(i.key),o=r.overlayedDocument;let l=this.applyToLocalView(o,r.mutatedFields);l=n.has(i.key)?null:l;const a=$v(o,l);a!==null&&s.set(i.key,a),o.isValidDocument()||o.convertToNoDocument(ae.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),he())}isEqual(e){return this.batchId===e.batchId&&di(this.mutations,e.mutations,(n,s)=>Mf(n,s))&&di(this.baseMutations,e.baseMutations,(n,s)=>Mf(n,s))}}class od{constructor(e,n,s,i){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=i}static from(e,n,s){Re(e.mutations.length===s.length);let i=jC;const r=e.mutations;for(let o=0;o<r.length;o++)i=i.insert(r[o].key,s[o].version);return new od(e,n,s,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Le,fe;function r1(t){switch(t){default:return ie();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function Uv(t){if(t===void 0)return gn("GRPC error has no .code"),A.UNKNOWN;switch(t){case Le.OK:return A.OK;case Le.CANCELLED:return A.CANCELLED;case Le.UNKNOWN:return A.UNKNOWN;case Le.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case Le.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case Le.INTERNAL:return A.INTERNAL;case Le.UNAVAILABLE:return A.UNAVAILABLE;case Le.UNAUTHENTICATED:return A.UNAUTHENTICATED;case Le.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case Le.NOT_FOUND:return A.NOT_FOUND;case Le.ALREADY_EXISTS:return A.ALREADY_EXISTS;case Le.PERMISSION_DENIED:return A.PERMISSION_DENIED;case Le.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case Le.ABORTED:return A.ABORTED;case Le.OUT_OF_RANGE:return A.OUT_OF_RANGE;case Le.UNIMPLEMENTED:return A.UNIMPLEMENTED;case Le.DATA_LOSS:return A.DATA_LOSS;default:return ie()}}(fe=Le||(Le={}))[fe.OK=0]="OK",fe[fe.CANCELLED=1]="CANCELLED",fe[fe.UNKNOWN=2]="UNKNOWN",fe[fe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",fe[fe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",fe[fe.NOT_FOUND=5]="NOT_FOUND",fe[fe.ALREADY_EXISTS=6]="ALREADY_EXISTS",fe[fe.PERMISSION_DENIED=7]="PERMISSION_DENIED",fe[fe.UNAUTHENTICATED=16]="UNAUTHENTICATED",fe[fe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",fe[fe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",fe[fe.ABORTED=10]="ABORTED",fe[fe.OUT_OF_RANGE=11]="OUT_OF_RANGE",fe[fe.UNIMPLEMENTED=12]="UNIMPLEMENTED",fe[fe.INTERNAL=13]="INTERNAL",fe[fe.UNAVAILABLE=14]="UNAVAILABLE",fe[fe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ad{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return yo}static getOrCreateInstance(){return yo===null&&(yo=new ad),yo}onExistenceFilterMismatch(e){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,e),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(e))}}let yo=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const a1=new Ys([4294967295,4294967295],0);function Lf(t){const e=o1().encode(t),n=new uC;return n.update(e),new Uint8Array(n.digest())}function Ff(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),i=e.getUint32(8,!0),r=e.getUint32(12,!0);return[new Ys([n,s],0),new Ys([i,r],0)]}class ld{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new Yi(`Invalid padding: ${n}`);if(s<0)throw new Yi(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new Yi(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new Yi(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*e.length-n,this.Tt=Ys.fromNumber(this.It)}Et(e,n,s){let i=e.add(n.multiply(Ys.fromNumber(s)));return i.compare(a1)===1&&(i=new Ys([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}vt(e){if(this.It===0)return!1;const n=Lf(e),[s,i]=Ff(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(s,i,r);if(!this.At(o))return!1}return!0}static create(e,n,s){const i=e%8==0?0:8-e%8,r=new Uint8Array(Math.ceil(e/8)),o=new ld(r,i,n);return s.forEach(l=>o.insert(l)),o}insert(e){if(this.It===0)return;const n=Lf(e),[s,i]=Ff(n);for(let r=0;r<this.hashCount;r++){const o=this.Et(s,i,r);this.Rt(o)}}Rt(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class Yi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el{constructor(e,n,s,i,r){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=i,this.resolvedLimboDocuments=r}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const i=new Map;return i.set(e,Zr.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new el(ae.min(),i,new Me(ye),vn(),he())}}class Zr{constructor(e,n,s,i,r){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=i,this.removedDocuments=r}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new Zr(s,n,he(),he(),he())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mo{constructor(e,n,s,i){this.Pt=e,this.removedTargetIds=n,this.key=s,this.bt=i}}class Bv{constructor(e,n){this.targetId=e,this.Vt=n}}class zv{constructor(e,n,s=ht.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=i}}class $f{constructor(){this.St=0,this.Dt=Uf(),this.Ct=ht.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(e){e.approximateByteSize()>0&&(this.Nt=!0,this.Ct=e)}Ot(){let e=he(),n=he(),s=he();return this.Dt.forEach((i,r)=>{switch(r){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:s=s.add(i);break;default:ie()}}),new Zr(this.Ct,this.xt,e,n,s)}Ft(){this.Nt=!1,this.Dt=Uf()}Bt(e,n){this.Nt=!0,this.Dt=this.Dt.insert(e,n)}Lt(e){this.Nt=!0,this.Dt=this.Dt.remove(e)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}class l1{constructor(e){this.Gt=e,this.Qt=new Map,this.jt=vn(),this.zt=Vf(),this.Wt=new Me(ye)}Ht(e){for(const n of e.Pt)e.bt&&e.bt.isFoundDocument()?this.Jt(n,e.bt):this.Yt(n,e.key,e.bt);for(const n of e.removedTargetIds)this.Yt(n,e.key,e.bt)}Xt(e){this.forEachTarget(e,n=>{const s=this.Zt(n);switch(e.state){case 0:this.te(n)&&s.$t(e.resumeToken);break;case 1:s.Ut(),s.kt||s.Ft(),s.$t(e.resumeToken);break;case 2:s.Ut(),s.kt||this.removeTarget(n);break;case 3:this.te(n)&&(s.Kt(),s.$t(e.resumeToken));break;case 4:this.te(n)&&(this.ee(n),s.$t(e.resumeToken));break;default:ie()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Qt.forEach((s,i)=>{this.te(i)&&n(i)})}ne(e){var n;const s=e.targetId,i=e.Vt.count,r=this.se(s);if(r){const o=r.target;if(Rc(o))if(i===0){const l=new Q(o.path);this.Yt(s,l,nt.newNoDocument(l,ae.min()))}else Re(i===1);else{const l=this.ie(s);if(l!==i){const a=this.re(e,l);if(a!==0){this.ee(s);const c=a===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(s,c)}(n=ad.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(c,u,d){var h,f,p,m,w,y;const E={localCacheCount:u,existenceFilterCount:d.count},T=d.unchangedNames;return T&&(E.bloomFilter={applied:c===0,hashCount:(h=T==null?void 0:T.hashCount)!==null&&h!==void 0?h:0,bitmapLength:(m=(p=(f=T==null?void 0:T.bits)===null||f===void 0?void 0:f.bitmap)===null||p===void 0?void 0:p.length)!==null&&m!==void 0?m:0,padding:(y=(w=T==null?void 0:T.bits)===null||w===void 0?void 0:w.padding)!==null&&y!==void 0?y:0}),E}(a,l,e.Vt))}}}}re(e,n){const{unchangedNames:s,count:i}=e.Vt;if(!s||!s.bits)return 1;const{bits:{bitmap:r="",padding:o=0},hashCount:l=0}=s;let a,c;try{a=bs(r).toUint8Array()}catch(u){if(u instanceof yv)return ui("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw u}try{c=new ld(a,o,l)}catch(u){return ui(u instanceof Yi?"BloomFilter error: ":"Applying bloom filter failed: ",u),1}return c.It===0?1:i!==n-this.oe(e.targetId,c)?2:0}oe(e,n){const s=this.Gt.getRemoteKeysForTarget(e);let i=0;return s.forEach(r=>{const o=this.Gt.ue(),l=`projects/${o.projectId}/databases/${o.database}/documents/${r.path.canonicalString()}`;n.vt(l)||(this.Yt(e,r,null),i++)}),i}ce(e){const n=new Map;this.Qt.forEach((r,o)=>{const l=this.se(o);if(l){if(r.current&&Rc(l.target)){const a=new Q(l.target.path);this.jt.get(a)!==null||this.ae(o,a)||this.Yt(o,a,nt.newNoDocument(a,e))}r.Mt&&(n.set(o,r.Ot()),r.Ft())}});let s=he();this.zt.forEach((r,o)=>{let l=!0;o.forEachWhile(a=>{const c=this.se(a);return!c||c.purpose==="TargetPurposeLimboResolution"||(l=!1,!1)}),l&&(s=s.add(r))}),this.jt.forEach((r,o)=>o.setReadTime(e));const i=new el(e,n,this.Wt,this.jt,s);return this.jt=vn(),this.zt=Vf(),this.Wt=new Me(ye),i}Jt(e,n){if(!this.te(e))return;const s=this.ae(e,n.key)?2:0;this.Zt(e).Bt(n.key,s),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(e))}Yt(e,n,s){if(!this.te(e))return;const i=this.Zt(e);this.ae(e,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(e)),s&&(this.jt=this.jt.insert(n,s))}removeTarget(e){this.Qt.delete(e)}ie(e){const n=this.Zt(e).Ot();return this.Gt.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}qt(e){this.Zt(e).qt()}Zt(e){let n=this.Qt.get(e);return n||(n=new $f,this.Qt.set(e,n)),n}he(e){let n=this.zt.get(e);return n||(n=new ct(ye),this.zt=this.zt.insert(e,n)),n}te(e){const n=this.se(e)!==null;return n||Y("WatchChangeAggregator","Detected inactive target",e),n}se(e){const n=this.Qt.get(e);return n&&n.kt?null:this.Gt.le(e)}ee(e){this.Qt.set(e,new $f),this.Gt.getRemoteKeysForTarget(e).forEach(n=>{this.Yt(e,n,null)})}ae(e,n){return this.Gt.getRemoteKeysForTarget(e).has(n)}}function Vf(){return new Me(Q.comparator)}function Uf(){return new Me(Q.comparator)}const c1=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),u1=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),d1=(()=>({and:"AND",or:"OR"}))();class h1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Dc(t,e){return t.useProto3Json||Wa(e)?e:{value:e}}function ca(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jv(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function f1(t,e){return ca(t,e.toTimestamp())}function en(t){return Re(!!t),ae.fromTimestamp(function(e){const n=Wn(e);return new Ue(n.seconds,n.nanos)}(t))}function cd(t,e){return function(n){return new ke(["projects",n.projectId,"databases",n.database])}(t).child("documents").child(e).canonicalString()}function Hv(t){const e=ke.fromString(t);return Re(Wv(e)),e}function Lc(t,e){return cd(t.databaseId,e.path)}function Dl(t,e){const n=Hv(e);if(n.get(1)!==t.databaseId.projectId)throw new j(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new j(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Q(qv(n))}function Fc(t,e){return cd(t.databaseId,e)}function p1(t){const e=Hv(t);return e.length===4?ke.emptyPath():qv(e)}function $c(t){return new ke(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function qv(t){return Re(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bf(t,e,n){return{name:Lc(t,e),fields:n.value.mapValue.fields}}function g1(t,e){let n;if("targetChange"in e){e.targetChange;const s=function(a){return a==="NO_CHANGE"?0:a==="ADD"?1:a==="REMOVE"?2:a==="CURRENT"?3:a==="RESET"?4:ie()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],r=function(a,c){return a.useProto3Json?(Re(c===void 0||typeof c=="string"),ht.fromBase64String(c||"")):(Re(c===void 0||c instanceof Uint8Array),ht.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,l=o&&function(a){const c=a.code===void 0?A.UNKNOWN:Uv(a.code);return new j(c,a.message||"")}(o);n=new zv(s,i,r,l||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const i=Dl(t,s.document.name),r=en(s.document.updateTime),o=s.document.createTime?en(s.document.createTime):ae.min(),l=new xt({mapValue:{fields:s.document.fields}}),a=nt.newFoundDocument(i,r,o,l),c=s.targetIds||[],u=s.removedTargetIds||[];n=new Mo(c,u,a.key,a)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const i=Dl(t,s.document),r=s.readTime?en(s.readTime):ae.min(),o=nt.newNoDocument(i,r),l=s.removedTargetIds||[];n=new Mo([],l,o.key,o)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const i=Dl(t,s.document),r=s.removedTargetIds||[];n=new Mo([],r,i,null)}else{if(!("filter"in e))return ie();{e.filter;const s=e.filter;s.targetId;const{count:i=0,unchangedNames:r}=s,o=new i1(i,r),l=s.targetId;n=new Bv(l,o)}}return n}function m1(t,e){let n;if(e instanceof Jr)n={update:Bf(t,e.key,e.value)};else if(e instanceof rd)n={delete:Lc(t,e.key)};else if(e instanceof Ps)n={update:Bf(t,e.key,e.data),updateMask:I1(e.fieldMask)};else{if(!(e instanceof t1))return ie();n={verify:Lc(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(i,r){const o=r.transform;if(o instanceof kr)return{fieldPath:r.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Rr)return{fieldPath:r.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Or)return{fieldPath:r.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof la)return{fieldPath:r.field.canonicalString(),increment:o.gt};throw ie()}(0,s))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:f1(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:ie()}(t,e.precondition)),n}function v1(t,e){return t&&t.length>0?(Re(e!==void 0),t.map(n=>function(s,i){let r=s.updateTime?en(s.updateTime):en(i);return r.isEqual(ae.min())&&(r=en(i)),new JC(r,s.transformResults||[])}(n,e))):[]}function y1(t,e){return{documents:[Fc(t,e.path)]}}function w1(t,e){const n={structuredQuery:{}},s=e.path;e.collectionGroup!==null?(n.parent=Fc(t,s),n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(n.parent=Fc(t,s.popLast()),n.structuredQuery.from=[{collectionId:s.lastSegment()}]);const i=function(a){if(a.length!==0)return Kv(Bt.create(a,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const r=function(a){if(a.length!==0)return a.map(c=>function(u){return{field:Ls(u.field),direction:T1(u.dir)}}(c))}(e.orderBy);r&&(n.structuredQuery.orderBy=r);const o=Dc(t,e.limit);var l;return o!==null&&(n.structuredQuery.limit=o),e.startAt&&(n.structuredQuery.startAt={before:(l=e.startAt).inclusive,values:l.position}),e.endAt&&(n.structuredQuery.endAt=function(a){return{before:!a.inclusive,values:a.position}}(e.endAt)),n}function _1(t){let e=p1(t.parent);const n=t.structuredQuery,s=n.from?n.from.length:0;let i=null;if(s>0){Re(s===1);const u=n.from[0];u.allDescendants?i=u.collectionId:e=e.child(u.collectionId)}let r=[];n.where&&(r=function(u){const d=Gv(u);return d instanceof Bt&&Tv(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(u=>function(d){return new Qs(Fs(d.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(u)));let l=null;n.limit&&(l=function(u){let d;return d=typeof u=="object"?u.value:u,Wa(d)?null:d}(n.limit));let a=null;n.startAt&&(a=function(u){const d=!!u.before,h=u.values||[];return new aa(h,d)}(n.startAt));let c=null;return n.endAt&&(c=function(u){const d=!u.before,h=u.values||[];return new aa(h,d)}(n.endAt)),VC(e,i,o,r,l,"F",a,c)}function E1(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ie()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Gv(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const n=Fs(e.unaryFilter.field);return $e.create(n,"==",{doubleValue:NaN});case"IS_NULL":const s=Fs(e.unaryFilter.field);return $e.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Fs(e.unaryFilter.field);return $e.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const r=Fs(e.unaryFilter.field);return $e.create(r,"!=",{nullValue:"NULL_VALUE"});default:return ie()}}(t):t.fieldFilter!==void 0?function(e){return $e.create(Fs(e.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ie()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return Bt.create(e.compositeFilter.filters.map(n=>Gv(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return ie()}}(e.compositeFilter.op))}(t):ie()}function T1(t){return c1[t]}function S1(t){return u1[t]}function b1(t){return d1[t]}function Ls(t){return{fieldPath:t.canonicalString()}}function Fs(t){return rt.fromServerFormat(t.fieldPath)}function Kv(t){return t instanceof $e?function(e){if(e.op==="=="){if(Af(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NAN"}};if(Cf(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(Af(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NOT_NAN"}};if(Cf(e.value))return{unaryFilter:{field:Ls(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ls(e.field),op:S1(e.op),value:e.value}}}(t):t instanceof Bt?function(e){const n=e.getFilters().map(s=>Kv(s));return n.length===1?n[0]:{compositeFilter:{op:b1(e.op),filters:n}}}(t):ie()}function I1(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Wv(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nn{constructor(e,n,s,i,r=ae.min(),o=ae.min(),l=ht.EMPTY_BYTE_STRING,a=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=i,this.snapshotVersion=r,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=l,this.expectedCount=a}withSequenceNumber(e){return new Nn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Nn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(e){this.fe=e}}function A1(t){const e=_1({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Mc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x1{constructor(){this.rn=new P1}addToCollectionParentIndex(e,n){return this.rn.add(n),M.resolve()}getCollectionParents(e,n){return M.resolve(this.rn.getEntries(n))}addFieldIndex(e,n){return M.resolve()}deleteFieldIndex(e,n){return M.resolve()}getDocumentsMatchingTarget(e,n){return M.resolve(null)}getIndexType(e,n){return M.resolve(0)}getFieldIndexes(e,n){return M.resolve([])}getNextCollectionGroupToUpdate(e){return M.resolve(null)}getMinOffset(e,n){return M.resolve(Kn.min())}getMinOffsetFromCollectionGroup(e,n){return M.resolve(Kn.min())}updateCollectionGroup(e,n,s){return M.resolve()}updateIndexEntries(e,n){return M.resolve()}}class P1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n]||new ct(ke.comparator),r=!i.has(s);return this.index[n]=i.add(s),r}has(e){const n=e.lastSegment(),s=e.popLast(),i=this.index[n];return i&&i.has(s)}getEntries(e){return(this.index[e]||new ct(ke.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static kn(){return new pi(0)}static Mn(){return new pi(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1{constructor(){this.changes=new Oi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,nt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?M.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,s,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=i}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(s=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(s!==null&&rr(s.mutation,i,Dt.empty(),Ue.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,he()).next(()=>s))}getLocalViewOfDocuments(e,n,s=he()){const i=ls();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,s).next(r=>{let o=Wi();return r.forEach((l,a)=>{o=o.insert(l,a.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const s=ls();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,he()))}populateOverlays(e,n,s){const i=[];return s.forEach(r=>{n.has(r)||i.push(r)}),this.documentOverlayCache.getOverlays(e,i).next(r=>{r.forEach((o,l)=>{n.set(o,l)})})}computeViews(e,n,s,i){let r=vn();const o=ir(),l=ir();return n.forEach((a,c)=>{const u=s.get(c.key);i.has(c.key)&&(u===void 0||u.mutation instanceof Ps)?r=r.insert(c.key,c):u!==void 0?(o.set(c.key,u.mutation.getFieldMask()),rr(u.mutation,c,u.mutation.getFieldMask(),Ue.now())):o.set(c.key,Dt.empty())}),this.recalculateAndSaveOverlays(e,r).next(a=>(a.forEach((c,u)=>o.set(c,u)),n.forEach((c,u)=>{var d;return l.set(c,new R1(u,(d=o.get(c))!==null&&d!==void 0?d:null))}),l))}recalculateAndSaveOverlays(e,n){const s=ir();let i=new Me((o,l)=>o-l),r=he();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const l of o)l.keys().forEach(a=>{const c=n.get(a);if(c===null)return;let u=s.get(a)||Dt.empty();u=l.applyToLocalView(c,u),s.set(a,u);const d=(i.get(l.batchId)||he()).add(a);i=i.insert(l.batchId,d)})}).next(()=>{const o=[],l=i.getReverseIterator();for(;l.hasNext();){const a=l.getNext(),c=a.key,u=a.value,d=Rv();u.forEach(h=>{if(!r.has(h)){const f=$v(n.get(h),s.get(h));f!==null&&d.set(h,f),r=r.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,c,d))}return M.waitFor(o)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s){return function(i){return Q.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):Cv(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s):this.getDocumentsMatchingCollectionQuery(e,n,s)}getNextDocuments(e,n,s,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,i).next(r=>{const o=i-r.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,i-r.size):M.resolve(ls());let l=-1,a=r;return o.next(c=>M.forEach(c,(u,d)=>(l<d.largestBatchId&&(l=d.largestBatchId),r.get(u)?M.resolve():this.remoteDocumentCache.getEntry(e,u).next(h=>{a=a.insert(u,h)}))).next(()=>this.populateOverlays(e,c,r)).next(()=>this.computeViews(e,a,c,he())).next(u=>({batchId:l,changes:kv(u)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Q(n)).next(s=>{let i=Wi();return s.isFoundDocument()&&(i=i.insert(s.key,s)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,s){const i=n.collectionGroup;let r=Wi();return this.indexManager.getCollectionParents(e,i).next(o=>M.forEach(o,l=>{const a=function(c,u){return new Ri(u,null,c.explicitOrderBy.slice(),c.filters.slice(),c.limit,c.limitType,c.startAt,c.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,a,s).next(c=>{c.forEach((u,d)=>{r=r.insert(u,d)})})}).next(()=>r))}getDocumentsMatchingCollectionQuery(e,n,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(r=>(i=r,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,i))).next(r=>{i.forEach((l,a)=>{const c=a.getKey();r.get(c)===null&&(r=r.insert(c,nt.newInvalidDocument(c)))});let o=Wi();return r.forEach((l,a)=>{const c=i.get(l);c!==void 0&&rr(c.mutation,a,Dt.empty(),Ue.now()),Xa(n,a)&&(o=o.insert(l,a))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.serializer=e,this.cs=new Map,this.hs=new Map}getBundleMetadata(e,n){return M.resolve(this.cs.get(n))}saveBundleMetadata(e,n){var s;return this.cs.set(n.id,{id:(s=n).id,version:s.version,createTime:en(s.createTime)}),M.resolve()}getNamedQuery(e,n){return M.resolve(this.hs.get(n))}saveNamedQuery(e,n){return this.hs.set(n.name,function(s){return{name:s.name,query:A1(s.bundledQuery),readTime:en(s.readTime)}}(n)),M.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this.overlays=new Me(Q.comparator),this.ls=new Map}getOverlay(e,n){return M.resolve(this.overlays.get(n))}getOverlays(e,n){const s=ls();return M.forEach(n,i=>this.getOverlay(e,i).next(r=>{r!==null&&s.set(i,r)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((i,r)=>{this.we(e,n,r)}),M.resolve()}removeOverlaysForBatchId(e,n,s){const i=this.ls.get(s);return i!==void 0&&(i.forEach(r=>this.overlays=this.overlays.remove(r)),this.ls.delete(s)),M.resolve()}getOverlaysForCollection(e,n,s){const i=ls(),r=n.length+1,o=new Q(n.child("")),l=this.overlays.getIteratorFrom(o);for(;l.hasNext();){const a=l.getNext().value,c=a.getKey();if(!n.isPrefixOf(c.path))break;c.path.length===r&&a.largestBatchId>s&&i.set(a.getKey(),a)}return M.resolve(i)}getOverlaysForCollectionGroup(e,n,s,i){let r=new Me((c,u)=>c-u);const o=this.overlays.getIterator();for(;o.hasNext();){const c=o.getNext().value;if(c.getKey().getCollectionGroup()===n&&c.largestBatchId>s){let u=r.get(c.largestBatchId);u===null&&(u=ls(),r=r.insert(c.largestBatchId,u)),u.set(c.getKey(),c)}}const l=ls(),a=r.getIterator();for(;a.hasNext()&&(a.getNext().value.forEach((c,u)=>l.set(c,u)),!(l.size()>=i)););return M.resolve(l)}we(e,n,s){const i=this.overlays.get(s.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(s.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(s.key,new s1(n,s));let r=this.ls.get(n);r===void 0&&(r=he(),this.ls.set(n,r)),this.ls.set(n,r.add(s.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ud{constructor(){this.fs=new ct(je.ds),this.ws=new ct(je._s)}isEmpty(){return this.fs.isEmpty()}addReference(e,n){const s=new je(e,n);this.fs=this.fs.add(s),this.ws=this.ws.add(s)}gs(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.ys(new je(e,n))}ps(e,n){e.forEach(s=>this.removeReference(s,n))}Is(e){const n=new Q(new ke([])),s=new je(n,e),i=new je(n,e+1),r=[];return this.ws.forEachInRange([s,i],o=>{this.ys(o),r.push(o.key)}),r}Ts(){this.fs.forEach(e=>this.ys(e))}ys(e){this.fs=this.fs.delete(e),this.ws=this.ws.delete(e)}Es(e){const n=new Q(new ke([])),s=new je(n,e),i=new je(n,e+1);let r=he();return this.ws.forEachInRange([s,i],o=>{r=r.add(o.key)}),r}containsKey(e){const n=new je(e,0),s=this.fs.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class je{constructor(e,n){this.key=e,this.As=n}static ds(e,n){return Q.comparator(e.key,n.key)||ye(e.As,n.As)}static _s(e,n){return ye(e.As,n.As)||Q.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new ct(je.ds)}checkEmpty(e){return M.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,i){const r=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new n1(r,n,s,i);this.mutationQueue.push(o);for(const l of i)this.Rs=this.Rs.add(new je(l.key,r)),this.indexManager.addToCollectionParentIndex(e,l.key.path.popLast());return M.resolve(o)}lookupMutationBatch(e,n){return M.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,i=this.bs(s),r=i<0?0:i;return M.resolve(this.mutationQueue.length>r?this.mutationQueue[r]:null)}getHighestUnacknowledgedBatchId(){return M.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(e){return M.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new je(n,0),i=new je(n,Number.POSITIVE_INFINITY),r=[];return this.Rs.forEachInRange([s,i],o=>{const l=this.Ps(o.As);r.push(l)}),M.resolve(r)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new ct(ye);return n.forEach(i=>{const r=new je(i,0),o=new je(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([r,o],l=>{s=s.add(l.As)})}),M.resolve(this.Vs(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,i=s.length+1;let r=s;Q.isDocumentKey(r)||(r=r.child(""));const o=new je(new Q(r),0);let l=new ct(ye);return this.Rs.forEachWhile(a=>{const c=a.key.path;return!!s.isPrefixOf(c)&&(c.length===i&&(l=l.add(a.As)),!0)},o),M.resolve(this.Vs(l))}Vs(e){const n=[];return e.forEach(s=>{const i=this.Ps(s);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Re(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Rs;return M.forEach(n.mutations,i=>{const r=new je(i.key,n.batchId);return s=s.delete(r),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=s})}Cn(e){}containsKey(e,n){const s=new je(n,0),i=this.Rs.firstAfterOrEqual(s);return M.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,M.resolve()}Ss(e,n){return this.bs(e)}bs(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Ps(e){const n=this.bs(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e){this.Ds=e,this.docs=new Me(Q.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,i=this.docs.get(s),r=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:o}),this.size+=o-r,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return M.resolve(s?s.document.mutableCopy():nt.newInvalidDocument(n))}getEntries(e,n){let s=vn();return n.forEach(i=>{const r=this.docs.get(i);s=s.insert(i,r?r.document.mutableCopy():nt.newInvalidDocument(i))}),M.resolve(s)}getDocumentsMatchingQuery(e,n,s,i){let r=vn();const o=n.path,l=new Q(o.child("")),a=this.docs.getIteratorFrom(l);for(;a.hasNext();){const{key:c,value:{document:u}}=a.getNext();if(!o.isPrefixOf(c.path))break;c.path.length>o.length+1||TC(EC(u),s)<=0||(i.has(u.key)||Xa(n,u))&&(r=r.insert(u.key,u.mutableCopy()))}return M.resolve(r)}getAllFromCollectionGroup(e,n,s,i){ie()}Cs(e,n){return M.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new F1(this)}getSize(e){return M.resolve(this.size)}}class F1 extends k1{constructor(e){super(),this.os=e}applyChanges(e){const n=[];return this.changes.forEach((s,i)=>{i.isValidDocument()?n.push(this.os.addEntry(e,i)):this.os.removeEntry(s)}),M.waitFor(n)}getFromCache(e,n){return this.os.getEntry(e,n)}getAllFromCache(e,n){return this.os.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1{constructor(e){this.persistence=e,this.xs=new Oi(n=>td(n),nd),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Ns=0,this.ks=new ud,this.targetCount=0,this.Ms=pi.kn()}forEachTarget(e,n){return this.xs.forEach((s,i)=>n(i)),M.resolve()}getLastRemoteSnapshotVersion(e){return M.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return M.resolve(this.Ns)}allocateTargetId(e){return this.highestTargetId=this.Ms.next(),M.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.Ns&&(this.Ns=n),M.resolve()}Fn(e){this.xs.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Ms=new pi(n),this.highestTargetId=n),e.sequenceNumber>this.Ns&&(this.Ns=e.sequenceNumber)}addTargetData(e,n){return this.Fn(n),this.targetCount+=1,M.resolve()}updateTargetData(e,n){return this.Fn(n),M.resolve()}removeTargetData(e,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,M.resolve()}removeTargets(e,n,s){let i=0;const r=[];return this.xs.forEach((o,l)=>{l.sequenceNumber<=n&&s.get(l.targetId)===null&&(this.xs.delete(o),r.push(this.removeMatchingKeysForTargetId(e,l.targetId)),i++)}),M.waitFor(r).next(()=>i)}getTargetCount(e){return M.resolve(this.targetCount)}getTargetData(e,n){const s=this.xs.get(n)||null;return M.resolve(s)}addMatchingKeys(e,n,s){return this.ks.gs(n,s),M.resolve()}removeMatchingKeys(e,n,s){this.ks.ps(n,s);const i=this.persistence.referenceDelegate,r=[];return i&&n.forEach(o=>{r.push(i.markPotentiallyOrphaned(e,o))}),M.waitFor(r)}removeMatchingKeysForTargetId(e,n){return this.ks.Is(n),M.resolve()}getMatchingKeysForTargetId(e,n){const s=this.ks.Es(n);return M.resolve(s)}containsKey(e,n){return M.resolve(this.ks.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V1{constructor(e,n){this.$s={},this.overlays={},this.Os=new Xu(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=e(this),this.Bs=new $1(this),this.indexManager=new x1,this.remoteDocumentCache=function(s){return new L1(s)}(s=>this.referenceDelegate.Ls(s)),this.serializer=new C1(n),this.qs=new M1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new N1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.$s[e.toKey()];return s||(s=new D1(n,this.referenceDelegate),this.$s[e.toKey()]=s),s}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(e,n,s){Y("MemoryPersistence","Starting transaction:",e);const i=new U1(this.Os.next());return this.referenceDelegate.Us(),s(i).next(r=>this.referenceDelegate.Ks(i).next(()=>r)).toPromise().then(r=>(i.raiseOnCommittedEvent(),r))}Gs(e,n){return M.or(Object.values(this.$s).map(s=>()=>s.containsKey(e,n)))}}class U1 extends bC{constructor(e){super(),this.currentSequenceNumber=e}}class dd{constructor(e){this.persistence=e,this.Qs=new ud,this.js=null}static zs(e){return new dd(e)}get Ws(){if(this.js)return this.js;throw ie()}addReference(e,n,s){return this.Qs.addReference(s,n),this.Ws.delete(s.toString()),M.resolve()}removeReference(e,n,s){return this.Qs.removeReference(s,n),this.Ws.add(s.toString()),M.resolve()}markPotentiallyOrphaned(e,n){return this.Ws.add(n.toString()),M.resolve()}removeTarget(e,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(r=>this.Ws.add(r.toString()))}).next(()=>s.removeTargetData(e,n))}Us(){this.js=new Set}Ks(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return M.forEach(this.Ws,s=>{const i=Q.fromPath(s);return this.Hs(e,i).next(r=>{r||n.removeEntry(i,ae.min())})}).next(()=>(this.js=null,n.apply(e)))}updateLimboDocument(e,n){return this.Hs(e,n).next(s=>{s?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(e){return 0}Hs(e,n){return M.or([()=>M.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gs(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,n,s,i){this.targetId=e,this.fromCache=n,this.Fi=s,this.Bi=i}static Li(e,n){let s=he(),i=he();for(const r of n.docChanges)switch(r.type){case 0:s=s.add(r.doc.key);break;case 1:i=i.add(r.doc.key)}return new hd(e,n.fromCache,s,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(){this.qi=!1}initialize(e,n){this.Ui=e,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(e,n,s,i){return this.Ki(e,n).next(r=>r||this.Gi(e,n,i,s)).next(r=>r||this.Qi(e,n))}Ki(e,n){if(Rf(n))return M.resolve(null);let s=mn(n);return this.indexManager.getIndexType(e,s).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=Mc(n,null,"F"),s=mn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(r=>{const o=he(...r);return this.Ui.getDocuments(e,o).next(l=>this.indexManager.getMinOffset(e,s).next(a=>{const c=this.ji(n,l);return this.zi(n,c,o,a.readTime)?this.Ki(e,Mc(n,null,"F")):this.Wi(e,c,n,a)}))})))}Gi(e,n,s,i){return Rf(n)||i.isEqual(ae.min())?this.Qi(e,n):this.Ui.getDocuments(e,s).next(r=>{const o=this.ji(n,r);return this.zi(n,o,s,i)?this.Qi(e,n):(Ef()<=me.DEBUG&&Y("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Nc(n)),this.Wi(e,o,n,_C(i,-1)))})}ji(e,n){let s=new ct(xv(e));return n.forEach((i,r)=>{Xa(e,r)&&(s=s.add(r))}),s}zi(e,n,s,i){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const r=e.limitType==="F"?n.last():n.first();return!!r&&(r.hasPendingWrites||r.version.compareTo(i)>0)}Qi(e,n){return Ef()<=me.DEBUG&&Y("QueryEngine","Using full collection scan to execute query:",Nc(n)),this.Ui.getDocumentsMatchingQuery(e,n,Kn.min())}Wi(e,n,s,i){return this.Ui.getDocumentsMatchingQuery(e,s,i).next(r=>(n.forEach(o=>{r=r.insert(o.key,o)}),r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e,n,s,i){this.persistence=e,this.Hi=n,this.serializer=i,this.Ji=new Me(ye),this.Yi=new Oi(r=>td(r),nd),this.Xi=new Map,this.Zi=e.getRemoteDocumentCache(),this.Bs=e.getTargetCache(),this.qs=e.getBundleCache(),this.tr(s)}tr(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O1(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.Ji))}}function j1(t,e,n,s){return new z1(t,e,n,s)}async function Yv(t,e){const n=le(t);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let i;return n.mutationQueue.getAllMutationBatches(s).next(r=>(i=r,n.tr(e),n.mutationQueue.getAllMutationBatches(s))).next(r=>{const o=[],l=[];let a=he();for(const c of i){o.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}for(const c of r){l.push(c.batchId);for(const u of c.mutations)a=a.add(u.key)}return n.localDocuments.getDocuments(s,a).next(c=>({er:c,removedBatchIds:o,addedBatchIds:l}))})})}function H1(t,e){const n=le(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const i=e.batch.keys(),r=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,l,a,c){const u=a.batch,d=u.keys();let h=M.resolve();return d.forEach(f=>{h=h.next(()=>c.getEntry(l,f)).next(p=>{const m=a.docVersions.get(f);Re(m!==null),p.version.compareTo(m)<0&&(u.applyToRemoteDocument(p,a),p.isValidDocument()&&(p.setReadTime(a.commitVersion),c.addEntry(p)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(l,u))}(n,s,e,r).next(()=>r.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(o){let l=he();for(let a=0;a<o.mutationResults.length;++a)o.mutationResults[a].transformResults.length>0&&(l=l.add(o.batch.mutations[a].key));return l}(e))).next(()=>n.localDocuments.getDocuments(s,i))})}function Qv(t){const e=le(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Bs.getLastRemoteSnapshotVersion(n))}function q1(t,e){const n=le(t),s=e.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",r=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const l=[];e.targetChanges.forEach((u,d)=>{const h=i.get(d);if(!h)return;l.push(n.Bs.removeMatchingKeys(r,u.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(r,u.addedDocuments,d)));let f=h.withSequenceNumber(r.currentSequenceNumber);e.targetMismatches.get(d)!==null?f=f.withResumeToken(ht.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):u.resumeToken.approximateByteSize()>0&&(f=f.withResumeToken(u.resumeToken,s)),i=i.insert(d,f),function(p,m,w){return p.resumeToken.approximateByteSize()===0||m.snapshotVersion.toMicroseconds()-p.snapshotVersion.toMicroseconds()>=3e8?!0:w.addedDocuments.size+w.modifiedDocuments.size+w.removedDocuments.size>0}(h,f,u)&&l.push(n.Bs.updateTargetData(r,f))});let a=vn(),c=he();if(e.documentUpdates.forEach(u=>{e.resolvedLimboDocuments.has(u)&&l.push(n.persistence.referenceDelegate.updateLimboDocument(r,u))}),l.push(G1(r,o,e.documentUpdates).next(u=>{a=u.nr,c=u.sr})),!s.isEqual(ae.min())){const u=n.Bs.getLastRemoteSnapshotVersion(r).next(d=>n.Bs.setTargetsMetadata(r,r.currentSequenceNumber,s));l.push(u)}return M.waitFor(l).next(()=>o.apply(r)).next(()=>n.localDocuments.getLocalViewOfDocuments(r,a,c)).next(()=>a)}).then(r=>(n.Ji=i,r))}function G1(t,e,n){let s=he(),i=he();return n.forEach(r=>s=s.add(r)),e.getEntries(t,s).next(r=>{let o=vn();return n.forEach((l,a)=>{const c=r.get(l);a.isFoundDocument()!==c.isFoundDocument()&&(i=i.add(l)),a.isNoDocument()&&a.version.isEqual(ae.min())?(e.removeEntry(l,a.readTime),o=o.insert(l,a)):!c.isValidDocument()||a.version.compareTo(c.version)>0||a.version.compareTo(c.version)===0&&c.hasPendingWrites?(e.addEntry(a),o=o.insert(l,a)):Y("LocalStore","Ignoring outdated watch update for ",l,". Current version:",c.version," Watch version:",a.version)}),{nr:o,sr:i}})}function K1(t,e){const n=le(t);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function W1(t,e){const n=le(t);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let i;return n.Bs.getTargetData(s,e).next(r=>r?(i=r,M.resolve(i)):n.Bs.allocateTargetId(s).next(o=>(i=new Nn(e,o,"TargetPurposeListen",s.currentSequenceNumber),n.Bs.addTargetData(s,i).next(()=>i))))}).then(s=>{const i=n.Ji.get(s.targetId);return(i===null||s.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(s.targetId,s),n.Yi.set(e,s.targetId)),s})}async function Vc(t,e,n){const s=le(t),i=s.Ji.get(e),r=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",r,o=>s.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!Xr(o))throw o;Y("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}s.Ji=s.Ji.remove(e),s.Yi.delete(i.target)}function zf(t,e,n){const s=le(t);let i=ae.min(),r=he();return s.persistence.runTransaction("Execute query","readonly",o=>function(l,a,c){const u=le(l),d=u.Yi.get(c);return d!==void 0?M.resolve(u.Ji.get(d)):u.Bs.getTargetData(a,c)}(s,o,mn(e)).next(l=>{if(l)return i=l.lastLimboFreeSnapshotVersion,s.Bs.getMatchingKeysForTargetId(o,l.targetId).next(a=>{r=a})}).next(()=>s.Hi.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?r:he())).next(l=>(Y1(s,UC(e),l),{documents:l,ir:r})))}function Y1(t,e,n){let s=t.Xi.get(e)||ae.min();n.forEach((i,r)=>{r.readTime.compareTo(s)>0&&(s=r.readTime)}),t.Xi.set(e,s)}class jf{constructor(){this.activeTargetIds=GC()}lr(e){this.activeTargetIds=this.activeTargetIds.add(e)}dr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}hr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Q1{constructor(){this.Hr=new jf,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e){return this.Hr.lr(e),this.Jr[e]||"not-current"}updateQueryState(e,n,s){this.Jr[e]=n}removeLocalQueryTarget(e){this.Hr.dr(e)}isLocalQueryTarget(e){return this.Hr.activeTargetIds.has(e)}clearQueryState(e){delete this.Jr[e]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(e){return this.Hr.activeTargetIds.has(e)}start(){return this.Hr=new jf,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1{Yr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hf{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(e){this.so.push(e)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){Y("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.so)e(0)}no(){Y("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.so)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wo=null;function Ll(){return wo===null?wo=268435456+Math.round(2147483648*Math.random()):wo++,"0x"+wo.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z1{constructor(e){this.ro=e.ro,this.oo=e.oo}uo(e){this.co=e}ao(e){this.ho=e}onMessage(e){this.lo=e}close(){this.oo()}send(e){this.ro(e)}fo(){this.co()}wo(e){this.ho(e)}_o(e){this.lo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ze="WebChannelConnection";class eA extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http";this.mo=n+"://"+e.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(e,n,s,i,r){const o=Ll(),l=this.To(e,n);Y("RestConnection",`Sending RPC '${e}' ${o}:`,l,s);const a={};return this.Eo(a,i,r),this.Ao(e,l,a,s).then(c=>(Y("RestConnection",`Received RPC '${e}' ${o}: `,c),c),c=>{throw ui("RestConnection",`RPC '${e}' ${o} failed with error: `,c,"url: ",l,"request:",s),c})}vo(e,n,s,i,r,o){return this.Io(e,n,s,i,r)}Eo(e,n,s){e["X-Goog-Api-Client"]="gl-js/ fire/"+Pi,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,r)=>e[r]=i),s&&s.headers.forEach((i,r)=>e[r]=i)}To(e,n){const s=J1[e];return`${this.mo}/v1/${n}:${s}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Ao(e,n,s,i){const r=Ll();return new Promise((o,l)=>{const a=new cC;a.setWithCredentials(!0),a.listenOnce(oC.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Nl.NO_ERROR:const u=a.getResponseJson();Y(Ze,`XHR for RPC '${e}' ${r} received:`,JSON.stringify(u)),o(u);break;case Nl.TIMEOUT:Y(Ze,`RPC '${e}' ${r} timed out`),l(new j(A.DEADLINE_EXCEEDED,"Request time out"));break;case Nl.HTTP_ERROR:const d=a.getStatus();if(Y(Ze,`RPC '${e}' ${r} failed with status:`,d,"response text:",a.getResponseText()),d>0){let h=a.getResponseJson();Array.isArray(h)&&(h=h[0]);const f=h==null?void 0:h.error;if(f&&f.status&&f.message){const p=function(m){const w=m.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(w)>=0?w:A.UNKNOWN}(f.status);l(new j(p,f.message))}else l(new j(A.UNKNOWN,"Server responded with status "+a.getStatus()))}else l(new j(A.UNAVAILABLE,"Connection failed."));break;default:ie()}}finally{Y(Ze,`RPC '${e}' ${r} completed.`)}});const c=JSON.stringify(i);Y(Ze,`RPC '${e}' ${r} sending request:`,i),a.send(n,"POST",c,s,15)})}Ro(e,n,s){const i=Ll(),r=[this.mo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=iC(),l=rC(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.xmlHttpFactory=new lC({})),this.Eo(a.initMessageHeaders,n,s),a.encodeInitMessageHeaders=!0;const u=r.join("");Y(Ze,`Creating RPC '${e}' stream ${i}: ${u}`,a);const d=o.createWebChannel(u,a);let h=!1,f=!1;const p=new Z1({ro:w=>{f?Y(Ze,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(h||(Y(Ze,`Opening RPC '${e}' stream ${i} transport.`),d.open(),h=!0),Y(Ze,`RPC '${e}' stream ${i} sending:`,w),d.send(w))},oo:()=>d.close()}),m=(w,y,E)=>{w.listen(y,T=>{try{E(T)}catch(b){setTimeout(()=>{throw b},0)}})};return m(d,go.EventType.OPEN,()=>{f||Y(Ze,`RPC '${e}' stream ${i} transport opened.`)}),m(d,go.EventType.CLOSE,()=>{f||(f=!0,Y(Ze,`RPC '${e}' stream ${i} transport closed`),p.wo())}),m(d,go.EventType.ERROR,w=>{f||(f=!0,ui(Ze,`RPC '${e}' stream ${i} transport errored:`,w),p.wo(new j(A.UNAVAILABLE,"The operation could not be completed")))}),m(d,go.EventType.MESSAGE,w=>{var y;if(!f){const E=w.data[0];Re(!!E);const T=E,b=T.error||((y=T[0])===null||y===void 0?void 0:y.error);if(b){Y(Ze,`RPC '${e}' stream ${i} received error:`,b);const N=b.status;let H=function($){const k=Le[$];if(k!==void 0)return Uv(k)}(N),K=b.message;H===void 0&&(H=A.INTERNAL,K="Unknown error status: "+N+" with message "+b.message),f=!0,p.wo(new j(H,K)),d.close()}else Y(Ze,`RPC '${e}' stream ${i} received:`,E),p._o(E)}}),m(l,aC.STAT_EVENT,w=>{w.stat===wf.PROXY?Y(Ze,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===wf.NOPROXY&&Y(Ze,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{p.fo()},0),p}}function Fl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tl(t){return new h1(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv{constructor(e,n,s=1e3,i=1.5,r=6e4){this.ii=e,this.timerId=n,this.Po=s,this.bo=i,this.Vo=r,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const n=Math.floor(this.So+this.ko()),s=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-s);i>0&&Y("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(e,n,s,i,r,o,l,a){this.ii=e,this.$o=s,this.Oo=i,this.connection=r,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=l,this.listener=a,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new Xv(e,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(e){this.Ho(),this.stream.send(e)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(e,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,e!==4?this.qo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(gn(n.toString()),gn("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=e,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const e=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,i])=>{this.Fo===n&&this.Zo(s,i)},s=>{e(()=>{const i=new j(A.UNKNOWN,"Fetching auth token failed: "+s.message);return this.tu(i)})})}Zo(e,n){const s=this.Xo(this.Fo);this.stream=this.eu(e,n),this.stream.uo(()=>{s(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{s(()=>this.tu(i))}),this.stream.onMessage(i=>{s(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(e){return Y("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Xo(e){return n=>{this.ii.enqueueAndForget(()=>this.Fo===e?n():(Y("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class tA extends Jv{constructor(e,n,s,i,r,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r}eu(e,n){return this.connection.Ro("Listen",e,n)}onMessage(e){this.qo.reset();const n=g1(this.serializer,e),s=function(i){if(!("targetChange"in i))return ae.min();const r=i.targetChange;return r.targetIds&&r.targetIds.length?ae.min():r.readTime?en(r.readTime):ae.min()}(e);return this.listener.nu(n,s)}su(e){const n={};n.database=$c(this.serializer),n.addTarget=function(i,r){let o;const l=r.target;if(o=Rc(l)?{documents:y1(i,l)}:{query:w1(i,l)},o.targetId=r.targetId,r.resumeToken.approximateByteSize()>0){o.resumeToken=jv(i,r.resumeToken);const a=Dc(i,r.expectedCount);a!==null&&(o.expectedCount=a)}else if(r.snapshotVersion.compareTo(ae.min())>0){o.readTime=ca(i,r.snapshotVersion.toTimestamp());const a=Dc(i,r.expectedCount);a!==null&&(o.expectedCount=a)}return o}(this.serializer,e);const s=E1(this.serializer,e);s&&(n.labels=s),this.Wo(n)}iu(e){const n={};n.database=$c(this.serializer),n.removeTarget=e,this.Wo(n)}}class nA extends Jv{constructor(e,n,s,i,r,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,i,o),this.serializer=r,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(e,n){return this.connection.Ro("Write",e,n)}onMessage(e){if(Re(!!e.streamToken),this.lastStreamToken=e.streamToken,this.ru){this.qo.reset();const n=v1(e.writeResults,e.commitTime),s=en(e.commitTime);return this.listener.cu(s,n)}return Re(!e.writeResults||e.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const e={};e.database=$c(this.serializer),this.Wo(e)}uu(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>m1(this.serializer,s))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA extends class{}{constructor(e,n,s,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new j(A.FAILED_PRECONDITION,"The client has already been terminated.")}Io(e,n,s){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,r])=>this.connection.Io(e,n,s,i,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new j(A.UNKNOWN,i.toString())})}vo(e,n,s,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,o])=>this.connection.vo(e,n,s,r,o,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new j(A.UNKNOWN,r.toString())})}terminate(){this.lu=!0}}class iA{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(e){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.yu("Offline")))}set(e){this.Tu(),this.wu=0,e==="Online"&&(this.mu=!1),this.yu(e)}yu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}pu(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(gn(n),this.mu=!1):Y("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rA{constructor(e,n,s,i,r){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=r,this.Pu.Yr(o=>{s.enqueueAndForget(async()=>{ks(this)&&(Y("RemoteStore","Restarting streams for network reachability change."),await async function(l){const a=le(l);a.vu.add(4),await eo(a),a.bu.set("Unknown"),a.vu.delete(4),await nl(a)}(this))})}),this.bu=new iA(s,i)}}async function nl(t){if(ks(t))for(const e of t.Ru)await e(!0)}async function eo(t){for(const e of t.Ru)await e(!1)}function Zv(t,e){const n=le(t);n.Au.has(e.targetId)||(n.Au.set(e.targetId,e),gd(n)?pd(n):Mi(n).Ko()&&fd(n,e))}function ey(t,e){const n=le(t),s=Mi(n);n.Au.delete(e),s.Ko()&&ty(n,e),n.Au.size===0&&(s.Ko()?s.jo():ks(n)&&n.bu.set("Unknown"))}function fd(t,e){if(t.Vu.qt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Mi(t).su(e)}function ty(t,e){t.Vu.qt(e),Mi(t).iu(e)}function pd(t){t.Vu=new l1({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),le:e=>t.Au.get(e)||null,ue:()=>t.datastore.serializer.databaseId}),Mi(t).start(),t.bu.gu()}function gd(t){return ks(t)&&!Mi(t).Uo()&&t.Au.size>0}function ks(t){return le(t).vu.size===0}function ny(t){t.Vu=void 0}async function oA(t){t.Au.forEach((e,n)=>{fd(t,e)})}async function aA(t,e){ny(t),gd(t)?(t.bu.Iu(e),pd(t)):t.bu.set("Unknown")}async function lA(t,e,n){if(t.bu.set("Online"),e instanceof zv&&e.state===2&&e.cause)try{await async function(s,i){const r=i.cause;for(const o of i.targetIds)s.Au.has(o)&&(await s.remoteSyncer.rejectListen(o,r),s.Au.delete(o),s.Vu.removeTarget(o))}(t,e)}catch(s){Y("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await ua(t,s)}else if(e instanceof Mo?t.Vu.Ht(e):e instanceof Bv?t.Vu.ne(e):t.Vu.Xt(e),!n.isEqual(ae.min()))try{const s=await Qv(t.localStore);n.compareTo(s)>=0&&await function(i,r){const o=i.Vu.ce(r);return o.targetChanges.forEach((l,a)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.Au.get(a);c&&i.Au.set(a,c.withResumeToken(l.resumeToken,r))}}),o.targetMismatches.forEach((l,a)=>{const c=i.Au.get(l);if(!c)return;i.Au.set(l,c.withResumeToken(ht.EMPTY_BYTE_STRING,c.snapshotVersion)),ty(i,l);const u=new Nn(c.target,l,a,c.sequenceNumber);fd(i,u)}),i.remoteSyncer.applyRemoteEvent(o)}(t,n)}catch(s){Y("RemoteStore","Failed to raise snapshot:",s),await ua(t,s)}}async function ua(t,e,n){if(!Xr(e))throw e;t.vu.add(1),await eo(t),t.bu.set("Offline"),n||(n=()=>Qv(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{Y("RemoteStore","Retrying IndexedDB access"),await n(),t.vu.delete(1),await nl(t)})}function sy(t,e){return e().catch(n=>ua(t,n,e))}async function sl(t){const e=le(t),n=Yn(e);let s=e.Eu.length>0?e.Eu[e.Eu.length-1].batchId:-1;for(;cA(e);)try{const i=await K1(e.localStore,s);if(i===null){e.Eu.length===0&&n.jo();break}s=i.batchId,uA(e,i)}catch(i){await ua(e,i)}iy(e)&&ry(e)}function cA(t){return ks(t)&&t.Eu.length<10}function uA(t,e){t.Eu.push(e);const n=Yn(t);n.Ko()&&n.ou&&n.uu(e.mutations)}function iy(t){return ks(t)&&!Yn(t).Uo()&&t.Eu.length>0}function ry(t){Yn(t).start()}async function dA(t){Yn(t).hu()}async function hA(t){const e=Yn(t);for(const n of t.Eu)e.uu(n.mutations)}async function fA(t,e,n){const s=t.Eu.shift(),i=od.from(s,e,n);await sy(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await sl(t)}async function pA(t,e){e&&Yn(t).ou&&await async function(n,s){if(i=s.code,r1(i)&&i!==A.ABORTED){const r=n.Eu.shift();Yn(n).Qo(),await sy(n,()=>n.remoteSyncer.rejectFailedWrite(r.batchId,s)),await sl(n)}var i}(t,e),iy(t)&&ry(t)}async function qf(t,e){const n=le(t);n.asyncQueue.verifyOperationInProgress(),Y("RemoteStore","RemoteStore received new credentials");const s=ks(n);n.vu.add(3),await eo(n),s&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.vu.delete(3),await nl(n)}async function gA(t,e){const n=le(t);e?(n.vu.delete(2),await nl(n)):e||(n.vu.add(2),await eo(n),n.bu.set("Unknown"))}function Mi(t){return t.Su||(t.Su=function(e,n,s){const i=le(e);return i.fu(),new tA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{uo:oA.bind(null,t),ao:aA.bind(null,t),nu:lA.bind(null,t)}),t.Ru.push(async e=>{e?(t.Su.Qo(),gd(t)?pd(t):t.bu.set("Unknown")):(await t.Su.stop(),ny(t))})),t.Su}function Yn(t){return t.Du||(t.Du=function(e,n,s){const i=le(e);return i.fu(),new nA(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{uo:dA.bind(null,t),ao:pA.bind(null,t),au:hA.bind(null,t),cu:fA.bind(null,t)}),t.Ru.push(async e=>{e?(t.Du.Qo(),await sl(t)):(await t.Du.stop(),t.Eu.length>0&&(Y("RemoteStore",`Stopping write stream with ${t.Eu.length} pending writes`),t.Eu=[]))})),t.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(e,n,s,i,r){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=i,this.removalCallback=r,this.deferred=new zn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,n,s,i,r){const o=Date.now()+s,l=new md(e,n,o,i,r);return l.start(s),l}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new j(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function vd(t,e){if(gn("AsyncQueue",`${e}: ${t}`),Xr(t))return new j(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e){this.comparator=e?(n,s)=>e(n,s)||Q.comparator(n.key,s.key):(n,s)=>Q.comparator(n.key,s.key),this.keyedMap=Wi(),this.sortedSet=new Me(this.comparator)}static emptySet(e){return new Js(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Js)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,r=s.getNext().key;if(!i.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new Js;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gf{constructor(){this.Cu=new Me(Q.comparator)}track(e){const n=e.doc.key,s=this.Cu.get(n);s?e.type!==0&&s.type===3?this.Cu=this.Cu.insert(n,e):e.type===3&&s.type!==1?this.Cu=this.Cu.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.Cu=this.Cu.remove(n):e.type===1&&s.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:e.doc}):ie():this.Cu=this.Cu.insert(n,e)}xu(){const e=[];return this.Cu.inorderTraversal((n,s)=>{e.push(s)}),e}}class gi{constructor(e,n,s,i,r,o,l,a,c){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=i,this.mutatedKeys=r,this.fromCache=o,this.syncStateChanged=l,this.excludesMetadataChanges=a,this.hasCachedResults=c}static fromInitialDocuments(e,n,s,i,r){const o=[];return n.forEach(l=>{o.push({type:0,doc:l})}),new gi(e,n,Js.emptySet(n),o,s,i,!0,!1,r)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qa(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==s[i].type||!n[i].doc.isEqual(s[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mA{constructor(){this.Nu=void 0,this.listeners=[]}}class vA{constructor(){this.queries=new Oi(e=>Av(e),Qa),this.onlineState="Unknown",this.ku=new Set}}async function oy(t,e){const n=le(t),s=e.query;let i=!1,r=n.queries.get(s);if(r||(i=!0,r=new mA),i)try{r.Nu=await n.onListen(s)}catch(o){const l=vd(o,`Initialization of query '${Nc(e.query)}' failed`);return void e.onError(l)}n.queries.set(s,r),r.listeners.push(e),e.Mu(n.onlineState),r.Nu&&e.$u(r.Nu)&&yd(n)}async function ay(t,e){const n=le(t),s=e.query;let i=!1;const r=n.queries.get(s);if(r){const o=r.listeners.indexOf(e);o>=0&&(r.listeners.splice(o,1),i=r.listeners.length===0)}if(i)return n.queries.delete(s),n.onUnlisten(s)}function yA(t,e){const n=le(t);let s=!1;for(const i of e){const r=i.query,o=n.queries.get(r);if(o){for(const l of o.listeners)l.$u(i)&&(s=!0);o.Nu=i}}s&&yd(n)}function wA(t,e,n){const s=le(t),i=s.queries.get(e);if(i)for(const r of i.listeners)r.onError(n);s.queries.delete(e)}function yd(t){t.ku.forEach(e=>{e.next()})}class ly{constructor(e,n,s){this.query=e,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=s||{}}$u(e){if(!this.options.includeMetadataChanges){const s=[];for(const i of e.docChanges)i.type!==3&&s.push(i);e=new gi(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Fu?this.Lu(e)&&(this.Ou.next(e),n=!0):this.qu(e,this.onlineState)&&(this.Uu(e),n=!0),this.Bu=e,n}onError(e){this.Ou.error(e)}Mu(e){this.onlineState=e;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,e)&&(this.Uu(this.Bu),n=!0),n}qu(e,n){if(!e.fromCache)return!0;const s=n!=="Offline";return(!this.options.Ku||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Lu(e){if(e.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(e){e=gi.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Fu=!0,this.Ou.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cy{constructor(e){this.key=e}}class uy{constructor(e){this.key=e}}class _A{constructor(e,n){this.query=e,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=he(),this.mutatedKeys=he(),this.tc=xv(e),this.ec=new Js(this.tc)}get nc(){return this.Yu}sc(e,n){const s=n?n.ic:new Gf,i=n?n.ec:this.ec;let r=n?n.mutatedKeys:this.mutatedKeys,o=i,l=!1;const a=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,c=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((u,d)=>{const h=i.get(u),f=Xa(this.query,d)?d:null,p=!!h&&this.mutatedKeys.has(h.key),m=!!f&&(f.hasLocalMutations||this.mutatedKeys.has(f.key)&&f.hasCommittedMutations);let w=!1;h&&f?h.data.isEqual(f.data)?p!==m&&(s.track({type:3,doc:f}),w=!0):this.rc(h,f)||(s.track({type:2,doc:f}),w=!0,(a&&this.tc(f,a)>0||c&&this.tc(f,c)<0)&&(l=!0)):!h&&f?(s.track({type:0,doc:f}),w=!0):h&&!f&&(s.track({type:1,doc:h}),w=!0,(a||c)&&(l=!0)),w&&(f?(o=o.add(f),r=m?r.add(u):r.delete(u)):(o=o.delete(u),r=r.delete(u)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const u=this.query.limitType==="F"?o.last():o.first();o=o.delete(u.key),r=r.delete(u.key),s.track({type:1,doc:u})}return{ec:o,ic:s,zi:l,mutatedKeys:r}}rc(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s){const i=this.ec;this.ec=e.ec,this.mutatedKeys=e.mutatedKeys;const r=e.ic.xu();r.sort((c,u)=>function(d,h){const f=p=>{switch(p){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ie()}};return f(d)-f(h)}(c.type,u.type)||this.tc(c.doc,u.doc)),this.oc(s);const o=n?this.uc():[],l=this.Zu.size===0&&this.current?1:0,a=l!==this.Xu;return this.Xu=l,r.length!==0||a?{snapshot:new gi(this.query,e.ec,i,r,e.mutatedKeys,l===0,a,!1,!!s&&s.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new Gf,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(e){return!this.Yu.has(e)&&!!this.ec.has(e)&&!this.ec.get(e).hasLocalMutations}oc(e){e&&(e.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=e.current)}uc(){if(!this.current)return[];const e=this.Zu;this.Zu=he(),this.ec.forEach(s=>{this.ac(s.key)&&(this.Zu=this.Zu.add(s.key))});const n=[];return e.forEach(s=>{this.Zu.has(s)||n.push(new uy(s))}),this.Zu.forEach(s=>{e.has(s)||n.push(new cy(s))}),n}hc(e){this.Yu=e.ir,this.Zu=he();const n=this.sc(e.documents);return this.applyChanges(n,!0)}lc(){return gi.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}}class EA{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class TA{constructor(e){this.key=e,this.fc=!1}}class SA{constructor(e,n,s,i,r,o){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=i,this.currentUser=r,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new Oi(l=>Av(l),Qa),this._c=new Map,this.mc=new Set,this.gc=new Me(Q.comparator),this.yc=new Map,this.Ic=new ud,this.Tc={},this.Ec=new Map,this.Ac=pi.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function bA(t,e){const n=NA(t);let s,i;const r=n.wc.get(e);if(r)s=r.targetId,n.sharedClientState.addLocalQueryTarget(s),i=r.view.lc();else{const o=await W1(n.localStore,mn(e)),l=n.sharedClientState.addLocalQueryTarget(o.targetId);s=o.targetId,i=await IA(n,e,s,l==="current",o.resumeToken),n.isPrimaryClient&&Zv(n.remoteStore,o)}return i}async function IA(t,e,n,s,i){t.Rc=(d,h,f)=>async function(p,m,w,y){let E=m.view.sc(w);E.zi&&(E=await zf(p.localStore,m.query,!1).then(({documents:N})=>m.view.sc(N,E)));const T=y&&y.targetChanges.get(m.targetId),b=m.view.applyChanges(E,p.isPrimaryClient,T);return Wf(p,m.targetId,b.cc),b.snapshot}(t,d,h,f);const r=await zf(t.localStore,e,!0),o=new _A(e,r.ir),l=o.sc(r.documents),a=Zr.createSynthesizedTargetChangeForCurrentChange(n,s&&t.onlineState!=="Offline",i),c=o.applyChanges(l,t.isPrimaryClient,a);Wf(t,n,c.cc);const u=new EA(e,n,o);return t.wc.set(e,u),t._c.has(n)?t._c.get(n).push(e):t._c.set(n,[e]),c.snapshot}async function CA(t,e){const n=le(t),s=n.wc.get(e),i=n._c.get(s.targetId);if(i.length>1)return n._c.set(s.targetId,i.filter(r=>!Qa(r,e))),void n.wc.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(s.targetId),n.sharedClientState.isActiveQueryTarget(s.targetId)||await Vc(n.localStore,s.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(s.targetId),ey(n.remoteStore,s.targetId),Uc(n,s.targetId)}).catch(Qr)):(Uc(n,s.targetId),await Vc(n.localStore,s.targetId,!0))}async function AA(t,e,n){const s=DA(t);try{const i=await function(r,o){const l=le(r),a=Ue.now(),c=o.reduce((h,f)=>h.add(f.key),he());let u,d;return l.persistence.runTransaction("Locally write mutations","readwrite",h=>{let f=vn(),p=he();return l.Zi.getEntries(h,c).next(m=>{f=m,f.forEach((w,y)=>{y.isValidDocument()||(p=p.add(w))})}).next(()=>l.localDocuments.getOverlayedDocuments(h,f)).next(m=>{u=m;const w=[];for(const y of o){const E=e1(y,u.get(y.key).overlayedDocument);E!=null&&w.push(new Ps(y.key,E,wv(E.value.mapValue),Zt.exists(!0)))}return l.mutationQueue.addMutationBatch(h,a,w,o)}).next(m=>{d=m;const w=m.applyToLocalDocumentSet(u,p);return l.documentOverlayCache.saveOverlays(h,m.batchId,w)})}).then(()=>({batchId:d.batchId,changes:kv(u)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(i.batchId),function(r,o,l){let a=r.Tc[r.currentUser.toKey()];a||(a=new Me(ye)),a=a.insert(o,l),r.Tc[r.currentUser.toKey()]=a}(s,i.batchId,n),await to(s,i.changes),await sl(s.remoteStore)}catch(i){const r=vd(i,"Failed to persist write");n.reject(r)}}async function dy(t,e){const n=le(t);try{const s=await q1(n.localStore,e);e.targetChanges.forEach((i,r)=>{const o=n.yc.get(r);o&&(Re(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Re(o.fc):i.removedDocuments.size>0&&(Re(o.fc),o.fc=!1))}),await to(n,s,e)}catch(s){await Qr(s)}}function Kf(t,e,n){const s=le(t);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const i=[];s.wc.forEach((r,o)=>{const l=o.view.Mu(e);l.snapshot&&i.push(l.snapshot)}),function(r,o){const l=le(r);l.onlineState=o;let a=!1;l.queries.forEach((c,u)=>{for(const d of u.listeners)d.Mu(o)&&(a=!0)}),a&&yd(l)}(s.eventManager,e),i.length&&s.dc.nu(i),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function xA(t,e,n){const s=le(t);s.sharedClientState.updateQueryState(e,"rejected",n);const i=s.yc.get(e),r=i&&i.key;if(r){let o=new Me(Q.comparator);o=o.insert(r,nt.newNoDocument(r,ae.min()));const l=he().add(r),a=new el(ae.min(),new Map,new Me(ye),o,l);await dy(s,a),s.gc=s.gc.remove(r),s.yc.delete(e),wd(s)}else await Vc(s.localStore,e,!1).then(()=>Uc(s,e,n)).catch(Qr)}async function PA(t,e){const n=le(t),s=e.batch.batchId;try{const i=await H1(n.localStore,e);fy(n,s,null),hy(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await to(n,i)}catch(i){await Qr(i)}}async function kA(t,e,n){const s=le(t);try{const i=await function(r,o){const l=le(r);return l.persistence.runTransaction("Reject batch","readwrite-primary",a=>{let c;return l.mutationQueue.lookupMutationBatch(a,o).next(u=>(Re(u!==null),c=u.keys(),l.mutationQueue.removeMutationBatch(a,u))).next(()=>l.mutationQueue.performConsistencyCheck(a)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(a,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(a,c)).next(()=>l.localDocuments.getDocuments(a,c))})}(s.localStore,e);fy(s,e,n),hy(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await to(s,i)}catch(i){await Qr(i)}}function hy(t,e){(t.Ec.get(e)||[]).forEach(n=>{n.resolve()}),t.Ec.delete(e)}function fy(t,e,n){const s=le(t);let i=s.Tc[s.currentUser.toKey()];if(i){const r=i.get(e);r&&(n?r.reject(n):r.resolve(),i=i.remove(e)),s.Tc[s.currentUser.toKey()]=i}}function Uc(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const s of t._c.get(e))t.wc.delete(s),n&&t.dc.Pc(s,n);t._c.delete(e),t.isPrimaryClient&&t.Ic.Is(e).forEach(s=>{t.Ic.containsKey(s)||py(t,s)})}function py(t,e){t.mc.delete(e.path.canonicalString());const n=t.gc.get(e);n!==null&&(ey(t.remoteStore,n),t.gc=t.gc.remove(e),t.yc.delete(n),wd(t))}function Wf(t,e,n){for(const s of n)s instanceof cy?(t.Ic.addReference(s.key,e),RA(t,s)):s instanceof uy?(Y("SyncEngine","Document no longer in limbo: "+s.key),t.Ic.removeReference(s.key,e),t.Ic.containsKey(s.key)||py(t,s.key)):ie()}function RA(t,e){const n=e.key,s=n.path.canonicalString();t.gc.get(n)||t.mc.has(s)||(Y("SyncEngine","New document in limbo: "+n),t.mc.add(s),wd(t))}function wd(t){for(;t.mc.size>0&&t.gc.size<t.maxConcurrentLimboResolutions;){const e=t.mc.values().next().value;t.mc.delete(e);const n=new Q(ke.fromString(e)),s=t.Ac.next();t.yc.set(s,new TA(n)),t.gc=t.gc.insert(n,s),Zv(t.remoteStore,new Nn(mn(sd(n.path)),s,"TargetPurposeLimboResolution",Xu.ct))}}async function to(t,e,n){const s=le(t),i=[],r=[],o=[];s.wc.isEmpty()||(s.wc.forEach((l,a)=>{o.push(s.Rc(a,e,n).then(c=>{if((c||n)&&s.isPrimaryClient&&s.sharedClientState.updateQueryState(a.targetId,c!=null&&c.fromCache?"not-current":"current"),c){i.push(c);const u=hd.Li(a.targetId,c);r.push(u)}}))}),await Promise.all(o),s.dc.nu(i),await async function(l,a){const c=le(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",u=>M.forEach(a,d=>M.forEach(d.Fi,h=>c.persistence.referenceDelegate.addReference(u,d.targetId,h)).next(()=>M.forEach(d.Bi,h=>c.persistence.referenceDelegate.removeReference(u,d.targetId,h)))))}catch(u){if(!Xr(u))throw u;Y("LocalStore","Failed to update sequence numbers: "+u)}for(const u of a){const d=u.targetId;if(!u.fromCache){const h=c.Ji.get(d),f=h.snapshotVersion,p=h.withLastLimboFreeSnapshotVersion(f);c.Ji=c.Ji.insert(d,p)}}}(s.localStore,r))}async function OA(t,e){const n=le(t);if(!n.currentUser.isEqual(e)){Y("SyncEngine","User change. New user:",e.toKey());const s=await Yv(n.localStore,e);n.currentUser=e,function(i,r){i.Ec.forEach(o=>{o.forEach(l=>{l.reject(new j(A.CANCELLED,r))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await to(n,s.er)}}function MA(t,e){const n=le(t),s=n.yc.get(e);if(s&&s.fc)return he().add(s.key);{let i=he();const r=n._c.get(e);if(!r)return i;for(const o of r){const l=n.wc.get(o);i=i.unionWith(l.view.nc)}return i}}function NA(t){const e=le(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=dy.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=MA.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=xA.bind(null,e),e.dc.nu=yA.bind(null,e.eventManager),e.dc.Pc=wA.bind(null,e.eventManager),e}function DA(t){const e=le(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=PA.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kA.bind(null,e),e}class Yf{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=tl(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return j1(this.persistence,new B1,e.initialUser,this.serializer)}createPersistence(e){return new V1(dd.zs,this.serializer)}createSharedClientState(e){return new Q1}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class LA{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>Kf(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=OA.bind(null,this.syncEngine),await gA(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new vA}createDatastore(e){const n=tl(e.databaseInfo.databaseId),s=(i=e.databaseInfo,new eA(i));var i;return function(r,o,l,a){return new sA(r,o,l,a)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return n=this.localStore,s=this.datastore,i=e.asyncQueue,r=l=>Kf(this.syncEngine,l,0),o=Hf.D()?new Hf:new X1,new rA(n,s,i,r,o);var n,s,i,r,o}createSyncEngine(e,n){return function(s,i,r,o,l,a,c){const u=new SA(s,i,r,o,l,a);return c&&(u.vc=!0),u}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}terminate(){return async function(e){const n=le(e);Y("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await eo(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gy{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Sc(this.observer.next,e)}error(e){this.observer.error?this.Sc(this.observer.error,e):gn("Uncaught Error in snapshot listener:",e.toString())}Dc(){this.muted=!0}Sc(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FA{constructor(e,n,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=i,this.user=et.UNAUTHENTICATED,this.clientId=mv.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(s,async r=>{Y("FirestoreClient","Received user=",r.uid),await this.authCredentialListener(r),this.user=r}),this.appCheckCredentials.start(s,r=>(Y("FirestoreClient","Received new app check token=",r),this.appCheckCredentialListener(r,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new j(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new zn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=vd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function $l(t,e){t.asyncQueue.verifyOperationInProgress(),Y("FirestoreClient","Initializing OfflineComponentProvider");const n=await t.getConfiguration();await e.initialize(n);let s=n.initialUser;t.setCredentialChangeListener(async i=>{s.isEqual(i)||(await Yv(e.localStore,i),s=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Qf(t,e){t.asyncQueue.verifyOperationInProgress();const n=await VA(t);Y("FirestoreClient","Initializing OnlineComponentProvider");const s=await t.getConfiguration();await e.initialize(n,s),t.setCredentialChangeListener(i=>qf(e.remoteStore,i)),t.setAppCheckTokenChangeListener((i,r)=>qf(e.remoteStore,r)),t._onlineComponents=e}function $A(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function VA(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Y("FirestoreClient","Using user provided OfflineComponentProvider");try{await $l(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!$A(n))throw n;ui("Error using user provided cache. Falling back to memory cache: "+n),await $l(t,new Yf)}}else Y("FirestoreClient","Using default OfflineComponentProvider"),await $l(t,new Yf);return t._offlineComponents}async function my(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Y("FirestoreClient","Using user provided OnlineComponentProvider"),await Qf(t,t._uninitializedComponentsProvider._online)):(Y("FirestoreClient","Using default OnlineComponentProvider"),await Qf(t,new LA))),t._onlineComponents}function UA(t){return my(t).then(e=>e.syncEngine)}async function Bc(t){const e=await my(t),n=e.eventManager;return n.onListen=bA.bind(null,e.syncEngine),n.onUnlisten=CA.bind(null,e.syncEngine),n}function BA(t,e,n={}){const s=new zn;return t.asyncQueue.enqueueAndForget(async()=>function(i,r,o,l,a){const c=new gy({next:d=>{r.enqueueAndForget(()=>ay(i,u)),d.fromCache&&l.source==="server"?a.reject(new j(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):a.resolve(d)},error:d=>a.reject(d)}),u=new ly(o,c,{includeMetadataChanges:!0,Ku:!0});return oy(i,u)}(await Bc(t),t.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vy(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(t,e,n){if(!n)throw new j(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function zA(t,e,n,s){if(e===!0&&s===!0)throw new j(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Jf(t){if(!Q.isDocumentKey(t))throw new j(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Zf(t){if(Q.isDocumentKey(t))throw new j(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function il(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":ie()}function jn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new j(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=il(t);throw new j(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ep{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new j(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new j(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}zA("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=vy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new j(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new j(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new j(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,s=e.experimentalLongPollingOptions,n.timeoutSeconds===s.timeoutSeconds)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams;var n,s}}class rl{constructor(e,n,s,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ep({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new j(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new j(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ep(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new dC;switch(n.type){case"firstParty":return new gC(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new j(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const n=Xf.get(e);n&&(Y("ComponentProvider","Removing Datastore"),Xf.delete(e),n.terminate())}(this),Promise.resolve()}}function jA(t,e,n,s={}){var i;const r=(t=jn(t,rl))._getSettings(),o=`${e}:${n}`;if(r.host!=="firestore.googleapis.com"&&r.host!==o&&ui("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},r),{host:o,ssl:!1})),s.mockUserToken){let l,a;if(typeof s.mockUserToken=="string")l=s.mockUserToken,a=et.MOCK_USER;else{l=RE(s.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const c=s.mockUserToken.sub||s.mockUserToken.user_id;if(!c)throw new j(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new et(c)}t._authCredentials=new hC(new gv(l,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Hn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new bt(this.firestore,e,this._key)}}class Jn{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Jn(this.firestore,e,this._query)}}class Hn extends Jn{constructor(e,n,s){super(e,n,sd(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new bt(this.firestore,null,new Q(e))}withConverter(e){return new Hn(this.firestore,e,this._path)}}function zc(t,e,...n){if(t=dt(t),yy("collection","path",e),t instanceof rl){const s=ke.fromString(e,...n);return Zf(s),new Hn(t,null,s)}{if(!(t instanceof bt||t instanceof Hn))throw new j(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ke.fromString(e,...n));return Zf(s),new Hn(t.firestore,null,s)}}function wy(t,e,...n){if(t=dt(t),arguments.length===1&&(e=mv.A()),yy("doc","path",e),t instanceof rl){const s=ke.fromString(e,...n);return Jf(s),new bt(t,null,new Q(s))}{if(!(t instanceof bt||t instanceof Hn))throw new j(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=t._path.child(ke.fromString(e,...n));return Jf(s),new bt(t.firestore,t instanceof Hn?t.converter:null,new Q(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HA{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new Xv(this,"async_queue_retry"),this.Xc=()=>{const n=Fl();n&&Y("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const e=Fl();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const n=Fl();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new zn;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(e){if(!Xr(e))throw e;Y("AsyncQueue","Operation failed with retryable error: "+e)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(e){const n=this.Gc.then(()=>(this.Hc=!0,e().catch(s=>{this.Wc=s,this.Hc=!1;const i=function(r){let o=r.message||"";return r.stack&&(o=r.stack.includes(r.message)?r.stack:r.message+`
`+r.stack),o}(s);throw gn("INTERNAL UNHANDLED ERROR: ",i),s}).then(s=>(this.Hc=!1,s))));return this.Gc=n,n}enqueueAfterDelay(e,n,s){this.Zc(),this.Yc.indexOf(e)>-1&&(n=0);const i=md.createAndSchedule(this,e,n,s,r=>this.na(r));return this.zc.push(i),i}Zc(){this.Wc&&ie()}verifyOperationInProgress(){}async sa(){let e;do e=this.Gc,await e;while(e!==this.Gc)}ia(e){for(const n of this.zc)if(n.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const n=this.zc.indexOf(e);this.zc.splice(n,1)}}function tp(t){return function(e,n){if(typeof e!="object"||e===null)return!1;const s=e;for(const i of n)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}class mi extends rl{constructor(e,n,s,i){super(e,n,s,i),this.type="firestore",this._queue=new HA,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||_y(this),this._firestoreClient.terminate()}}function qA(t,e){const n=typeof t=="object"?t:kg(),s=typeof t=="string"?t:e||"(default)",i=vu(n,"firestore").getImmediate({identifier:s});if(!i._initialized){const r=PE("firestore");r&&jA(i,...r)}return i}function _d(t){return t._firestoreClient||_y(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function _y(t){var e,n,s;const i=t._freezeSettings(),r=function(o,l,a,c){return new AC(o,l,a,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,vy(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new FA(t._authCredentials,t._appCheckCredentials,t._queue,r),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=i.cache)===null||s===void 0)&&s._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this._byteString=e}static fromBase64String(e){try{return new vi(ht.fromBase64String(e))}catch(n){throw new j(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new vi(ht.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new j(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new j(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new j(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ye(this._lat,e._lat)||ye(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GA=/^__.*__$/;class KA{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new Ps(e,this.data,this.fieldMask,n,this.fieldTransforms):new Jr(e,this.data,n,this.fieldTransforms)}}function Ey(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ie()}}class bd{constructor(e,n,s,i,r,o){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=i,r===void 0&&this.ua(),this.fieldTransforms=r||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(e){return new bd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:s,la:!1});return i.fa(e),i}da(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.aa({path:s,la:!1});return i.ua(),i}wa(e){return this.aa({path:void 0,la:!0})}_a(e){return da(e,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let e=0;e<this.path.length;e++)this.fa(this.path.get(e))}fa(e){if(e.length===0)throw this._a("Document fields must not be empty");if(Ey(this.ca)&&GA.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class WA{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||tl(e)}ya(e,n,s,i=!1){return new bd({ca:e,methodName:n,ga:s,path:rt.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ty(t){const e=t._freezeSettings(),n=tl(t._databaseId);return new WA(t._databaseId,!!e.ignoreUndefinedProperties,n)}function YA(t,e,n,s,i,r={}){const o=t.ya(r.merge||r.mergeFields?2:0,e,n,i);Iy("Data must be an object, but it was:",o,s);const l=Sy(s,o);let a,c;if(r.merge)a=new Dt(o.fieldMask),c=o.fieldTransforms;else if(r.mergeFields){const u=[];for(const d of r.mergeFields){const h=XA(e,d,n);if(!o.contains(h))throw new j(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);ZA(u,h)||u.push(h)}a=new Dt(u),c=o.fieldTransforms.filter(d=>a.covers(d.field))}else a=null,c=o.fieldTransforms;return new KA(new xt(l),a,c)}class Id extends Td{_toFieldTransform(e){return new QC(e.path,new kr)}isEqual(e){return e instanceof Id}}function QA(t,e,n,s=!1){return Cd(n,t.ya(s?4:3,e))}function Cd(t,e){if(by(t=dt(t)))return Iy("Unsupported field value:",e,t),Sy(t,e);if(t instanceof Td)return function(n,s){if(!Ey(s.ca))throw s._a(`${n._methodName}() can only be used with update() and set()`);if(!s.path)throw s._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.la&&e.ca!==4)throw e._a("Nested arrays are not supported");return function(n,s){const i=[];let r=0;for(const o of n){let l=Cd(o,s.wa(r));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),r++}return{arrayValue:{values:i}}}(t,e)}return function(n,s){if((n=dt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return KC(s.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=Ue.fromDate(n);return{timestampValue:ca(s.serializer,i)}}if(n instanceof Ue){const i=new Ue(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:ca(s.serializer,i)}}if(n instanceof Sd)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof vi)return{bytesValue:jv(s.serializer,n._byteString)};if(n instanceof bt){const i=s.databaseId,r=n.firestore._databaseId;if(!r.isEqual(i))throw s._a(`Document reference is for database ${r.projectId}/${r.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:cd(n.firestore._databaseId||s.databaseId,n._key.path)}}throw s._a(`Unsupported field value: ${il(n)}`)}(t,e)}function Sy(t,e){const n={};return vv(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ki(t,(s,i)=>{const r=Cd(i,e.ha(s));r!=null&&(n[s]=r)}),{mapValue:{fields:n}}}function by(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ue||t instanceof Sd||t instanceof vi||t instanceof bt||t instanceof Td)}function Iy(t,e,n){if(!by(n)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(n)){const s=il(n);throw s==="an object"?e._a(t+" a custom object"):e._a(t+" "+s)}}function XA(t,e,n){if((e=dt(e))instanceof Ed)return e._internalPath;if(typeof e=="string")return Cy(t,e);throw da("Field path arguments must be of type string or ",t,!1,void 0,n)}const JA=new RegExp("[~\\*/\\[\\]]");function Cy(t,e,n){if(e.search(JA)>=0)throw da(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Ed(...e.split("."))._internalPath}catch{throw da(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function da(t,e,n,s,i){const r=s&&!s.isEmpty(),o=i!==void 0;let l=`Function ${e}() called with invalid data`;n&&(l+=" (via `toFirestore()`)"),l+=". ";let a="";return(r||o)&&(a+=" (found",r&&(a+=` in field ${s}`),o&&(a+=` in document ${i}`),a+=")"),new j(A.INVALID_ARGUMENT,l+t+a)}function ZA(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ay{constructor(e,n,s,i,r){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=i,this._converter=r}get id(){return this._key.path.lastSegment()}get ref(){return new bt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ex(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(ol("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class ex extends Ay{data(){return super.data()}}function ol(t,e){return typeof e=="string"?Cy(t,e):e instanceof Ed?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xy(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new j(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ad{}class Py extends Ad{}function tx(t,e,...n){let s=[];e instanceof Ad&&s.push(e),s=s.concat(n),function(i){const r=i.filter(l=>l instanceof xd).length,o=i.filter(l=>l instanceof al).length;if(r>1||r>0&&o>0)throw new j(A.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(s);for(const i of s)t=i._apply(t);return t}class al extends Py{constructor(e,n,s){super(),this._field=e,this._op=n,this._value=s,this.type="where"}static _create(e,n,s){return new al(e,n,s)}_apply(e){const n=this._parse(e);return ky(e._query,n),new Jn(e.firestore,e.converter,Oc(e._query,n))}_parse(e){const n=Ty(e.firestore);return function(i,r,o,l,a,c,u){let d;if(a.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new j(A.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){sp(u,c);const h=[];for(const f of u)h.push(np(l,i,f));d={arrayValue:{values:h}}}else d=np(l,i,u)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||sp(u,c),d=QA(o,r,u,c==="in"||c==="not-in");return $e.create(a,c,d)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function nx(t,e,n){const s=e,i=ol("where",t);return al._create(i,s,n)}class xd extends Ad{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new xd(e,n)}_parse(e){const n=this._queryConstraints.map(s=>s._parse(e)).filter(s=>s.getFilters().length>0);return n.length===1?n[0]:Bt.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let r=s;const o=i.getFlattenedFilters();for(const l of o)ky(r,l),r=Oc(r,l)}(e._query,n),new Jn(e.firestore,e.converter,Oc(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Pd extends Py{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Pd(e,n)}_apply(e){const n=function(s,i,r){if(s.startAt!==null)throw new j(A.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new j(A.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Qs(i,r);return function(l,a){if(id(l)===null){const c=Ya(l);c!==null&&Ry(l,c,a.field)}}(s,o),o}(e._query,this._field,this._direction);return new Jn(e.firestore,e.converter,function(s,i){const r=s.explicitOrderBy.concat([i]);return new Ri(s.path,s.collectionGroup,r,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,n))}}function sx(t,e="asc"){const n=e,s=ol("orderBy",t);return Pd._create(s,n)}function np(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new j(A.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Cv(e)&&n.indexOf("/")!==-1)throw new j(A.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const s=e.path.child(ke.fromString(n));if(!Q.isDocumentKey(s))throw new j(A.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${s}' is not because it has an odd number of segments (${s.length}).`);return If(t,new Q(s))}if(n instanceof bt)return If(t,n._key);throw new j(A.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${il(n)}.`)}function sp(t,e){if(!Array.isArray(t)||t.length===0)throw new j(A.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function ky(t,e){if(e.isInequality()){const s=Ya(t),i=e.field;if(s!==null&&!s.isEqual(i))throw new j(A.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${s.toString()}' and '${i.toString()}'`);const r=id(t);r!==null&&Ry(t,i,r)}const n=function(s,i){for(const r of s)for(const o of r.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new j(A.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new j(A.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function Ry(t,e,n){if(!n.isEqual(e))throw new j(A.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}class ix{convertValue(e,n="none"){switch(Is(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Fe(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(bs(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw ie()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return ki(e,(i,r)=>{s[i]=this.convertValue(r,n)}),s}convertGeoPoint(e){return new Sd(Fe(e.latitude),Fe(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Zu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(Ar(e));default:return null}}convertTimestamp(e){const n=Wn(e);return new Ue(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=ke.fromString(e);Re(Wv(s));const i=new xr(s.get(1),s.get(3)),r=new Q(s.popFirst(5));return i.isEqual(n)||gn(`Document ${r} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),r}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rx(t,e,n){let s;return s=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Oy extends Ay{constructor(e,n,s,i,r,o){super(e,n,s,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=r}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new No(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(ol("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class No extends Oy{data(e={}){return super.data(e)}}class My{constructor(e,n,s,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qi(i.hasPendingWrites,i.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new No(this._firestore,this._userDataWriter,s.key,s,new Qi(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new j(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let r=0;return s._snapshot.docChanges.map(o=>{const l=new No(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Qi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:r++}})}{let r=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const l=new No(s._firestore,s._userDataWriter,o.doc.key,o.doc,new Qi(s._snapshot.mutatedKeys.has(o.doc.key),s._snapshot.fromCache),s.query.converter);let a=-1,c=-1;return o.type!==0&&(a=r.indexOf(o.doc.key),r=r.delete(o.doc.key)),o.type!==1&&(r=r.add(o.doc),c=r.indexOf(o.doc.key)),{type:ox(o.type),doc:l,oldIndex:a,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function ox(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ie()}}class kd extends ix{constructor(e){super(),this.firestore=e}convertBytes(e){return new vi(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new bt(this.firestore,null,n)}}function ax(t){t=jn(t,Jn);const e=jn(t.firestore,mi),n=_d(e),s=new kd(e);return xy(t._query),BA(n,t._query).then(i=>new My(e,s,t,i))}function lx(t){return Ny(jn(t.firestore,mi),[new rd(t._key,Zt.none())])}function cx(t,e){const n=jn(t.firestore,mi),s=wy(t),i=rx(t.converter,e);return Ny(n,[YA(Ty(t.firestore),"addDoc",s._key,i,t.converter!==null,{}).toMutation(s._key,Zt.exists(!1))]).then(()=>s)}function ux(t,...e){var n,s,i;t=dt(t);let r={includeMetadataChanges:!1},o=0;typeof e[o]!="object"||tp(e[o])||(r=e[o],o++);const l={includeMetadataChanges:r.includeMetadataChanges};if(tp(e[o])){const d=e[o];e[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),e[o+1]=(s=d.error)===null||s===void 0?void 0:s.bind(d),e[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let a,c,u;if(t instanceof bt)c=jn(t.firestore,mi),u=sd(t._key.path),a={next:d=>{e[o]&&e[o](dx(c,t,d))},error:e[o+1],complete:e[o+2]};else{const d=jn(t,Jn);c=jn(d.firestore,mi),u=d._query;const h=new kd(c);a={next:f=>{e[o]&&e[o](new My(c,h,d,f))},error:e[o+1],complete:e[o+2]},xy(t._query)}return function(d,h,f,p){const m=new gy(p),w=new ly(h,m,f);return d.asyncQueue.enqueueAndForget(async()=>oy(await Bc(d),w)),()=>{m.Dc(),d.asyncQueue.enqueueAndForget(async()=>ay(await Bc(d),w))}}(_d(c),u,l,a)}function Ny(t,e){return function(n,s){const i=new zn;return n.asyncQueue.enqueueAndForget(async()=>AA(await UA(n),s,i)),i.promise}(_d(t),e)}function dx(t,e,n){const s=n.docs.get(e._key),i=new kd(t);return new Oy(t,i,e._key,s,new Qi(n.hasPendingWrites,n.fromCache),e.converter)}function hx(){return new Id("serverTimestamp")}(function(t,e=!0){(function(n){Pi=n})(Ti),li(new ys("firestore",(n,{instanceIdentifier:s,options:i})=>{const r=n.getProvider("app").getImmediate(),o=new mi(new fC(n.getProvider("auth-internal")),new vC(n.getProvider("app-check-internal")),function(l,a){if(!Object.prototype.hasOwnProperty.apply(l.options,["projectId"]))throw new j(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xr(l.options.projectId,a)}(r,s),r);return i=Object.assign({useFetchStreams:e},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),Bn(_f,"3.12.2",t),Bn(_f,"3.12.2","esm2017")})();const fx={apiKey:"AIzaSyDo1UL70LsK0Da8-R-3mQ-9mzV1B_GC0jc",authDomain:"zero-thinking-7892c.firebaseapp.com",projectId:"zero-thinking-7892c",storageBucket:"zero-thinking-7892c.appspot.com",messagingSenderId:"394510650093",appId:"1:394510650093:web:48b9163d36059781b35ae4",measurementId:"G-SBFKZRZLNP"},px=Pg(fx),Do=qA(px),gx={class:"header-container"},mx={id:"app"},vx=I("div",{class:"left-contents"},null,-1),yx=I("div",{class:"main-contents"},null,-1),wx={class:"memo-start"},_x={key:0,class:"memo-list-ex"},Ex=I("span",{class:"in-bl"},"",-1),Tx={class:"memo-date-list"},Sx={class:"dateTitle"},bx=["data-index","onClick"],Ix=I("div",{class:"check"},[I("img",{src:tI,alt:""})],-1),Cx={class:"memo-inner"},Ax={class:"memo-title"},xx={class:"memo-list"},Px=I("span",{class:"pointer"},"",-1),kx={class:"memo-btn"},Rx=["onClick"],Ox=I("img",{src:hm,alt:""},null,-1),Mx=[Ox],Nx=["data-index"],Dx=["onClick"],Lx={class:"modal-memo"},Fx={class:"memo-head"},$x={class:"memo-title"},Vx={class:"title-text"},Ux=I("span",{class:"title-border"},null,-1),Bx={class:"memo-date"},zx={class:"memo-list"},jx=I("span",{class:"pointer"},"",-1),Hx={class:"memo-btn"},qx=I("img",{src:hm,alt:""},null,-1),Gx=[qx],Kx=["onClick"],Wx={__name:"HomeView",setup(t){const e=Z([]),n=Z(""),s=Z(""),i=Z(""),r=Z(""),o=Z([]),l=Z([]),a=fu(),c=Z(!1),u=Z(""),d=Z(null),h=async()=>{const K=zc(Do,"papers"),$=tx(K,nx("uid","==",Ts().currentUser.uid),sx("timestamp","desc")),k=await ax($);e.value=k.docs.map(F=>F.id);const P=k.docs.map(F=>F.data());o.value=[],l.value=[],Object.keys(P).forEach(F=>{o.value.push({title:P[F].title,list:P[F].list,date:P[F].date,docId:e.value[F],index:F})}),r.value=E(o.value.map(F=>F.date)),T()},f=async K=>{i.value="delete",s.value=K,await lx(wy(Do,"papers",K)),d.value=null},p=(K,$)=>{const k=document.querySelector("main").getBoundingClientRect().top,P=$.srcElement.getBoundingClientRect().top,F=$.srcElement.getBoundingClientRect().left,ne=document.documentElement.clientWidth;d.value={opacity:1,display:"block",top:P-k+50+"px",left:0},F+200>ne?d.value.left=F-140+"px":d.value.left=F+"px",n.value=K},m=()=>{d.value=null},w=K=>{i.value="open",n.value=K,u.value=o.value.filter($=>$.index===n.value)[0]},y=()=>{i.value="",m()},E=K=>K.filter(($,k)=>k===K.indexOf($)),T=()=>{r.value.forEach(K=>{l.value.push(o.value.filter($=>$.date===K))})},b=K=>{new MagicGrid({container:`.memo-group${K}`,animate:!0,gutter:10,static:!0,useMin:!0,maxColumns:5}).listen()},N=()=>{jS(H).then(()=>{a.push("/about")}).catch(K=>{console.log(K)})};let H;return Ei(async()=>{await h(),r.value.forEach((K,$)=>{b($)}),H=Ts(),Iu(H,K=>{K?c.value=!0:c.value=!1}),document.addEventListener("click",K=>{d.value&&(K.target.closest(".delete-menu")||m())})}),ux(zc(Do,"papers"),K=>{K.docChanges().forEach($=>{if($.type==="removed"){const k=o.value.filter(P=>P.docId!==$.doc.id);o.value=[],o.value=k,l.value=[],r.value=E(o.value.map(P=>P.date)),T(),setTimeout(()=>{r.value.forEach((P,F)=>{b(F)})},100)}})}),(K,$)=>(Ve(),Ke(tt,null,[I("header",null,[I("div",gx,[I("h1",null,[Oe(Ye(vs),{to:"/",class:"memo-contents"},{default:Mt(()=>[An("0")]),_:1})]),c.value?(Ve(),Ke("button",{key:0,onClick:N},"")):ih("",!0)])]),I("main",mx,[vx,yx,I("div",wx,[Oe(Ye(vs),{to:"/memo",id:"start"},{default:Mt(()=>[An("0")]),_:1})]),r.value.length?ih("",!0):(Ve(),Ke("p",_x,[An("0"),Ex])),(Ve(!0),Ke(tt,null,zi(r.value,(k,P)=>(Ve(),Ke("div",Tx,[I("h3",Sx,yt(k),1),I("div",{class:Ln(`memo-group${P}`)},[(Ve(!0),Ke(tt,null,zi(l.value[P],(F,ne)=>(Ve(),Ke("div",null,[I("div",{class:Ln(["memo-content",{select:F.index===n.value,delete:e.value[F.index]===s.value}]),"data-index":F.index,onClick:q=>w(F.index)},[Ix,I("div",Cx,[I("p",Ax,yt(F.title),1),I("ul",xx,[(Ve(!0),Ke(tt,null,zi(F.list,(q,ge)=>(Ve(),Ke("li",null,[Px,An(yt(q),1)]))),256))])]),I("div",kx,[I("button",{class:"delete",onClick:On(q=>p(F.index,q),["stop"])},Mx,8,Rx)])],10,bx)]))),256))],2)]))),256)),I("div",{class:Ln(["modal-bg",i.value]),onClick:y},[I("div",{class:"modal","data-index":n.value},[I("div",{class:"modal-content",onClick:On(m,["stop"])},[I("div",Lx,[I("div",Fx,[I("p",$x,[I("span",Vx,yt(u.value.title),1),Ux]),I("p",Bx,yt(u.value.date),1)]),I("ul",zx,[(Ve(!0),Ke(tt,null,zi(u.value.list,(k,P)=>(Ve(),Ke("li",null,[jx,An(yt(k),1)]))),256))])]),I("div",Hx,[I("button",{class:"delete",onClick:$[0]||($[0]=On(k=>p(n.value,k),["stop"]))},Gx),I("button",{class:"close",onClick:On(y,["stop"])},"",8,Kx)])],8,Dx)],8,Nx)],2),I("div",{class:"delete-menu",style:cs(d.value)},[I("p",{onClick:$[1]||($[1]=k=>f(e.value[n.value]))},"")],4)])],64))}},Yx="/zero-thinking/assets/timer-2e799dc7.svg",Qx="/zero-thinking/assets/memo-ex01_sp-9a12ee08.png",Xx="/zero-thinking/assets/memo-ex01-5c2faf84.png",Jx="/zero-thinking/assets/memo-ex02_sp-560c00aa.png",Zx="/zero-thinking/assets/memo-ex02-2bd47f54.png";function ip(t){return t!==null&&typeof t=="object"&&"constructor"in t&&t.constructor===Object}function Rd(t,e){t===void 0&&(t={}),e===void 0&&(e={}),Object.keys(e).forEach(n=>{typeof t[n]>"u"?t[n]=e[n]:ip(e[n])&&ip(t[n])&&Object.keys(e[n]).length>0&&Rd(t[n],e[n])})}const Dy={body:{},addEventListener(){},removeEventListener(){},activeElement:{blur(){},nodeName:""},querySelector(){return null},querySelectorAll(){return[]},getElementById(){return null},createEvent(){return{initEvent(){}}},createElement(){return{children:[],childNodes:[],style:{},setAttribute(){},getElementsByTagName(){return[]}}},createElementNS(){return{}},importNode(){return null},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""}};function Ni(){const t=typeof document<"u"?document:{};return Rd(t,Dy),t}const eP={document:Dy,navigator:{userAgent:""},location:{hash:"",host:"",hostname:"",href:"",origin:"",pathname:"",protocol:"",search:""},history:{replaceState(){},pushState(){},go(){},back(){}},CustomEvent:function(){return this},addEventListener(){},removeEventListener(){},getComputedStyle(){return{getPropertyValue(){return""}}},Image(){},Date(){},screen:{},setTimeout(){},clearTimeout(){},matchMedia(){return{}},requestAnimationFrame(t){return typeof setTimeout>"u"?(t(),null):setTimeout(t,0)},cancelAnimationFrame(t){typeof setTimeout>"u"||clearTimeout(t)}};function Ct(){const t=typeof window<"u"?window:{};return Rd(t,eP),t}function tP(t){return t===void 0&&(t=""),t.trim().split(" ").filter(e=>!!e.trim())}function nP(t){const e=t;Object.keys(e).forEach(n=>{try{e[n]=null}catch{}try{delete e[n]}catch{}})}function jc(t,e){return e===void 0&&(e=0),setTimeout(t,e)}function ha(){return Date.now()}function sP(t){const e=Ct();let n;return e.getComputedStyle&&(n=e.getComputedStyle(t,null)),!n&&t.currentStyle&&(n=t.currentStyle),n||(n=t.style),n}function iP(t,e){e===void 0&&(e="x");const n=Ct();let s,i,r;const o=sP(t);return n.WebKitCSSMatrix?(i=o.transform||o.webkitTransform,i.split(",").length>6&&(i=i.split(", ").map(l=>l.replace(",",".")).join(", ")),r=new n.WebKitCSSMatrix(i==="none"?"":i)):(r=o.MozTransform||o.OTransform||o.MsTransform||o.msTransform||o.transform||o.getPropertyValue("transform").replace("translate(","matrix(1, 0, 0, 1,"),s=r.toString().split(",")),e==="x"&&(n.WebKitCSSMatrix?i=r.m41:s.length===16?i=parseFloat(s[12]):i=parseFloat(s[4])),e==="y"&&(n.WebKitCSSMatrix?i=r.m42:s.length===16?i=parseFloat(s[13]):i=parseFloat(s[5])),i||0}function _o(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"}function rP(t){return typeof window<"u"&&typeof window.HTMLElement<"u"?t instanceof HTMLElement:t&&(t.nodeType===1||t.nodeType===11)}function St(){const t=Object(arguments.length<=0?void 0:arguments[0]),e=["__proto__","constructor","prototype"];for(let n=1;n<arguments.length;n+=1){const s=n<0||arguments.length<=n?void 0:arguments[n];if(s!=null&&!rP(s)){const i=Object.keys(Object(s)).filter(r=>e.indexOf(r)<0);for(let r=0,o=i.length;r<o;r+=1){const l=i[r],a=Object.getOwnPropertyDescriptor(s,l);a!==void 0&&a.enumerable&&(_o(t[l])&&_o(s[l])?s[l].__swiper__?t[l]=s[l]:St(t[l],s[l]):!_o(t[l])&&_o(s[l])?(t[l]={},s[l].__swiper__?t[l]=s[l]:St(t[l],s[l])):t[l]=s[l])}}}return t}function Eo(t,e,n){t.style.setProperty(e,n)}function Ly(t){let{swiper:e,targetPosition:n,side:s}=t;const i=Ct(),r=-e.translate;let o=null,l;const a=e.params.speed;e.wrapperEl.style.scrollSnapType="none",i.cancelAnimationFrame(e.cssModeFrameID);const c=n>r?"next":"prev",u=(h,f)=>c==="next"&&h>=f||c==="prev"&&h<=f,d=()=>{l=new Date().getTime(),o===null&&(o=l);const h=Math.max(Math.min((l-o)/a,1),0),f=.5-Math.cos(h*Math.PI)/2;let p=r+f*(n-r);if(u(p,n)&&(p=n),e.wrapperEl.scrollTo({[s]:p}),u(p,n)){e.wrapperEl.style.overflow="hidden",e.wrapperEl.style.scrollSnapType="",setTimeout(()=>{e.wrapperEl.style.overflow="",e.wrapperEl.scrollTo({[s]:p})}),i.cancelAnimationFrame(e.cssModeFrameID);return}e.cssModeFrameID=i.requestAnimationFrame(d)};d()}function Yt(t,e){return e===void 0&&(e=""),[...t.children].filter(n=>n.matches(e))}function fa(t){try{console.warn(t);return}catch{}}function pa(t,e){e===void 0&&(e=[]);const n=document.createElement(t);return n.classList.add(...Array.isArray(e)?e:tP(e)),n}function oP(t,e){const n=[];for(;t.previousElementSibling;){const s=t.previousElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function aP(t,e){const n=[];for(;t.nextElementSibling;){const s=t.nextElementSibling;e?s.matches(e)&&n.push(s):n.push(s),t=s}return n}function Dn(t,e){return Ct().getComputedStyle(t,null).getPropertyValue(e)}function rp(t){let e=t,n;if(e){for(n=0;(e=e.previousSibling)!==null;)e.nodeType===1&&(n+=1);return n}}function lP(t,e){const n=[];let s=t.parentElement;for(;s;)e?s.matches(e)&&n.push(s):n.push(s),s=s.parentElement;return n}function op(t,e,n){const s=Ct();return n?t[e==="width"?"offsetWidth":"offsetHeight"]+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-right":"margin-top"))+parseFloat(s.getComputedStyle(t,null).getPropertyValue(e==="width"?"margin-left":"margin-bottom")):t.offsetWidth}function rn(t){return(Array.isArray(t)?t:[t]).filter(e=>!!e)}let Vl;function cP(){const t=Ct(),e=Ni();return{smoothScroll:e.documentElement&&e.documentElement.style&&"scrollBehavior"in e.documentElement.style,touch:!!("ontouchstart"in t||t.DocumentTouch&&e instanceof t.DocumentTouch)}}function Fy(){return Vl||(Vl=cP()),Vl}let Ul;function uP(t){let{userAgent:e}=t===void 0?{}:t;const n=Fy(),s=Ct(),i=s.navigator.platform,r=e||s.navigator.userAgent,o={ios:!1,android:!1},l=s.screen.width,a=s.screen.height,c=r.match(/(Android);?[\s\/]+([\d.]+)?/);let u=r.match(/(iPad).*OS\s([\d_]+)/);const d=r.match(/(iPod)(.*OS\s([\d_]+))?/),h=!u&&r.match(/(iPhone\sOS|iOS)\s([\d_]+)/),f=i==="Win32";let p=i==="MacIntel";const m=["1024x1366","1366x1024","834x1194","1194x834","834x1112","1112x834","768x1024","1024x768","820x1180","1180x820","810x1080","1080x810"];return!u&&p&&n.touch&&m.indexOf(`${l}x${a}`)>=0&&(u=r.match(/(Version)\/([\d.]+)/),u||(u=[0,1,"13_0_0"]),p=!1),c&&!f&&(o.os="android",o.android=!0),(u||h||d)&&(o.os="ios",o.ios=!0),o}function $y(t){return t===void 0&&(t={}),Ul||(Ul=uP(t)),Ul}let Bl;function dP(){const t=Ct(),e=$y();let n=!1;function s(){const l=t.navigator.userAgent.toLowerCase();return l.indexOf("safari")>=0&&l.indexOf("chrome")<0&&l.indexOf("android")<0}if(s()){const l=String(t.navigator.userAgent);if(l.includes("Version/")){const[a,c]=l.split("Version/")[1].split(" ")[0].split(".").map(u=>Number(u));n=a<16||a===16&&c<2}}const i=/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/i.test(t.navigator.userAgent),r=s(),o=r||i&&e.ios;return{isSafari:n||r,needPerspectiveFix:n,need3dFix:o,isWebView:i}}function hP(){return Bl||(Bl=dP()),Bl}function fP(t){let{swiper:e,on:n,emit:s}=t;const i=Ct();let r=null,o=null;const l=()=>{!e||e.destroyed||!e.initialized||(s("beforeResize"),s("resize"))},a=()=>{!e||e.destroyed||!e.initialized||(r=new ResizeObserver(d=>{o=i.requestAnimationFrame(()=>{const{width:h,height:f}=e;let p=h,m=f;d.forEach(w=>{let{contentBoxSize:y,contentRect:E,target:T}=w;T&&T!==e.el||(p=E?E.width:(y[0]||y).inlineSize,m=E?E.height:(y[0]||y).blockSize)}),(p!==h||m!==f)&&l()})}),r.observe(e.el))},c=()=>{o&&i.cancelAnimationFrame(o),r&&r.unobserve&&e.el&&(r.unobserve(e.el),r=null)},u=()=>{!e||e.destroyed||!e.initialized||s("orientationchange")};n("init",()=>{if(e.params.resizeObserver&&typeof i.ResizeObserver<"u"){a();return}i.addEventListener("resize",l),i.addEventListener("orientationchange",u)}),n("destroy",()=>{c(),i.removeEventListener("resize",l),i.removeEventListener("orientationchange",u)})}function pP(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;const r=[],o=Ct(),l=function(u,d){d===void 0&&(d={});const h=o.MutationObserver||o.WebkitMutationObserver,f=new h(p=>{if(e.__preventObserver__)return;if(p.length===1){i("observerUpdate",p[0]);return}const m=function(){i("observerUpdate",p[0])};o.requestAnimationFrame?o.requestAnimationFrame(m):o.setTimeout(m,0)});f.observe(u,{attributes:typeof d.attributes>"u"?!0:d.attributes,childList:e.isElement||(typeof d.childList>"u"?!0:d).childList,characterData:typeof d.characterData>"u"?!0:d.characterData}),r.push(f)},a=()=>{if(e.params.observer){if(e.params.observeParents){const u=lP(e.hostEl);for(let d=0;d<u.length;d+=1)l(u[d])}l(e.hostEl,{childList:e.params.observeSlideChildren}),l(e.wrapperEl,{attributes:!1})}},c=()=>{r.forEach(u=>{u.disconnect()}),r.splice(0,r.length)};n({observer:!1,observeParents:!1,observeSlideChildren:!1}),s("init",a),s("destroy",c)}var gP={on(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;const i=n?"unshift":"push";return t.split(" ").forEach(r=>{s.eventsListeners[r]||(s.eventsListeners[r]=[]),s.eventsListeners[r][i](e)}),s},once(t,e,n){const s=this;if(!s.eventsListeners||s.destroyed||typeof e!="function")return s;function i(){s.off(t,i),i.__emitterProxy&&delete i.__emitterProxy;for(var r=arguments.length,o=new Array(r),l=0;l<r;l++)o[l]=arguments[l];e.apply(s,o)}return i.__emitterProxy=e,s.on(t,i,n)},onAny(t,e){const n=this;if(!n.eventsListeners||n.destroyed||typeof t!="function")return n;const s=e?"unshift":"push";return n.eventsAnyListeners.indexOf(t)<0&&n.eventsAnyListeners[s](t),n},offAny(t){const e=this;if(!e.eventsListeners||e.destroyed||!e.eventsAnyListeners)return e;const n=e.eventsAnyListeners.indexOf(t);return n>=0&&e.eventsAnyListeners.splice(n,1),e},off(t,e){const n=this;return!n.eventsListeners||n.destroyed||!n.eventsListeners||t.split(" ").forEach(s=>{typeof e>"u"?n.eventsListeners[s]=[]:n.eventsListeners[s]&&n.eventsListeners[s].forEach((i,r)=>{(i===e||i.__emitterProxy&&i.__emitterProxy===e)&&n.eventsListeners[s].splice(r,1)})}),n},emit(){const t=this;if(!t.eventsListeners||t.destroyed||!t.eventsListeners)return t;let e,n,s;for(var i=arguments.length,r=new Array(i),o=0;o<i;o++)r[o]=arguments[o];return typeof r[0]=="string"||Array.isArray(r[0])?(e=r[0],n=r.slice(1,r.length),s=t):(e=r[0].events,n=r[0].data,s=r[0].context||t),n.unshift(s),(Array.isArray(e)?e:e.split(" ")).forEach(a=>{t.eventsAnyListeners&&t.eventsAnyListeners.length&&t.eventsAnyListeners.forEach(c=>{c.apply(s,[a,...n])}),t.eventsListeners&&t.eventsListeners[a]&&t.eventsListeners[a].forEach(c=>{c.apply(s,n)})}),t}};function mP(){const t=this;let e,n;const s=t.el;typeof t.params.width<"u"&&t.params.width!==null?e=t.params.width:e=s.clientWidth,typeof t.params.height<"u"&&t.params.height!==null?n=t.params.height:n=s.clientHeight,!(e===0&&t.isHorizontal()||n===0&&t.isVertical())&&(e=e-parseInt(Dn(s,"padding-left")||0,10)-parseInt(Dn(s,"padding-right")||0,10),n=n-parseInt(Dn(s,"padding-top")||0,10)-parseInt(Dn(s,"padding-bottom")||0,10),Number.isNaN(e)&&(e=0),Number.isNaN(n)&&(n=0),Object.assign(t,{width:e,height:n,size:t.isHorizontal()?e:n}))}function vP(){const t=this;function e(P,F){return parseFloat(P.getPropertyValue(t.getDirectionLabel(F))||0)}const n=t.params,{wrapperEl:s,slidesEl:i,size:r,rtlTranslate:o,wrongRTL:l}=t,a=t.virtual&&n.virtual.enabled,c=a?t.virtual.slides.length:t.slides.length,u=Yt(i,`.${t.params.slideClass}, swiper-slide`),d=a?t.virtual.slides.length:u.length;let h=[];const f=[],p=[];let m=n.slidesOffsetBefore;typeof m=="function"&&(m=n.slidesOffsetBefore.call(t));let w=n.slidesOffsetAfter;typeof w=="function"&&(w=n.slidesOffsetAfter.call(t));const y=t.snapGrid.length,E=t.slidesGrid.length;let T=n.spaceBetween,b=-m,N=0,H=0;if(typeof r>"u")return;typeof T=="string"&&T.indexOf("%")>=0?T=parseFloat(T.replace("%",""))/100*r:typeof T=="string"&&(T=parseFloat(T)),t.virtualSize=-T,u.forEach(P=>{o?P.style.marginLeft="":P.style.marginRight="",P.style.marginBottom="",P.style.marginTop=""}),n.centeredSlides&&n.cssMode&&(Eo(s,"--swiper-centered-offset-before",""),Eo(s,"--swiper-centered-offset-after",""));const K=n.grid&&n.grid.rows>1&&t.grid;K?t.grid.initSlides(u):t.grid&&t.grid.unsetSlides();let $;const k=n.slidesPerView==="auto"&&n.breakpoints&&Object.keys(n.breakpoints).filter(P=>typeof n.breakpoints[P].slidesPerView<"u").length>0;for(let P=0;P<d;P+=1){$=0;let F;if(u[P]&&(F=u[P]),K&&t.grid.updateSlide(P,F,u),!(u[P]&&Dn(F,"display")==="none")){if(n.slidesPerView==="auto"){k&&(u[P].style[t.getDirectionLabel("width")]="");const ne=getComputedStyle(F),q=F.style.transform,ge=F.style.webkitTransform;if(q&&(F.style.transform="none"),ge&&(F.style.webkitTransform="none"),n.roundLengths)$=t.isHorizontal()?op(F,"width",!0):op(F,"height",!0);else{const Ie=e(ne,"width"),_e=e(ne,"padding-left"),ve=e(ne,"padding-right"),ue=e(ne,"margin-left"),gt=e(ne,"margin-right"),Et=ne.getPropertyValue("box-sizing");if(Et&&Et==="border-box")$=Ie+ue+gt;else{const{clientWidth:mt,offsetWidth:ze}=F;$=Ie+_e+ve+ue+gt+(ze-mt)}}q&&(F.style.transform=q),ge&&(F.style.webkitTransform=ge),n.roundLengths&&($=Math.floor($))}else $=(r-(n.slidesPerView-1)*T)/n.slidesPerView,n.roundLengths&&($=Math.floor($)),u[P]&&(u[P].style[t.getDirectionLabel("width")]=`${$}px`);u[P]&&(u[P].swiperSlideSize=$),p.push($),n.centeredSlides?(b=b+$/2+N/2+T,N===0&&P!==0&&(b=b-r/2-T),P===0&&(b=b-r/2-T),Math.abs(b)<1/1e3&&(b=0),n.roundLengths&&(b=Math.floor(b)),H%n.slidesPerGroup===0&&h.push(b),f.push(b)):(n.roundLengths&&(b=Math.floor(b)),(H-Math.min(t.params.slidesPerGroupSkip,H))%t.params.slidesPerGroup===0&&h.push(b),f.push(b),b=b+$+T),t.virtualSize+=$+T,N=$,H+=1}}if(t.virtualSize=Math.max(t.virtualSize,r)+w,o&&l&&(n.effect==="slide"||n.effect==="coverflow")&&(s.style.width=`${t.virtualSize+T}px`),n.setWrapperSize&&(s.style[t.getDirectionLabel("width")]=`${t.virtualSize+T}px`),K&&t.grid.updateWrapperSize($,h),!n.centeredSlides){const P=[];for(let F=0;F<h.length;F+=1){let ne=h[F];n.roundLengths&&(ne=Math.floor(ne)),h[F]<=t.virtualSize-r&&P.push(ne)}h=P,Math.floor(t.virtualSize-r)-Math.floor(h[h.length-1])>1&&h.push(t.virtualSize-r)}if(a&&n.loop){const P=p[0]+T;if(n.slidesPerGroup>1){const F=Math.ceil((t.virtual.slidesBefore+t.virtual.slidesAfter)/n.slidesPerGroup),ne=P*n.slidesPerGroup;for(let q=0;q<F;q+=1)h.push(h[h.length-1]+ne)}for(let F=0;F<t.virtual.slidesBefore+t.virtual.slidesAfter;F+=1)n.slidesPerGroup===1&&h.push(h[h.length-1]+P),f.push(f[f.length-1]+P),t.virtualSize+=P}if(h.length===0&&(h=[0]),T!==0){const P=t.isHorizontal()&&o?"marginLeft":t.getDirectionLabel("marginRight");u.filter((F,ne)=>!n.cssMode||n.loop?!0:ne!==u.length-1).forEach(F=>{F.style[P]=`${T}px`})}if(n.centeredSlides&&n.centeredSlidesBounds){let P=0;p.forEach(ne=>{P+=ne+(T||0)}),P-=T;const F=P-r;h=h.map(ne=>ne<=0?-m:ne>F?F+w:ne)}if(n.centerInsufficientSlides){let P=0;p.forEach(ne=>{P+=ne+(T||0)}),P-=T;const F=(n.slidesOffsetBefore||0)+(n.slidesOffsetAfter||0);if(P+F<r){const ne=(r-P-F)/2;h.forEach((q,ge)=>{h[ge]=q-ne}),f.forEach((q,ge)=>{f[ge]=q+ne})}}if(Object.assign(t,{slides:u,snapGrid:h,slidesGrid:f,slidesSizesGrid:p}),n.centeredSlides&&n.cssMode&&!n.centeredSlidesBounds){Eo(s,"--swiper-centered-offset-before",`${-h[0]}px`),Eo(s,"--swiper-centered-offset-after",`${t.size/2-p[p.length-1]/2}px`);const P=-t.snapGrid[0],F=-t.slidesGrid[0];t.snapGrid=t.snapGrid.map(ne=>ne+P),t.slidesGrid=t.slidesGrid.map(ne=>ne+F)}if(d!==c&&t.emit("slidesLengthChange"),h.length!==y&&(t.params.watchOverflow&&t.checkOverflow(),t.emit("snapGridLengthChange")),f.length!==E&&t.emit("slidesGridLengthChange"),n.watchSlidesProgress&&t.updateSlidesOffset(),t.emit("slidesUpdated"),!a&&!n.cssMode&&(n.effect==="slide"||n.effect==="fade")){const P=`${n.containerModifierClass}backface-hidden`,F=t.el.classList.contains(P);d<=n.maxBackfaceHiddenSlides?F||t.el.classList.add(P):F&&t.el.classList.remove(P)}}function yP(t){const e=this,n=[],s=e.virtual&&e.params.virtual.enabled;let i=0,r;typeof t=="number"?e.setTransition(t):t===!0&&e.setTransition(e.params.speed);const o=l=>s?e.slides[e.getSlideIndexByData(l)]:e.slides[l];if(e.params.slidesPerView!=="auto"&&e.params.slidesPerView>1)if(e.params.centeredSlides)(e.visibleSlides||[]).forEach(l=>{n.push(l)});else for(r=0;r<Math.ceil(e.params.slidesPerView);r+=1){const l=e.activeIndex+r;if(l>e.slides.length&&!s)break;n.push(o(l))}else n.push(o(e.activeIndex));for(r=0;r<n.length;r+=1)if(typeof n[r]<"u"){const l=n[r].offsetHeight;i=l>i?l:i}(i||i===0)&&(e.wrapperEl.style.height=`${i}px`)}function wP(){const t=this,e=t.slides,n=t.isElement?t.isHorizontal()?t.wrapperEl.offsetLeft:t.wrapperEl.offsetTop:0;for(let s=0;s<e.length;s+=1)e[s].swiperSlideOffset=(t.isHorizontal()?e[s].offsetLeft:e[s].offsetTop)-n-t.cssOverflowAdjustment()}const ap=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function _P(t){t===void 0&&(t=this&&this.translate||0);const e=this,n=e.params,{slides:s,rtlTranslate:i,snapGrid:r}=e;if(s.length===0)return;typeof s[0].swiperSlideOffset>"u"&&e.updateSlidesOffset();let o=-t;i&&(o=t),e.visibleSlidesIndexes=[],e.visibleSlides=[];let l=n.spaceBetween;typeof l=="string"&&l.indexOf("%")>=0?l=parseFloat(l.replace("%",""))/100*e.size:typeof l=="string"&&(l=parseFloat(l));for(let a=0;a<s.length;a+=1){const c=s[a];let u=c.swiperSlideOffset;n.cssMode&&n.centeredSlides&&(u-=s[0].swiperSlideOffset);const d=(o+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+l),h=(o-r[0]+(n.centeredSlides?e.minTranslate():0)-u)/(c.swiperSlideSize+l),f=-(o-u),p=f+e.slidesSizesGrid[a],m=f>=0&&f<=e.size-e.slidesSizesGrid[a],w=f>=0&&f<e.size-1||p>1&&p<=e.size||f<=0&&p>=e.size;w&&(e.visibleSlides.push(c),e.visibleSlidesIndexes.push(a)),ap(c,w,n.slideVisibleClass),ap(c,m,n.slideFullyVisibleClass),c.progress=i?-d:d,c.originalProgress=i?-h:h}}function EP(t){const e=this;if(typeof t>"u"){const u=e.rtlTranslate?-1:1;t=e&&e.translate&&e.translate*u||0}const n=e.params,s=e.maxTranslate()-e.minTranslate();let{progress:i,isBeginning:r,isEnd:o,progressLoop:l}=e;const a=r,c=o;if(s===0)i=0,r=!0,o=!0;else{i=(t-e.minTranslate())/s;const u=Math.abs(t-e.minTranslate())<1,d=Math.abs(t-e.maxTranslate())<1;r=u||i<=0,o=d||i>=1,u&&(i=0),d&&(i=1)}if(n.loop){const u=e.getSlideIndexByData(0),d=e.getSlideIndexByData(e.slides.length-1),h=e.slidesGrid[u],f=e.slidesGrid[d],p=e.slidesGrid[e.slidesGrid.length-1],m=Math.abs(t);m>=h?l=(m-h)/p:l=(m+p-f)/p,l>1&&(l-=1)}Object.assign(e,{progress:i,progressLoop:l,isBeginning:r,isEnd:o}),(n.watchSlidesProgress||n.centeredSlides&&n.autoHeight)&&e.updateSlidesProgress(t),r&&!a&&e.emit("reachBeginning toEdge"),o&&!c&&e.emit("reachEnd toEdge"),(a&&!r||c&&!o)&&e.emit("fromEdge"),e.emit("progress",i)}const zl=(t,e,n)=>{e&&!t.classList.contains(n)?t.classList.add(n):!e&&t.classList.contains(n)&&t.classList.remove(n)};function TP(){const t=this,{slides:e,params:n,slidesEl:s,activeIndex:i}=t,r=t.virtual&&n.virtual.enabled,o=t.grid&&n.grid&&n.grid.rows>1,l=d=>Yt(s,`.${n.slideClass}${d}, swiper-slide${d}`)[0];let a,c,u;if(r)if(n.loop){let d=i-t.virtual.slidesBefore;d<0&&(d=t.virtual.slides.length+d),d>=t.virtual.slides.length&&(d-=t.virtual.slides.length),a=l(`[data-swiper-slide-index="${d}"]`)}else a=l(`[data-swiper-slide-index="${i}"]`);else o?(a=e.filter(d=>d.column===i)[0],u=e.filter(d=>d.column===i+1)[0],c=e.filter(d=>d.column===i-1)[0]):a=e[i];a&&(o||(u=aP(a,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!u&&(u=e[0]),c=oP(a,`.${n.slideClass}, swiper-slide`)[0],n.loop&&!c===0&&(c=e[e.length-1]))),e.forEach(d=>{zl(d,d===a,n.slideActiveClass),zl(d,d===u,n.slideNextClass),zl(d,d===c,n.slidePrevClass)}),t.emitSlidesClasses()}const Lo=(t,e)=>{if(!t||t.destroyed||!t.params)return;const n=()=>t.isElement?"swiper-slide":`.${t.params.slideClass}`,s=e.closest(n());if(s){let i=s.querySelector(`.${t.params.lazyPreloaderClass}`);!i&&t.isElement&&(s.shadowRoot?i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`):requestAnimationFrame(()=>{s.shadowRoot&&(i=s.shadowRoot.querySelector(`.${t.params.lazyPreloaderClass}`),i&&i.remove())})),i&&i.remove()}},jl=(t,e)=>{if(!t.slides[e])return;const n=t.slides[e].querySelector('[loading="lazy"]');n&&n.removeAttribute("loading")},Hc=t=>{if(!t||t.destroyed||!t.params)return;let e=t.params.lazyPreloadPrevNext;const n=t.slides.length;if(!n||!e||e<0)return;e=Math.min(e,n);const s=t.params.slidesPerView==="auto"?t.slidesPerViewDynamic():Math.ceil(t.params.slidesPerView),i=t.activeIndex;if(t.params.grid&&t.params.grid.rows>1){const o=i,l=[o-e];l.push(...Array.from({length:e}).map((a,c)=>o+s+c)),t.slides.forEach((a,c)=>{l.includes(a.column)&&jl(t,c)});return}const r=i+s-1;if(t.params.rewind||t.params.loop)for(let o=i-e;o<=r+e;o+=1){const l=(o%n+n)%n;(l<i||l>r)&&jl(t,l)}else for(let o=Math.max(i-e,0);o<=Math.min(r+e,n-1);o+=1)o!==i&&(o>r||o<i)&&jl(t,o)};function SP(t){const{slidesGrid:e,params:n}=t,s=t.rtlTranslate?t.translate:-t.translate;let i;for(let r=0;r<e.length;r+=1)typeof e[r+1]<"u"?s>=e[r]&&s<e[r+1]-(e[r+1]-e[r])/2?i=r:s>=e[r]&&s<e[r+1]&&(i=r+1):s>=e[r]&&(i=r);return n.normalizeSlideIndex&&(i<0||typeof i>"u")&&(i=0),i}function bP(t){const e=this,n=e.rtlTranslate?e.translate:-e.translate,{snapGrid:s,params:i,activeIndex:r,realIndex:o,snapIndex:l}=e;let a=t,c;const u=f=>{let p=f-e.virtual.slidesBefore;return p<0&&(p=e.virtual.slides.length+p),p>=e.virtual.slides.length&&(p-=e.virtual.slides.length),p};if(typeof a>"u"&&(a=SP(e)),s.indexOf(n)>=0)c=s.indexOf(n);else{const f=Math.min(i.slidesPerGroupSkip,a);c=f+Math.floor((a-f)/i.slidesPerGroup)}if(c>=s.length&&(c=s.length-1),a===r&&!e.params.loop){c!==l&&(e.snapIndex=c,e.emit("snapIndexChange"));return}if(a===r&&e.params.loop&&e.virtual&&e.params.virtual.enabled){e.realIndex=u(a);return}const d=e.grid&&i.grid&&i.grid.rows>1;let h;if(e.virtual&&i.virtual.enabled&&i.loop)h=u(a);else if(d){const f=e.slides.filter(m=>m.column===a)[0];let p=parseInt(f.getAttribute("data-swiper-slide-index"),10);Number.isNaN(p)&&(p=Math.max(e.slides.indexOf(f),0)),h=Math.floor(p/i.grid.rows)}else if(e.slides[a]){const f=e.slides[a].getAttribute("data-swiper-slide-index");f?h=parseInt(f,10):h=a}else h=a;Object.assign(e,{previousSnapIndex:l,snapIndex:c,previousRealIndex:o,realIndex:h,previousIndex:r,activeIndex:a}),e.initialized&&Hc(e),e.emit("activeIndexChange"),e.emit("snapIndexChange"),(e.initialized||e.params.runCallbacksOnInit)&&(o!==h&&e.emit("realIndexChange"),e.emit("slideChange"))}function IP(t,e){const n=this,s=n.params;let i=t.closest(`.${s.slideClass}, swiper-slide`);!i&&n.isElement&&e&&e.length>1&&e.includes(t)&&[...e.slice(e.indexOf(t)+1,e.length)].forEach(l=>{!i&&l.matches&&l.matches(`.${s.slideClass}, swiper-slide`)&&(i=l)});let r=!1,o;if(i){for(let l=0;l<n.slides.length;l+=1)if(n.slides[l]===i){r=!0,o=l;break}}if(i&&r)n.clickedSlide=i,n.virtual&&n.params.virtual.enabled?n.clickedIndex=parseInt(i.getAttribute("data-swiper-slide-index"),10):n.clickedIndex=o;else{n.clickedSlide=void 0,n.clickedIndex=void 0;return}s.slideToClickedSlide&&n.clickedIndex!==void 0&&n.clickedIndex!==n.activeIndex&&n.slideToClickedSlide()}var CP={updateSize:mP,updateSlides:vP,updateAutoHeight:yP,updateSlidesOffset:wP,updateSlidesProgress:_P,updateProgress:EP,updateSlidesClasses:TP,updateActiveIndex:bP,updateClickedSlide:IP};function AP(t){t===void 0&&(t=this.isHorizontal()?"x":"y");const e=this,{params:n,rtlTranslate:s,translate:i,wrapperEl:r}=e;if(n.virtualTranslate)return s?-i:i;if(n.cssMode)return i;let o=iP(r,t);return o+=e.cssOverflowAdjustment(),s&&(o=-o),o||0}function xP(t,e){const n=this,{rtlTranslate:s,params:i,wrapperEl:r,progress:o}=n;let l=0,a=0;const c=0;n.isHorizontal()?l=s?-t:t:a=t,i.roundLengths&&(l=Math.floor(l),a=Math.floor(a)),n.previousTranslate=n.translate,n.translate=n.isHorizontal()?l:a,i.cssMode?r[n.isHorizontal()?"scrollLeft":"scrollTop"]=n.isHorizontal()?-l:-a:i.virtualTranslate||(n.isHorizontal()?l-=n.cssOverflowAdjustment():a-=n.cssOverflowAdjustment(),r.style.transform=`translate3d(${l}px, ${a}px, ${c}px)`);let u;const d=n.maxTranslate()-n.minTranslate();d===0?u=0:u=(t-n.minTranslate())/d,u!==o&&n.updateProgress(t),n.emit("setTranslate",n.translate,e)}function PP(){return-this.snapGrid[0]}function kP(){return-this.snapGrid[this.snapGrid.length-1]}function RP(t,e,n,s,i){t===void 0&&(t=0),e===void 0&&(e=this.params.speed),n===void 0&&(n=!0),s===void 0&&(s=!0);const r=this,{params:o,wrapperEl:l}=r;if(r.animating&&o.preventInteractionOnTransition)return!1;const a=r.minTranslate(),c=r.maxTranslate();let u;if(s&&t>a?u=a:s&&t<c?u=c:u=t,r.updateProgress(u),o.cssMode){const d=r.isHorizontal();if(e===0)l[d?"scrollLeft":"scrollTop"]=-u;else{if(!r.support.smoothScroll)return Ly({swiper:r,targetPosition:-u,side:d?"left":"top"}),!0;l.scrollTo({[d?"left":"top"]:-u,behavior:"smooth"})}return!0}return e===0?(r.setTransition(0),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionEnd"))):(r.setTransition(e),r.setTranslate(u),n&&(r.emit("beforeTransitionStart",e,i),r.emit("transitionStart")),r.animating||(r.animating=!0,r.onTranslateToWrapperTransitionEnd||(r.onTranslateToWrapperTransitionEnd=function(h){!r||r.destroyed||h.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onTranslateToWrapperTransitionEnd),r.onTranslateToWrapperTransitionEnd=null,delete r.onTranslateToWrapperTransitionEnd,r.animating=!1,n&&r.emit("transitionEnd"))}),r.wrapperEl.addEventListener("transitionend",r.onTranslateToWrapperTransitionEnd))),!0}var OP={getTranslate:AP,setTranslate:xP,minTranslate:PP,maxTranslate:kP,translateTo:RP};function MP(t,e){const n=this;n.params.cssMode||(n.wrapperEl.style.transitionDuration=`${t}ms`,n.wrapperEl.style.transitionDelay=t===0?"0ms":""),n.emit("setTransition",t,e)}function Vy(t){let{swiper:e,runCallbacks:n,direction:s,step:i}=t;const{activeIndex:r,previousIndex:o}=e;let l=s;if(l||(r>o?l="next":r<o?l="prev":l="reset"),e.emit(`transition${i}`),n&&r!==o){if(l==="reset"){e.emit(`slideResetTransition${i}`);return}e.emit(`slideChangeTransition${i}`),l==="next"?e.emit(`slideNextTransition${i}`):e.emit(`slidePrevTransition${i}`)}}function NP(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;s.cssMode||(s.autoHeight&&n.updateAutoHeight(),Vy({swiper:n,runCallbacks:t,direction:e,step:"Start"}))}function DP(t,e){t===void 0&&(t=!0);const n=this,{params:s}=n;n.animating=!1,!s.cssMode&&(n.setTransition(0),Vy({swiper:n,runCallbacks:t,direction:e,step:"End"}))}var LP={setTransition:MP,transitionStart:NP,transitionEnd:DP};function FP(t,e,n,s,i){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const r=this;let o=t;o<0&&(o=0);const{params:l,snapGrid:a,slidesGrid:c,previousIndex:u,activeIndex:d,rtlTranslate:h,wrapperEl:f,enabled:p}=r;if(!p&&!s&&!i||r.destroyed||r.animating&&l.preventInteractionOnTransition)return!1;typeof e>"u"&&(e=r.params.speed);const m=Math.min(r.params.slidesPerGroupSkip,o);let w=m+Math.floor((o-m)/r.params.slidesPerGroup);w>=a.length&&(w=a.length-1);const y=-a[w];if(l.normalizeSlideIndex)for(let T=0;T<c.length;T+=1){const b=-Math.floor(y*100),N=Math.floor(c[T]*100),H=Math.floor(c[T+1]*100);typeof c[T+1]<"u"?b>=N&&b<H-(H-N)/2?o=T:b>=N&&b<H&&(o=T+1):b>=N&&(o=T)}if(r.initialized&&o!==d&&(!r.allowSlideNext&&(h?y>r.translate&&y>r.minTranslate():y<r.translate&&y<r.minTranslate())||!r.allowSlidePrev&&y>r.translate&&y>r.maxTranslate()&&(d||0)!==o))return!1;o!==(u||0)&&n&&r.emit("beforeSlideChangeStart"),r.updateProgress(y);let E;if(o>d?E="next":o<d?E="prev":E="reset",h&&-y===r.translate||!h&&y===r.translate)return r.updateActiveIndex(o),l.autoHeight&&r.updateAutoHeight(),r.updateSlidesClasses(),l.effect!=="slide"&&r.setTranslate(y),E!=="reset"&&(r.transitionStart(n,E),r.transitionEnd(n,E)),!1;if(l.cssMode){const T=r.isHorizontal(),b=h?y:-y;if(e===0){const N=r.virtual&&r.params.virtual.enabled;N&&(r.wrapperEl.style.scrollSnapType="none",r._immediateVirtual=!0),N&&!r._cssModeVirtualInitialSet&&r.params.initialSlide>0?(r._cssModeVirtualInitialSet=!0,requestAnimationFrame(()=>{f[T?"scrollLeft":"scrollTop"]=b})):f[T?"scrollLeft":"scrollTop"]=b,N&&requestAnimationFrame(()=>{r.wrapperEl.style.scrollSnapType="",r._immediateVirtual=!1})}else{if(!r.support.smoothScroll)return Ly({swiper:r,targetPosition:b,side:T?"left":"top"}),!0;f.scrollTo({[T?"left":"top"]:b,behavior:"smooth"})}return!0}return r.setTransition(e),r.setTranslate(y),r.updateActiveIndex(o),r.updateSlidesClasses(),r.emit("beforeTransitionStart",e,s),r.transitionStart(n,E),e===0?r.transitionEnd(n,E):r.animating||(r.animating=!0,r.onSlideToWrapperTransitionEnd||(r.onSlideToWrapperTransitionEnd=function(b){!r||r.destroyed||b.target===this&&(r.wrapperEl.removeEventListener("transitionend",r.onSlideToWrapperTransitionEnd),r.onSlideToWrapperTransitionEnd=null,delete r.onSlideToWrapperTransitionEnd,r.transitionEnd(n,E))}),r.wrapperEl.addEventListener("transitionend",r.onSlideToWrapperTransitionEnd)),!0}function $P(t,e,n,s){t===void 0&&(t=0),n===void 0&&(n=!0),typeof t=="string"&&(t=parseInt(t,10));const i=this;if(i.destroyed)return;typeof e>"u"&&(e=i.params.speed);const r=i.grid&&i.params.grid&&i.params.grid.rows>1;let o=t;if(i.params.loop)if(i.virtual&&i.params.virtual.enabled)o=o+i.virtual.slidesBefore;else{let l;if(r){const h=o*i.params.grid.rows;l=i.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===h)[0].column}else l=i.getSlideIndexByData(o);const a=r?Math.ceil(i.slides.length/i.params.grid.rows):i.slides.length,{centeredSlides:c}=i.params;let u=i.params.slidesPerView;u==="auto"?u=i.slidesPerViewDynamic():(u=Math.ceil(parseFloat(i.params.slidesPerView,10)),c&&u%2===0&&(u=u+1));let d=a-l<u;if(c&&(d=d||l<Math.ceil(u/2)),s&&c&&i.params.slidesPerView!=="auto"&&!r&&(d=!1),d){const h=c?l<i.activeIndex?"prev":"next":l-i.activeIndex-1<i.params.slidesPerView?"next":"prev";i.loopFix({direction:h,slideTo:!0,activeSlideIndex:h==="next"?l+1:l-a+1,slideRealIndex:h==="next"?i.realIndex:void 0})}if(r){const h=o*i.params.grid.rows;o=i.slides.filter(f=>f.getAttribute("data-swiper-slide-index")*1===h)[0].column}else o=i.getSlideIndexByData(o)}return requestAnimationFrame(()=>{i.slideTo(o,e,n,s)}),i}function VP(t,e,n){e===void 0&&(e=!0);const s=this,{enabled:i,params:r,animating:o}=s;if(!i||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);let l=r.slidesPerGroup;r.slidesPerView==="auto"&&r.slidesPerGroup===1&&r.slidesPerGroupAuto&&(l=Math.max(s.slidesPerViewDynamic("current",!0),1));const a=s.activeIndex<r.slidesPerGroupSkip?1:l,c=s.virtual&&r.virtual.enabled;if(r.loop){if(o&&!c&&r.loopPreventsSliding)return!1;if(s.loopFix({direction:"next"}),s._clientLeft=s.wrapperEl.clientLeft,s.activeIndex===s.slides.length-1&&r.cssMode)return requestAnimationFrame(()=>{s.slideTo(s.activeIndex+a,t,e,n)}),!0}return r.rewind&&s.isEnd?s.slideTo(0,t,e,n):s.slideTo(s.activeIndex+a,t,e,n)}function UP(t,e,n){e===void 0&&(e=!0);const s=this,{params:i,snapGrid:r,slidesGrid:o,rtlTranslate:l,enabled:a,animating:c}=s;if(!a||s.destroyed)return s;typeof t>"u"&&(t=s.params.speed);const u=s.virtual&&i.virtual.enabled;if(i.loop){if(c&&!u&&i.loopPreventsSliding)return!1;s.loopFix({direction:"prev"}),s._clientLeft=s.wrapperEl.clientLeft}const d=l?s.translate:-s.translate;function h(y){return y<0?-Math.floor(Math.abs(y)):Math.floor(y)}const f=h(d),p=r.map(y=>h(y));let m=r[p.indexOf(f)-1];if(typeof m>"u"&&i.cssMode){let y;r.forEach((E,T)=>{f>=E&&(y=T)}),typeof y<"u"&&(m=r[y>0?y-1:y])}let w=0;if(typeof m<"u"&&(w=o.indexOf(m),w<0&&(w=s.activeIndex-1),i.slidesPerView==="auto"&&i.slidesPerGroup===1&&i.slidesPerGroupAuto&&(w=w-s.slidesPerViewDynamic("previous",!0)+1,w=Math.max(w,0))),i.rewind&&s.isBeginning){const y=s.params.virtual&&s.params.virtual.enabled&&s.virtual?s.virtual.slides.length-1:s.slides.length-1;return s.slideTo(y,t,e,n)}else if(i.loop&&s.activeIndex===0&&i.cssMode)return requestAnimationFrame(()=>{s.slideTo(w,t,e,n)}),!0;return s.slideTo(w,t,e,n)}function BP(t,e,n){e===void 0&&(e=!0);const s=this;if(!s.destroyed)return typeof t>"u"&&(t=s.params.speed),s.slideTo(s.activeIndex,t,e,n)}function zP(t,e,n,s){e===void 0&&(e=!0),s===void 0&&(s=.5);const i=this;if(i.destroyed)return;typeof t>"u"&&(t=i.params.speed);let r=i.activeIndex;const o=Math.min(i.params.slidesPerGroupSkip,r),l=o+Math.floor((r-o)/i.params.slidesPerGroup),a=i.rtlTranslate?i.translate:-i.translate;if(a>=i.snapGrid[l]){const c=i.snapGrid[l],u=i.snapGrid[l+1];a-c>(u-c)*s&&(r+=i.params.slidesPerGroup)}else{const c=i.snapGrid[l-1],u=i.snapGrid[l];a-c<=(u-c)*s&&(r-=i.params.slidesPerGroup)}return r=Math.max(r,0),r=Math.min(r,i.slidesGrid.length-1),i.slideTo(r,t,e,n)}function jP(){const t=this;if(t.destroyed)return;const{params:e,slidesEl:n}=t,s=e.slidesPerView==="auto"?t.slidesPerViewDynamic():e.slidesPerView;let i=t.clickedIndex,r;const o=t.isElement?"swiper-slide":`.${e.slideClass}`;if(e.loop){if(t.animating)return;r=parseInt(t.clickedSlide.getAttribute("data-swiper-slide-index"),10),e.centeredSlides?i<t.loopedSlides-s/2||i>t.slides.length-t.loopedSlides+s/2?(t.loopFix(),i=t.getSlideIndex(Yt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),jc(()=>{t.slideTo(i)})):t.slideTo(i):i>t.slides.length-s?(t.loopFix(),i=t.getSlideIndex(Yt(n,`${o}[data-swiper-slide-index="${r}"]`)[0]),jc(()=>{t.slideTo(i)})):t.slideTo(i)}else t.slideTo(i)}var HP={slideTo:FP,slideToLoop:$P,slideNext:VP,slidePrev:UP,slideReset:BP,slideToClosest:zP,slideToClickedSlide:jP};function qP(t){const e=this,{params:n,slidesEl:s}=e;if(!n.loop||e.virtual&&e.params.virtual.enabled)return;const i=()=>{Yt(s,`.${n.slideClass}, swiper-slide`).forEach((d,h)=>{d.setAttribute("data-swiper-slide-index",h)})},r=e.grid&&n.grid&&n.grid.rows>1,o=n.slidesPerGroup*(r?n.grid.rows:1),l=e.slides.length%o!==0,a=r&&e.slides.length%n.grid.rows!==0,c=u=>{for(let d=0;d<u;d+=1){const h=e.isElement?pa("swiper-slide",[n.slideBlankClass]):pa("div",[n.slideClass,n.slideBlankClass]);e.slidesEl.append(h)}};if(l){if(n.loopAddBlankSlides){const u=o-e.slides.length%o;c(u),e.recalcSlides(),e.updateSlides()}else fa("Swiper Loop Warning: The number of slides is not even to slidesPerGroup, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else if(a){if(n.loopAddBlankSlides){const u=n.grid.rows-e.slides.length%n.grid.rows;c(u),e.recalcSlides(),e.updateSlides()}else fa("Swiper Loop Warning: The number of slides is not even to grid.rows, loop mode may not function properly. You need to add more slides (or make duplicates, or empty slides)");i()}else i();e.loopFix({slideRealIndex:t,direction:n.centeredSlides?void 0:"next"})}function GP(t){let{slideRealIndex:e,slideTo:n=!0,direction:s,setTranslate:i,activeSlideIndex:r,byController:o,byMousewheel:l}=t===void 0?{}:t;const a=this;if(!a.params.loop)return;a.emit("beforeLoopFix");const{slides:c,allowSlidePrev:u,allowSlideNext:d,slidesEl:h,params:f}=a,{centeredSlides:p}=f;if(a.allowSlidePrev=!0,a.allowSlideNext=!0,a.virtual&&f.virtual.enabled){n&&(!f.centeredSlides&&a.snapIndex===0?a.slideTo(a.virtual.slides.length,0,!1,!0):f.centeredSlides&&a.snapIndex<f.slidesPerView?a.slideTo(a.virtual.slides.length+a.snapIndex,0,!1,!0):a.snapIndex===a.snapGrid.length-1&&a.slideTo(a.virtual.slidesBefore,0,!1,!0)),a.allowSlidePrev=u,a.allowSlideNext=d,a.emit("loopFix");return}let m=f.slidesPerView;m==="auto"?m=a.slidesPerViewDynamic():(m=Math.ceil(parseFloat(f.slidesPerView,10)),p&&m%2===0&&(m=m+1));const w=f.slidesPerGroupAuto?m:f.slidesPerGroup;let y=w;y%w!==0&&(y+=w-y%w),y+=f.loopAdditionalSlides,a.loopedSlides=y;const E=a.grid&&f.grid&&f.grid.rows>1;c.length<m+y?fa("Swiper Loop Warning: The number of slides is not enough for loop mode, it will be disabled and not function properly. You need to add more slides (or make duplicates) or lower the values of slidesPerView and slidesPerGroup parameters"):E&&f.grid.fill==="row"&&fa("Swiper Loop Warning: Loop mode is not compatible with grid.fill = `row`");const T=[],b=[];let N=a.activeIndex;typeof r>"u"?r=a.getSlideIndex(c.filter(q=>q.classList.contains(f.slideActiveClass))[0]):N=r;const H=s==="next"||!s,K=s==="prev"||!s;let $=0,k=0;const P=E?Math.ceil(c.length/f.grid.rows):c.length,ne=(E?c[r].column:r)+(p&&typeof i>"u"?-m/2+.5:0);if(ne<y){$=Math.max(y-ne,w);for(let q=0;q<y-ne;q+=1){const ge=q-Math.floor(q/P)*P;if(E){const Ie=P-ge-1;for(let _e=c.length-1;_e>=0;_e-=1)c[_e].column===Ie&&T.push(_e)}else T.push(P-ge-1)}}else if(ne+m>P-y){k=Math.max(ne-(P-y*2),w);for(let q=0;q<k;q+=1){const ge=q-Math.floor(q/P)*P;E?c.forEach((Ie,_e)=>{Ie.column===ge&&b.push(_e)}):b.push(ge)}}if(a.__preventObserver__=!0,requestAnimationFrame(()=>{a.__preventObserver__=!1}),K&&T.forEach(q=>{c[q].swiperLoopMoveDOM=!0,h.prepend(c[q]),c[q].swiperLoopMoveDOM=!1}),H&&b.forEach(q=>{c[q].swiperLoopMoveDOM=!0,h.append(c[q]),c[q].swiperLoopMoveDOM=!1}),a.recalcSlides(),f.slidesPerView==="auto"?a.updateSlides():E&&(T.length>0&&K||b.length>0&&H)&&a.slides.forEach((q,ge)=>{a.grid.updateSlide(ge,q,a.slides)}),f.watchSlidesProgress&&a.updateSlidesOffset(),n){if(T.length>0&&K){if(typeof e>"u"){const q=a.slidesGrid[N],Ie=a.slidesGrid[N+$]-q;l?a.setTranslate(a.translate-Ie):(a.slideTo(N+Math.ceil($),0,!1,!0),i&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-Ie,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-Ie))}else if(i){const q=E?T.length/f.grid.rows:T.length;a.slideTo(a.activeIndex+q,0,!1,!0),a.touchEventsData.currentTranslate=a.translate}}else if(b.length>0&&H)if(typeof e>"u"){const q=a.slidesGrid[N],Ie=a.slidesGrid[N-k]-q;l?a.setTranslate(a.translate-Ie):(a.slideTo(N-k,0,!1,!0),i&&(a.touchEventsData.startTranslate=a.touchEventsData.startTranslate-Ie,a.touchEventsData.currentTranslate=a.touchEventsData.currentTranslate-Ie))}else{const q=E?b.length/f.grid.rows:b.length;a.slideTo(a.activeIndex-q,0,!1,!0)}}if(a.allowSlidePrev=u,a.allowSlideNext=d,a.controller&&a.controller.control&&!o){const q={slideRealIndex:e,direction:s,setTranslate:i,activeSlideIndex:r,byController:!0};Array.isArray(a.controller.control)?a.controller.control.forEach(ge=>{!ge.destroyed&&ge.params.loop&&ge.loopFix({...q,slideTo:ge.params.slidesPerView===f.slidesPerView?n:!1})}):a.controller.control instanceof a.constructor&&a.controller.control.params.loop&&a.controller.control.loopFix({...q,slideTo:a.controller.control.params.slidesPerView===f.slidesPerView?n:!1})}a.emit("loopFix")}function KP(){const t=this,{params:e,slidesEl:n}=t;if(!e.loop||t.virtual&&t.params.virtual.enabled)return;t.recalcSlides();const s=[];t.slides.forEach(i=>{const r=typeof i.swiperSlideIndex>"u"?i.getAttribute("data-swiper-slide-index")*1:i.swiperSlideIndex;s[r]=i}),t.slides.forEach(i=>{i.removeAttribute("data-swiper-slide-index")}),s.forEach(i=>{n.append(i)}),t.recalcSlides(),t.slideTo(t.realIndex,0)}var WP={loopCreate:qP,loopFix:GP,loopDestroy:KP};function YP(t){const e=this;if(!e.params.simulateTouch||e.params.watchOverflow&&e.isLocked||e.params.cssMode)return;const n=e.params.touchEventsTarget==="container"?e.el:e.wrapperEl;e.isElement&&(e.__preventObserver__=!0),n.style.cursor="move",n.style.cursor=t?"grabbing":"grab",e.isElement&&requestAnimationFrame(()=>{e.__preventObserver__=!1})}function QP(){const t=this;t.params.watchOverflow&&t.isLocked||t.params.cssMode||(t.isElement&&(t.__preventObserver__=!0),t[t.params.touchEventsTarget==="container"?"el":"wrapperEl"].style.cursor="",t.isElement&&requestAnimationFrame(()=>{t.__preventObserver__=!1}))}var XP={setGrabCursor:YP,unsetGrabCursor:QP};function JP(t,e){e===void 0&&(e=this);function n(s){if(!s||s===Ni()||s===Ct())return null;s.assignedSlot&&(s=s.assignedSlot);const i=s.closest(t);return!i&&!s.getRootNode?null:i||n(s.getRootNode().host)}return n(e)}function lp(t,e,n){const s=Ct(),{params:i}=t,r=i.edgeSwipeDetection,o=i.edgeSwipeThreshold;return r&&(n<=o||n>=s.innerWidth-o)?r==="prevent"?(e.preventDefault(),!0):!1:!0}function ZP(t){const e=this,n=Ni();let s=t;s.originalEvent&&(s=s.originalEvent);const i=e.touchEventsData;if(s.type==="pointerdown"){if(i.pointerId!==null&&i.pointerId!==s.pointerId)return;i.pointerId=s.pointerId}else s.type==="touchstart"&&s.targetTouches.length===1&&(i.touchId=s.targetTouches[0].identifier);if(s.type==="touchstart"){lp(e,s,s.targetTouches[0].pageX);return}const{params:r,touches:o,enabled:l}=e;if(!l||!r.simulateTouch&&s.pointerType==="mouse"||e.animating&&r.preventInteractionOnTransition)return;!e.animating&&r.cssMode&&r.loop&&e.loopFix();let a=s.target;if(r.touchEventsTarget==="wrapper"&&!e.wrapperEl.contains(a)||"which"in s&&s.which===3||"button"in s&&s.button>0||i.isTouched&&i.isMoved)return;const c=!!r.noSwipingClass&&r.noSwipingClass!=="",u=s.composedPath?s.composedPath():s.path;c&&s.target&&s.target.shadowRoot&&u&&(a=u[0]);const d=r.noSwipingSelector?r.noSwipingSelector:`.${r.noSwipingClass}`,h=!!(s.target&&s.target.shadowRoot);if(r.noSwiping&&(h?JP(d,a):a.closest(d))){e.allowClick=!0;return}if(r.swipeHandler&&!a.closest(r.swipeHandler))return;o.currentX=s.pageX,o.currentY=s.pageY;const f=o.currentX,p=o.currentY;if(!lp(e,s,f))return;Object.assign(i,{isTouched:!0,isMoved:!1,allowTouchCallbacks:!0,isScrolling:void 0,startMoving:void 0}),o.startX=f,o.startY=p,i.touchStartTime=ha(),e.allowClick=!0,e.updateSize(),e.swipeDirection=void 0,r.threshold>0&&(i.allowThresholdMove=!1);let m=!0;a.matches(i.focusableElements)&&(m=!1,a.nodeName==="SELECT"&&(i.isTouched=!1)),n.activeElement&&n.activeElement.matches(i.focusableElements)&&n.activeElement!==a&&n.activeElement.blur();const w=m&&e.allowTouchMove&&r.touchStartPreventDefault;(r.touchStartForcePreventDefault||w)&&!a.isContentEditable&&s.preventDefault(),r.freeMode&&r.freeMode.enabled&&e.freeMode&&e.animating&&!r.cssMode&&e.freeMode.onTouchStart(),e.emit("touchStart",s)}function ek(t){const e=Ni(),n=this,s=n.touchEventsData,{params:i,touches:r,rtlTranslate:o,enabled:l}=n;if(!l||!i.simulateTouch&&t.pointerType==="mouse")return;let a=t;if(a.originalEvent&&(a=a.originalEvent),a.type==="pointermove"&&(s.touchId!==null||a.pointerId!==s.pointerId))return;let c;if(a.type==="touchmove"){if(c=[...a.changedTouches].filter(H=>H.identifier===s.touchId)[0],!c||c.identifier!==s.touchId)return}else c=a;if(!s.isTouched){s.startMoving&&s.isScrolling&&n.emit("touchMoveOpposite",a);return}const u=c.pageX,d=c.pageY;if(a.preventedByNestedSwiper){r.startX=u,r.startY=d;return}if(!n.allowTouchMove){a.target.matches(s.focusableElements)||(n.allowClick=!1),s.isTouched&&(Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d}),s.touchStartTime=ha());return}if(i.touchReleaseOnEdges&&!i.loop){if(n.isVertical()){if(d<r.startY&&n.translate<=n.maxTranslate()||d>r.startY&&n.translate>=n.minTranslate()){s.isTouched=!1,s.isMoved=!1;return}}else if(u<r.startX&&n.translate<=n.maxTranslate()||u>r.startX&&n.translate>=n.minTranslate())return}if(e.activeElement&&a.target===e.activeElement&&a.target.matches(s.focusableElements)){s.isMoved=!0,n.allowClick=!1;return}s.allowTouchCallbacks&&n.emit("touchMove",a),r.previousX=r.currentX,r.previousY=r.currentY,r.currentX=u,r.currentY=d;const h=r.currentX-r.startX,f=r.currentY-r.startY;if(n.params.threshold&&Math.sqrt(h**2+f**2)<n.params.threshold)return;if(typeof s.isScrolling>"u"){let H;n.isHorizontal()&&r.currentY===r.startY||n.isVertical()&&r.currentX===r.startX?s.isScrolling=!1:h*h+f*f>=25&&(H=Math.atan2(Math.abs(f),Math.abs(h))*180/Math.PI,s.isScrolling=n.isHorizontal()?H>i.touchAngle:90-H>i.touchAngle)}if(s.isScrolling&&n.emit("touchMoveOpposite",a),typeof s.startMoving>"u"&&(r.currentX!==r.startX||r.currentY!==r.startY)&&(s.startMoving=!0),s.isScrolling||a.type==="touchmove"&&s.preventTouchMoveFromPointerMove){s.isTouched=!1;return}if(!s.startMoving)return;n.allowClick=!1,!i.cssMode&&a.cancelable&&a.preventDefault(),i.touchMoveStopPropagation&&!i.nested&&a.stopPropagation();let p=n.isHorizontal()?h:f,m=n.isHorizontal()?r.currentX-r.previousX:r.currentY-r.previousY;i.oneWayMovement&&(p=Math.abs(p)*(o?1:-1),m=Math.abs(m)*(o?1:-1)),r.diff=p,p*=i.touchRatio,o&&(p=-p,m=-m);const w=n.touchesDirection;n.swipeDirection=p>0?"prev":"next",n.touchesDirection=m>0?"prev":"next";const y=n.params.loop&&!i.cssMode,E=n.touchesDirection==="next"&&n.allowSlideNext||n.touchesDirection==="prev"&&n.allowSlidePrev;if(!s.isMoved){if(y&&E&&n.loopFix({direction:n.swipeDirection}),s.startTranslate=n.getTranslate(),n.setTransition(0),n.animating){const H=new window.CustomEvent("transitionend",{bubbles:!0,cancelable:!0,detail:{bySwiperTouchMove:!0}});n.wrapperEl.dispatchEvent(H)}s.allowMomentumBounce=!1,i.grabCursor&&(n.allowSlideNext===!0||n.allowSlidePrev===!0)&&n.setGrabCursor(!0),n.emit("sliderFirstMove",a)}let T;if(new Date().getTime(),s.isMoved&&s.allowThresholdMove&&w!==n.touchesDirection&&y&&E&&Math.abs(p)>=1){Object.assign(r,{startX:u,startY:d,currentX:u,currentY:d,startTranslate:s.currentTranslate}),s.loopSwapReset=!0,s.startTranslate=s.currentTranslate;return}n.emit("sliderMove",a),s.isMoved=!0,s.currentTranslate=p+s.startTranslate;let b=!0,N=i.resistanceRatio;if(i.touchReleaseOnEdges&&(N=0),p>0?(y&&E&&!T&&s.allowThresholdMove&&s.currentTranslate>(i.centeredSlides?n.minTranslate()-n.slidesSizesGrid[n.activeIndex+1]:n.minTranslate())&&n.loopFix({direction:"prev",setTranslate:!0,activeSlideIndex:0}),s.currentTranslate>n.minTranslate()&&(b=!1,i.resistance&&(s.currentTranslate=n.minTranslate()-1+(-n.minTranslate()+s.startTranslate+p)**N))):p<0&&(y&&E&&!T&&s.allowThresholdMove&&s.currentTranslate<(i.centeredSlides?n.maxTranslate()+n.slidesSizesGrid[n.slidesSizesGrid.length-1]:n.maxTranslate())&&n.loopFix({direction:"next",setTranslate:!0,activeSlideIndex:n.slides.length-(i.slidesPerView==="auto"?n.slidesPerViewDynamic():Math.ceil(parseFloat(i.slidesPerView,10)))}),s.currentTranslate<n.maxTranslate()&&(b=!1,i.resistance&&(s.currentTranslate=n.maxTranslate()+1-(n.maxTranslate()-s.startTranslate-p)**N))),b&&(a.preventedByNestedSwiper=!0),!n.allowSlideNext&&n.swipeDirection==="next"&&s.currentTranslate<s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&n.swipeDirection==="prev"&&s.currentTranslate>s.startTranslate&&(s.currentTranslate=s.startTranslate),!n.allowSlidePrev&&!n.allowSlideNext&&(s.currentTranslate=s.startTranslate),i.threshold>0)if(Math.abs(p)>i.threshold||s.allowThresholdMove){if(!s.allowThresholdMove){s.allowThresholdMove=!0,r.startX=r.currentX,r.startY=r.currentY,s.currentTranslate=s.startTranslate,r.diff=n.isHorizontal()?r.currentX-r.startX:r.currentY-r.startY;return}}else{s.currentTranslate=s.startTranslate;return}!i.followFinger||i.cssMode||((i.freeMode&&i.freeMode.enabled&&n.freeMode||i.watchSlidesProgress)&&(n.updateActiveIndex(),n.updateSlidesClasses()),i.freeMode&&i.freeMode.enabled&&n.freeMode&&n.freeMode.onTouchMove(),n.updateProgress(s.currentTranslate),n.setTranslate(s.currentTranslate))}function tk(t){const e=this,n=e.touchEventsData;let s=t;s.originalEvent&&(s=s.originalEvent);let i;if(s.type==="touchend"||s.type==="touchcancel"){if(i=[...s.changedTouches].filter(N=>N.identifier===n.touchId)[0],!i||i.identifier!==n.touchId)return}else{if(n.touchId!==null||s.pointerId!==n.pointerId)return;i=s}if(["pointercancel","pointerout","pointerleave","contextmenu"].includes(s.type)&&!(["pointercancel","contextmenu"].includes(s.type)&&(e.browser.isSafari||e.browser.isWebView)))return;n.pointerId=null,n.touchId=null;const{params:o,touches:l,rtlTranslate:a,slidesGrid:c,enabled:u}=e;if(!u||!o.simulateTouch&&s.pointerType==="mouse")return;if(n.allowTouchCallbacks&&e.emit("touchEnd",s),n.allowTouchCallbacks=!1,!n.isTouched){n.isMoved&&o.grabCursor&&e.setGrabCursor(!1),n.isMoved=!1,n.startMoving=!1;return}o.grabCursor&&n.isMoved&&n.isTouched&&(e.allowSlideNext===!0||e.allowSlidePrev===!0)&&e.setGrabCursor(!1);const d=ha(),h=d-n.touchStartTime;if(e.allowClick){const N=s.path||s.composedPath&&s.composedPath();e.updateClickedSlide(N&&N[0]||s.target,N),e.emit("tap click",s),h<300&&d-n.lastClickTime<300&&e.emit("doubleTap doubleClick",s)}if(n.lastClickTime=ha(),jc(()=>{e.destroyed||(e.allowClick=!0)}),!n.isTouched||!n.isMoved||!e.swipeDirection||l.diff===0&&!n.loopSwapReset||n.currentTranslate===n.startTranslate&&!n.loopSwapReset){n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;return}n.isTouched=!1,n.isMoved=!1,n.startMoving=!1;let f;if(o.followFinger?f=a?e.translate:-e.translate:f=-n.currentTranslate,o.cssMode)return;if(o.freeMode&&o.freeMode.enabled){e.freeMode.onTouchEnd({currentPos:f});return}const p=f>=-e.maxTranslate()&&!e.params.loop;let m=0,w=e.slidesSizesGrid[0];for(let N=0;N<c.length;N+=N<o.slidesPerGroupSkip?1:o.slidesPerGroup){const H=N<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;typeof c[N+H]<"u"?(p||f>=c[N]&&f<c[N+H])&&(m=N,w=c[N+H]-c[N]):(p||f>=c[N])&&(m=N,w=c[c.length-1]-c[c.length-2])}let y=null,E=null;o.rewind&&(e.isBeginning?E=o.virtual&&o.virtual.enabled&&e.virtual?e.virtual.slides.length-1:e.slides.length-1:e.isEnd&&(y=0));const T=(f-c[m])/w,b=m<o.slidesPerGroupSkip-1?1:o.slidesPerGroup;if(h>o.longSwipesMs){if(!o.longSwipes){e.slideTo(e.activeIndex);return}e.swipeDirection==="next"&&(T>=o.longSwipesRatio?e.slideTo(o.rewind&&e.isEnd?y:m+b):e.slideTo(m)),e.swipeDirection==="prev"&&(T>1-o.longSwipesRatio?e.slideTo(m+b):E!==null&&T<0&&Math.abs(T)>o.longSwipesRatio?e.slideTo(E):e.slideTo(m))}else{if(!o.shortSwipes){e.slideTo(e.activeIndex);return}e.navigation&&(s.target===e.navigation.nextEl||s.target===e.navigation.prevEl)?s.target===e.navigation.nextEl?e.slideTo(m+b):e.slideTo(m):(e.swipeDirection==="next"&&e.slideTo(y!==null?y:m+b),e.swipeDirection==="prev"&&e.slideTo(E!==null?E:m))}}function cp(){const t=this,{params:e,el:n}=t;if(n&&n.offsetWidth===0)return;e.breakpoints&&t.setBreakpoint();const{allowSlideNext:s,allowSlidePrev:i,snapGrid:r}=t,o=t.virtual&&t.params.virtual.enabled;t.allowSlideNext=!0,t.allowSlidePrev=!0,t.updateSize(),t.updateSlides(),t.updateSlidesClasses();const l=o&&e.loop;(e.slidesPerView==="auto"||e.slidesPerView>1)&&t.isEnd&&!t.isBeginning&&!t.params.centeredSlides&&!l?t.slideTo(t.slides.length-1,0,!1,!0):t.params.loop&&!o?t.slideToLoop(t.realIndex,0,!1,!0):t.slideTo(t.activeIndex,0,!1,!0),t.autoplay&&t.autoplay.running&&t.autoplay.paused&&(clearTimeout(t.autoplay.resizeTimeout),t.autoplay.resizeTimeout=setTimeout(()=>{t.autoplay&&t.autoplay.running&&t.autoplay.paused&&t.autoplay.resume()},500)),t.allowSlidePrev=i,t.allowSlideNext=s,t.params.watchOverflow&&r!==t.snapGrid&&t.checkOverflow()}function nk(t){const e=this;e.enabled&&(e.allowClick||(e.params.preventClicks&&t.preventDefault(),e.params.preventClicksPropagation&&e.animating&&(t.stopPropagation(),t.stopImmediatePropagation())))}function sk(){const t=this,{wrapperEl:e,rtlTranslate:n,enabled:s}=t;if(!s)return;t.previousTranslate=t.translate,t.isHorizontal()?t.translate=-e.scrollLeft:t.translate=-e.scrollTop,t.translate===0&&(t.translate=0),t.updateActiveIndex(),t.updateSlidesClasses();let i;const r=t.maxTranslate()-t.minTranslate();r===0?i=0:i=(t.translate-t.minTranslate())/r,i!==t.progress&&t.updateProgress(n?-t.translate:t.translate),t.emit("setTranslate",t.translate,!1)}function ik(t){const e=this;Lo(e,t.target),!(e.params.cssMode||e.params.slidesPerView!=="auto"&&!e.params.autoHeight)&&e.update()}function rk(){const t=this;t.documentTouchHandlerProceeded||(t.documentTouchHandlerProceeded=!0,t.params.touchReleaseOnEdges&&(t.el.style.touchAction="auto"))}const Uy=(t,e)=>{const n=Ni(),{params:s,el:i,wrapperEl:r,device:o}=t,l=!!s.nested,a=e==="on"?"addEventListener":"removeEventListener",c=e;!i||typeof i=="string"||(n[a]("touchstart",t.onDocumentTouchStart,{passive:!1,capture:l}),i[a]("touchstart",t.onTouchStart,{passive:!1}),i[a]("pointerdown",t.onTouchStart,{passive:!1}),n[a]("touchmove",t.onTouchMove,{passive:!1,capture:l}),n[a]("pointermove",t.onTouchMove,{passive:!1,capture:l}),n[a]("touchend",t.onTouchEnd,{passive:!0}),n[a]("pointerup",t.onTouchEnd,{passive:!0}),n[a]("pointercancel",t.onTouchEnd,{passive:!0}),n[a]("touchcancel",t.onTouchEnd,{passive:!0}),n[a]("pointerout",t.onTouchEnd,{passive:!0}),n[a]("pointerleave",t.onTouchEnd,{passive:!0}),n[a]("contextmenu",t.onTouchEnd,{passive:!0}),(s.preventClicks||s.preventClicksPropagation)&&i[a]("click",t.onClick,!0),s.cssMode&&r[a]("scroll",t.onScroll),s.updateOnWindowResize?t[c](o.ios||o.android?"resize orientationchange observerUpdate":"resize observerUpdate",cp,!0):t[c]("observerUpdate",cp,!0),i[a]("load",t.onLoad,{capture:!0}))};function ok(){const t=this,{params:e}=t;t.onTouchStart=ZP.bind(t),t.onTouchMove=ek.bind(t),t.onTouchEnd=tk.bind(t),t.onDocumentTouchStart=rk.bind(t),e.cssMode&&(t.onScroll=sk.bind(t)),t.onClick=nk.bind(t),t.onLoad=ik.bind(t),Uy(t,"on")}function ak(){Uy(this,"off")}var lk={attachEvents:ok,detachEvents:ak};const up=(t,e)=>t.grid&&e.grid&&e.grid.rows>1;function ck(){const t=this,{realIndex:e,initialized:n,params:s,el:i}=t,r=s.breakpoints;if(!r||r&&Object.keys(r).length===0)return;const o=t.getBreakpoint(r,t.params.breakpointsBase,t.el);if(!o||t.currentBreakpoint===o)return;const a=(o in r?r[o]:void 0)||t.originalParams,c=up(t,s),u=up(t,a),d=t.params.grabCursor,h=a.grabCursor,f=s.enabled;c&&!u?(i.classList.remove(`${s.containerModifierClass}grid`,`${s.containerModifierClass}grid-column`),t.emitContainerClasses()):!c&&u&&(i.classList.add(`${s.containerModifierClass}grid`),(a.grid.fill&&a.grid.fill==="column"||!a.grid.fill&&s.grid.fill==="column")&&i.classList.add(`${s.containerModifierClass}grid-column`),t.emitContainerClasses()),d&&!h?t.unsetGrabCursor():!d&&h&&t.setGrabCursor(),["navigation","pagination","scrollbar"].forEach(T=>{if(typeof a[T]>"u")return;const b=s[T]&&s[T].enabled,N=a[T]&&a[T].enabled;b&&!N&&t[T].disable(),!b&&N&&t[T].enable()});const p=a.direction&&a.direction!==s.direction,m=s.loop&&(a.slidesPerView!==s.slidesPerView||p),w=s.loop;p&&n&&t.changeDirection(),St(t.params,a);const y=t.params.enabled,E=t.params.loop;Object.assign(t,{allowTouchMove:t.params.allowTouchMove,allowSlideNext:t.params.allowSlideNext,allowSlidePrev:t.params.allowSlidePrev}),f&&!y?t.disable():!f&&y&&t.enable(),t.currentBreakpoint=o,t.emit("_beforeBreakpoint",a),n&&(m?(t.loopDestroy(),t.loopCreate(e),t.updateSlides()):!w&&E?(t.loopCreate(e),t.updateSlides()):w&&!E&&t.loopDestroy()),t.emit("breakpoint",a)}function uk(t,e,n){if(e===void 0&&(e="window"),!t||e==="container"&&!n)return;let s=!1;const i=Ct(),r=e==="window"?i.innerHeight:n.clientHeight,o=Object.keys(t).map(l=>{if(typeof l=="string"&&l.indexOf("@")===0){const a=parseFloat(l.substr(1));return{value:r*a,point:l}}return{value:l,point:l}});o.sort((l,a)=>parseInt(l.value,10)-parseInt(a.value,10));for(let l=0;l<o.length;l+=1){const{point:a,value:c}=o[l];e==="window"?i.matchMedia(`(min-width: ${c}px)`).matches&&(s=a):c<=n.clientWidth&&(s=a)}return s||"max"}var dk={setBreakpoint:ck,getBreakpoint:uk};function hk(t,e){const n=[];return t.forEach(s=>{typeof s=="object"?Object.keys(s).forEach(i=>{s[i]&&n.push(e+i)}):typeof s=="string"&&n.push(e+s)}),n}function fk(){const t=this,{classNames:e,params:n,rtl:s,el:i,device:r}=t,o=hk(["initialized",n.direction,{"free-mode":t.params.freeMode&&n.freeMode.enabled},{autoheight:n.autoHeight},{rtl:s},{grid:n.grid&&n.grid.rows>1},{"grid-column":n.grid&&n.grid.rows>1&&n.grid.fill==="column"},{android:r.android},{ios:r.ios},{"css-mode":n.cssMode},{centered:n.cssMode&&n.centeredSlides},{"watch-progress":n.watchSlidesProgress}],n.containerModifierClass);e.push(...o),i.classList.add(...e),t.emitContainerClasses()}function pk(){const t=this,{el:e,classNames:n}=t;!e||typeof e=="string"||(e.classList.remove(...n),t.emitContainerClasses())}var gk={addClasses:fk,removeClasses:pk};function mk(){const t=this,{isLocked:e,params:n}=t,{slidesOffsetBefore:s}=n;if(s){const i=t.slides.length-1,r=t.slidesGrid[i]+t.slidesSizesGrid[i]+s*2;t.isLocked=t.size>r}else t.isLocked=t.snapGrid.length===1;n.allowSlideNext===!0&&(t.allowSlideNext=!t.isLocked),n.allowSlidePrev===!0&&(t.allowSlidePrev=!t.isLocked),e&&e!==t.isLocked&&(t.isEnd=!1),e!==t.isLocked&&t.emit(t.isLocked?"lock":"unlock")}var vk={checkOverflow:mk},qc={init:!0,direction:"horizontal",oneWayMovement:!1,swiperElementNodeName:"SWIPER-CONTAINER",touchEventsTarget:"wrapper",initialSlide:0,speed:300,cssMode:!1,updateOnWindowResize:!0,resizeObserver:!0,nested:!1,createElements:!1,eventsPrefix:"swiper",enabled:!0,focusableElements:"input, select, option, textarea, button, video, label",width:null,height:null,preventInteractionOnTransition:!1,userAgent:null,url:null,edgeSwipeDetection:!1,edgeSwipeThreshold:20,autoHeight:!1,setWrapperSize:!1,virtualTranslate:!1,effect:"slide",breakpoints:void 0,breakpointsBase:"window",spaceBetween:0,slidesPerView:1,slidesPerGroup:1,slidesPerGroupSkip:0,slidesPerGroupAuto:!1,centeredSlides:!1,centeredSlidesBounds:!1,slidesOffsetBefore:0,slidesOffsetAfter:0,normalizeSlideIndex:!0,centerInsufficientSlides:!1,watchOverflow:!0,roundLengths:!1,touchRatio:1,touchAngle:45,simulateTouch:!0,shortSwipes:!0,longSwipes:!0,longSwipesRatio:.5,longSwipesMs:300,followFinger:!0,allowTouchMove:!0,threshold:5,touchMoveStopPropagation:!1,touchStartPreventDefault:!0,touchStartForcePreventDefault:!1,touchReleaseOnEdges:!1,uniqueNavElements:!0,resistance:!0,resistanceRatio:.85,watchSlidesProgress:!1,grabCursor:!1,preventClicks:!0,preventClicksPropagation:!0,slideToClickedSlide:!1,loop:!1,loopAddBlankSlides:!0,loopAdditionalSlides:0,loopPreventsSliding:!0,rewind:!1,allowSlidePrev:!0,allowSlideNext:!0,swipeHandler:null,noSwiping:!0,noSwipingClass:"swiper-no-swiping",noSwipingSelector:null,passiveListeners:!0,maxBackfaceHiddenSlides:10,containerModifierClass:"swiper-",slideClass:"swiper-slide",slideBlankClass:"swiper-slide-blank",slideActiveClass:"swiper-slide-active",slideVisibleClass:"swiper-slide-visible",slideFullyVisibleClass:"swiper-slide-fully-visible",slideNextClass:"swiper-slide-next",slidePrevClass:"swiper-slide-prev",wrapperClass:"swiper-wrapper",lazyPreloaderClass:"swiper-lazy-preloader",lazyPreloadPrevNext:0,runCallbacksOnInit:!0,_emitClasses:!1};function yk(t,e){return function(s){s===void 0&&(s={});const i=Object.keys(s)[0],r=s[i];if(typeof r!="object"||r===null){St(e,s);return}if(t[i]===!0&&(t[i]={enabled:!0}),i==="navigation"&&t[i]&&t[i].enabled&&!t[i].prevEl&&!t[i].nextEl&&(t[i].auto=!0),["pagination","scrollbar"].indexOf(i)>=0&&t[i]&&t[i].enabled&&!t[i].el&&(t[i].auto=!0),!(i in t&&"enabled"in r)){St(e,s);return}typeof t[i]=="object"&&!("enabled"in t[i])&&(t[i].enabled=!0),t[i]||(t[i]={enabled:!1}),St(e,s)}}const Hl={eventsEmitter:gP,update:CP,translate:OP,transition:LP,slide:HP,loop:WP,grabCursor:XP,events:lk,breakpoints:dk,checkOverflow:vk,classes:gk},ql={};let Od=class on{constructor(){let e,n;for(var s=arguments.length,i=new Array(s),r=0;r<s;r++)i[r]=arguments[r];i.length===1&&i[0].constructor&&Object.prototype.toString.call(i[0]).slice(8,-1)==="Object"?n=i[0]:[e,n]=i,n||(n={}),n=St({},n),e&&!n.el&&(n.el=e);const o=Ni();if(n.el&&typeof n.el=="string"&&o.querySelectorAll(n.el).length>1){const u=[];return o.querySelectorAll(n.el).forEach(d=>{const h=St({},n,{el:d});u.push(new on(h))}),u}const l=this;l.__swiper__=!0,l.support=Fy(),l.device=$y({userAgent:n.userAgent}),l.browser=hP(),l.eventsListeners={},l.eventsAnyListeners=[],l.modules=[...l.__modules__],n.modules&&Array.isArray(n.modules)&&l.modules.push(...n.modules);const a={};l.modules.forEach(u=>{u({params:n,swiper:l,extendParams:yk(n,a),on:l.on.bind(l),once:l.once.bind(l),off:l.off.bind(l),emit:l.emit.bind(l)})});const c=St({},qc,a);return l.params=St({},c,ql,n),l.originalParams=St({},l.params),l.passedParams=St({},n),l.params&&l.params.on&&Object.keys(l.params.on).forEach(u=>{l.on(u,l.params.on[u])}),l.params&&l.params.onAny&&l.onAny(l.params.onAny),Object.assign(l,{enabled:l.params.enabled,el:e,classNames:[],slides:[],slidesGrid:[],snapGrid:[],slidesSizesGrid:[],isHorizontal(){return l.params.direction==="horizontal"},isVertical(){return l.params.direction==="vertical"},activeIndex:0,realIndex:0,isBeginning:!0,isEnd:!1,translate:0,previousTranslate:0,progress:0,velocity:0,animating:!1,cssOverflowAdjustment(){return Math.trunc(this.translate/2**23)*2**23},allowSlideNext:l.params.allowSlideNext,allowSlidePrev:l.params.allowSlidePrev,touchEventsData:{isTouched:void 0,isMoved:void 0,allowTouchCallbacks:void 0,touchStartTime:void 0,isScrolling:void 0,currentTranslate:void 0,startTranslate:void 0,allowThresholdMove:void 0,focusableElements:l.params.focusableElements,lastClickTime:0,clickTimeout:void 0,velocities:[],allowMomentumBounce:void 0,startMoving:void 0,pointerId:null,touchId:null},allowClick:!0,allowTouchMove:l.params.allowTouchMove,touches:{startX:0,startY:0,currentX:0,currentY:0,diff:0},imagesToLoad:[],imagesLoaded:0}),l.emit("_swiper"),l.params.init&&l.init(),l}getDirectionLabel(e){return this.isHorizontal()?e:{width:"height","margin-top":"margin-left","margin-bottom ":"margin-right","margin-left":"margin-top","margin-right":"margin-bottom","padding-left":"padding-top","padding-right":"padding-bottom",marginRight:"marginBottom"}[e]}getSlideIndex(e){const{slidesEl:n,params:s}=this,i=Yt(n,`.${s.slideClass}, swiper-slide`),r=rp(i[0]);return rp(e)-r}getSlideIndexByData(e){return this.getSlideIndex(this.slides.filter(n=>n.getAttribute("data-swiper-slide-index")*1===e)[0])}recalcSlides(){const e=this,{slidesEl:n,params:s}=e;e.slides=Yt(n,`.${s.slideClass}, swiper-slide`)}enable(){const e=this;e.enabled||(e.enabled=!0,e.params.grabCursor&&e.setGrabCursor(),e.emit("enable"))}disable(){const e=this;e.enabled&&(e.enabled=!1,e.params.grabCursor&&e.unsetGrabCursor(),e.emit("disable"))}setProgress(e,n){const s=this;e=Math.min(Math.max(e,0),1);const i=s.minTranslate(),o=(s.maxTranslate()-i)*e+i;s.translateTo(o,typeof n>"u"?0:n),s.updateActiveIndex(),s.updateSlidesClasses()}emitContainerClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=e.el.className.split(" ").filter(s=>s.indexOf("swiper")===0||s.indexOf(e.params.containerModifierClass)===0);e.emit("_containerClasses",n.join(" "))}getSlideClasses(e){const n=this;return n.destroyed?"":e.className.split(" ").filter(s=>s.indexOf("swiper-slide")===0||s.indexOf(n.params.slideClass)===0).join(" ")}emitSlidesClasses(){const e=this;if(!e.params._emitClasses||!e.el)return;const n=[];e.slides.forEach(s=>{const i=e.getSlideClasses(s);n.push({slideEl:s,classNames:i}),e.emit("_slideClass",s,i)}),e.emit("_slideClasses",n)}slidesPerViewDynamic(e,n){e===void 0&&(e="current"),n===void 0&&(n=!1);const s=this,{params:i,slides:r,slidesGrid:o,slidesSizesGrid:l,size:a,activeIndex:c}=s;let u=1;if(typeof i.slidesPerView=="number")return i.slidesPerView;if(i.centeredSlides){let d=r[c]?Math.ceil(r[c].swiperSlideSize):0,h;for(let f=c+1;f<r.length;f+=1)r[f]&&!h&&(d+=Math.ceil(r[f].swiperSlideSize),u+=1,d>a&&(h=!0));for(let f=c-1;f>=0;f-=1)r[f]&&!h&&(d+=r[f].swiperSlideSize,u+=1,d>a&&(h=!0))}else if(e==="current")for(let d=c+1;d<r.length;d+=1)(n?o[d]+l[d]-o[c]<a:o[d]-o[c]<a)&&(u+=1);else for(let d=c-1;d>=0;d-=1)o[c]-o[d]<a&&(u+=1);return u}update(){const e=this;if(!e||e.destroyed)return;const{snapGrid:n,params:s}=e;s.breakpoints&&e.setBreakpoint(),[...e.el.querySelectorAll('[loading="lazy"]')].forEach(o=>{o.complete&&Lo(e,o)}),e.updateSize(),e.updateSlides(),e.updateProgress(),e.updateSlidesClasses();function i(){const o=e.rtlTranslate?e.translate*-1:e.translate,l=Math.min(Math.max(o,e.maxTranslate()),e.minTranslate());e.setTranslate(l),e.updateActiveIndex(),e.updateSlidesClasses()}let r;if(s.freeMode&&s.freeMode.enabled&&!s.cssMode)i(),s.autoHeight&&e.updateAutoHeight();else{if((s.slidesPerView==="auto"||s.slidesPerView>1)&&e.isEnd&&!s.centeredSlides){const o=e.virtual&&s.virtual.enabled?e.virtual.slides:e.slides;r=e.slideTo(o.length-1,0,!1,!0)}else r=e.slideTo(e.activeIndex,0,!1,!0);r||i()}s.watchOverflow&&n!==e.snapGrid&&e.checkOverflow(),e.emit("update")}changeDirection(e,n){n===void 0&&(n=!0);const s=this,i=s.params.direction;return e||(e=i==="horizontal"?"vertical":"horizontal"),e===i||e!=="horizontal"&&e!=="vertical"||(s.el.classList.remove(`${s.params.containerModifierClass}${i}`),s.el.classList.add(`${s.params.containerModifierClass}${e}`),s.emitContainerClasses(),s.params.direction=e,s.slides.forEach(r=>{e==="vertical"?r.style.width="":r.style.height=""}),s.emit("changeDirection"),n&&s.update()),s}changeLanguageDirection(e){const n=this;n.rtl&&e==="rtl"||!n.rtl&&e==="ltr"||(n.rtl=e==="rtl",n.rtlTranslate=n.params.direction==="horizontal"&&n.rtl,n.rtl?(n.el.classList.add(`${n.params.containerModifierClass}rtl`),n.el.dir="rtl"):(n.el.classList.remove(`${n.params.containerModifierClass}rtl`),n.el.dir="ltr"),n.update())}mount(e){const n=this;if(n.mounted)return!0;let s=e||n.params.el;if(typeof s=="string"&&(s=document.querySelector(s)),!s)return!1;s.swiper=n,s.parentNode&&s.parentNode.host&&s.parentNode.host.nodeName===n.params.swiperElementNodeName.toUpperCase()&&(n.isElement=!0);const i=()=>`.${(n.params.wrapperClass||"").trim().split(" ").join(".")}`;let o=(()=>s&&s.shadowRoot&&s.shadowRoot.querySelector?s.shadowRoot.querySelector(i()):Yt(s,i())[0])();return!o&&n.params.createElements&&(o=pa("div",n.params.wrapperClass),s.append(o),Yt(s,`.${n.params.slideClass}`).forEach(l=>{o.append(l)})),Object.assign(n,{el:s,wrapperEl:o,slidesEl:n.isElement&&!s.parentNode.host.slideSlots?s.parentNode.host:o,hostEl:n.isElement?s.parentNode.host:s,mounted:!0,rtl:s.dir.toLowerCase()==="rtl"||Dn(s,"direction")==="rtl",rtlTranslate:n.params.direction==="horizontal"&&(s.dir.toLowerCase()==="rtl"||Dn(s,"direction")==="rtl"),wrongRTL:Dn(o,"display")==="-webkit-box"}),!0}init(e){const n=this;if(n.initialized||n.mount(e)===!1)return n;n.emit("beforeInit"),n.params.breakpoints&&n.setBreakpoint(),n.addClasses(),n.updateSize(),n.updateSlides(),n.params.watchOverflow&&n.checkOverflow(),n.params.grabCursor&&n.enabled&&n.setGrabCursor(),n.params.loop&&n.virtual&&n.params.virtual.enabled?n.slideTo(n.params.initialSlide+n.virtual.slidesBefore,0,n.params.runCallbacksOnInit,!1,!0):n.slideTo(n.params.initialSlide,0,n.params.runCallbacksOnInit,!1,!0),n.params.loop&&n.loopCreate(),n.attachEvents();const i=[...n.el.querySelectorAll('[loading="lazy"]')];return n.isElement&&i.push(...n.hostEl.querySelectorAll('[loading="lazy"]')),i.forEach(r=>{r.complete?Lo(n,r):r.addEventListener("load",o=>{Lo(n,o.target)})}),Hc(n),n.initialized=!0,Hc(n),n.emit("init"),n.emit("afterInit"),n}destroy(e,n){e===void 0&&(e=!0),n===void 0&&(n=!0);const s=this,{params:i,el:r,wrapperEl:o,slides:l}=s;return typeof s.params>"u"||s.destroyed||(s.emit("beforeDestroy"),s.initialized=!1,s.detachEvents(),i.loop&&s.loopDestroy(),n&&(s.removeClasses(),r&&typeof r!="string"&&r.removeAttribute("style"),o&&o.removeAttribute("style"),l&&l.length&&l.forEach(a=>{a.classList.remove(i.slideVisibleClass,i.slideFullyVisibleClass,i.slideActiveClass,i.slideNextClass,i.slidePrevClass),a.removeAttribute("style"),a.removeAttribute("data-swiper-slide-index")})),s.emit("destroy"),Object.keys(s.eventsListeners).forEach(a=>{s.off(a)}),e!==!1&&(s.el&&typeof s.el!="string"&&(s.el.swiper=null),nP(s)),s.destroyed=!0),null}static extendDefaults(e){St(ql,e)}static get extendedDefaults(){return ql}static get defaults(){return qc}static installModule(e){on.prototype.__modules__||(on.prototype.__modules__=[]);const n=on.prototype.__modules__;typeof e=="function"&&n.indexOf(e)<0&&n.push(e)}static use(e){return Array.isArray(e)?(e.forEach(n=>on.installModule(n)),on):(on.installModule(e),on)}};Object.keys(Hl).forEach(t=>{Object.keys(Hl[t]).forEach(e=>{Od.prototype[e]=Hl[t][e]})});Od.use([fP,pP]);const By=["eventsPrefix","injectStyles","injectStylesUrls","modules","init","_direction","oneWayMovement","swiperElementNodeName","touchEventsTarget","initialSlide","_speed","cssMode","updateOnWindowResize","resizeObserver","nested","focusableElements","_enabled","_width","_height","preventInteractionOnTransition","userAgent","url","_edgeSwipeDetection","_edgeSwipeThreshold","_freeMode","_autoHeight","setWrapperSize","virtualTranslate","_effect","breakpoints","breakpointsBase","_spaceBetween","_slidesPerView","maxBackfaceHiddenSlides","_grid","_slidesPerGroup","_slidesPerGroupSkip","_slidesPerGroupAuto","_centeredSlides","_centeredSlidesBounds","_slidesOffsetBefore","_slidesOffsetAfter","normalizeSlideIndex","_centerInsufficientSlides","_watchOverflow","roundLengths","touchRatio","touchAngle","simulateTouch","_shortSwipes","_longSwipes","longSwipesRatio","longSwipesMs","_followFinger","allowTouchMove","_threshold","touchMoveStopPropagation","touchStartPreventDefault","touchStartForcePreventDefault","touchReleaseOnEdges","uniqueNavElements","_resistance","_resistanceRatio","_watchSlidesProgress","_grabCursor","preventClicks","preventClicksPropagation","_slideToClickedSlide","_loop","loopAdditionalSlides","loopAddBlankSlides","loopPreventsSliding","_rewind","_allowSlidePrev","_allowSlideNext","_swipeHandler","_noSwiping","noSwipingClass","noSwipingSelector","passiveListeners","containerModifierClass","slideClass","slideActiveClass","slideVisibleClass","slideFullyVisibleClass","slideNextClass","slidePrevClass","slideBlankClass","wrapperClass","lazyPreloaderClass","lazyPreloadPrevNext","runCallbacksOnInit","observer","observeParents","observeSlideChildren","a11y","_autoplay","_controller","coverflowEffect","cubeEffect","fadeEffect","flipEffect","creativeEffect","cardsEffect","hashNavigation","history","keyboard","mousewheel","_navigation","_pagination","parallax","_scrollbar","_thumbs","virtual","zoom","control"];function Cs(t){return typeof t=="object"&&t!==null&&t.constructor&&Object.prototype.toString.call(t).slice(8,-1)==="Object"&&!t.__swiper__}function Zs(t,e){const n=["__proto__","constructor","prototype"];Object.keys(e).filter(s=>n.indexOf(s)<0).forEach(s=>{typeof t[s]>"u"?t[s]=e[s]:Cs(e[s])&&Cs(t[s])&&Object.keys(e[s]).length>0?e[s].__swiper__?t[s]=e[s]:Zs(t[s],e[s]):t[s]=e[s]})}function zy(t){return t===void 0&&(t={}),t.navigation&&typeof t.navigation.nextEl>"u"&&typeof t.navigation.prevEl>"u"}function jy(t){return t===void 0&&(t={}),t.pagination&&typeof t.pagination.el>"u"}function Hy(t){return t===void 0&&(t={}),t.scrollbar&&typeof t.scrollbar.el>"u"}function qy(t){t===void 0&&(t="");const e=t.split(" ").map(s=>s.trim()).filter(s=>!!s),n=[];return e.forEach(s=>{n.indexOf(s)<0&&n.push(s)}),n.join(" ")}function wk(t){return t===void 0&&(t=""),t?t.includes("swiper-wrapper")?t:`swiper-wrapper ${t}`:"swiper-wrapper"}function _k(t){let{swiper:e,slides:n,passedParams:s,changedParams:i,nextEl:r,prevEl:o,scrollbarEl:l,paginationEl:a}=t;const c=i.filter(k=>k!=="children"&&k!=="direction"&&k!=="wrapperClass"),{params:u,pagination:d,navigation:h,scrollbar:f,virtual:p,thumbs:m}=e;let w,y,E,T,b,N,H,K;i.includes("thumbs")&&s.thumbs&&s.thumbs.swiper&&u.thumbs&&!u.thumbs.swiper&&(w=!0),i.includes("controller")&&s.controller&&s.controller.control&&u.controller&&!u.controller.control&&(y=!0),i.includes("pagination")&&s.pagination&&(s.pagination.el||a)&&(u.pagination||u.pagination===!1)&&d&&!d.el&&(E=!0),i.includes("scrollbar")&&s.scrollbar&&(s.scrollbar.el||l)&&(u.scrollbar||u.scrollbar===!1)&&f&&!f.el&&(T=!0),i.includes("navigation")&&s.navigation&&(s.navigation.prevEl||o)&&(s.navigation.nextEl||r)&&(u.navigation||u.navigation===!1)&&h&&!h.prevEl&&!h.nextEl&&(b=!0);const $=k=>{e[k]&&(e[k].destroy(),k==="navigation"?(e.isElement&&(e[k].prevEl.remove(),e[k].nextEl.remove()),u[k].prevEl=void 0,u[k].nextEl=void 0,e[k].prevEl=void 0,e[k].nextEl=void 0):(e.isElement&&e[k].el.remove(),u[k].el=void 0,e[k].el=void 0))};i.includes("loop")&&e.isElement&&(u.loop&&!s.loop?N=!0:!u.loop&&s.loop?H=!0:K=!0),c.forEach(k=>{if(Cs(u[k])&&Cs(s[k]))Object.assign(u[k],s[k]),(k==="navigation"||k==="pagination"||k==="scrollbar")&&"enabled"in s[k]&&!s[k].enabled&&$(k);else{const P=s[k];(P===!0||P===!1)&&(k==="navigation"||k==="pagination"||k==="scrollbar")?P===!1&&$(k):u[k]=s[k]}}),c.includes("controller")&&!y&&e.controller&&e.controller.control&&u.controller&&u.controller.control&&(e.controller.control=u.controller.control),i.includes("children")&&n&&p&&u.virtual.enabled?(p.slides=n,p.update(!0)):i.includes("virtual")&&p&&u.virtual.enabled&&(n&&(p.slides=n),p.update(!0)),i.includes("children")&&n&&u.loop&&(K=!0),w&&m.init()&&m.update(!0),y&&(e.controller.control=u.controller.control),E&&(e.isElement&&(!a||typeof a=="string")&&(a=document.createElement("div"),a.classList.add("swiper-pagination"),a.part.add("pagination"),e.el.appendChild(a)),a&&(u.pagination.el=a),d.init(),d.render(),d.update()),T&&(e.isElement&&(!l||typeof l=="string")&&(l=document.createElement("div"),l.classList.add("swiper-scrollbar"),l.part.add("scrollbar"),e.el.appendChild(l)),l&&(u.scrollbar.el=l),f.init(),f.updateSize(),f.setTranslate()),b&&(e.isElement&&((!r||typeof r=="string")&&(r=document.createElement("div"),r.classList.add("swiper-button-next"),r.innerHTML=e.hostEl.constructor.nextButtonSvg,r.part.add("button-next"),e.el.appendChild(r)),(!o||typeof o=="string")&&(o=document.createElement("div"),o.classList.add("swiper-button-prev"),o.innerHTML=e.hostEl.constructor.prevButtonSvg,o.part.add("button-prev"),e.el.appendChild(o))),r&&(u.navigation.nextEl=r),o&&(u.navigation.prevEl=o),h.init(),h.update()),i.includes("allowSlideNext")&&(e.allowSlideNext=s.allowSlideNext),i.includes("allowSlidePrev")&&(e.allowSlidePrev=s.allowSlidePrev),i.includes("direction")&&e.changeDirection(s.direction,!1),(N||K)&&e.loopDestroy(),(H||K)&&e.loopCreate(),e.update()}function dp(t,e){t===void 0&&(t={}),e===void 0&&(e=!0);const n={on:{}},s={},i={};Zs(n,qc),n._emitClasses=!0,n.init=!1;const r={},o=By.map(a=>a.replace(/_/,"")),l=Object.assign({},t);return Object.keys(l).forEach(a=>{typeof t[a]>"u"||(o.indexOf(a)>=0?Cs(t[a])?(n[a]={},i[a]={},Zs(n[a],t[a]),Zs(i[a],t[a])):(n[a]=t[a],i[a]=t[a]):a.search(/on[A-Z]/)===0&&typeof t[a]=="function"?e?s[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:n.on[`${a[2].toLowerCase()}${a.substr(3)}`]=t[a]:r[a]=t[a])}),["navigation","pagination","scrollbar"].forEach(a=>{n[a]===!0&&(n[a]={}),n[a]===!1&&delete n[a]}),{params:n,passedParams:i,rest:r,events:s}}function Ek(t,e){let{el:n,nextEl:s,prevEl:i,paginationEl:r,scrollbarEl:o,swiper:l}=t;zy(e)&&s&&i&&(l.params.navigation.nextEl=s,l.originalParams.navigation.nextEl=s,l.params.navigation.prevEl=i,l.originalParams.navigation.prevEl=i),jy(e)&&r&&(l.params.pagination.el=r,l.originalParams.pagination.el=r),Hy(e)&&o&&(l.params.scrollbar.el=o,l.originalParams.scrollbar.el=o),l.init(n)}function Tk(t,e,n,s,i){const r=[];if(!e)return r;const o=a=>{r.indexOf(a)<0&&r.push(a)};if(n&&s){const a=s.map(i),c=n.map(i);a.join("")!==c.join("")&&o("children"),s.length!==n.length&&o("children")}return By.filter(a=>a[0]==="_").map(a=>a.replace(/_/,"")).forEach(a=>{if(a in t&&a in e)if(Cs(t[a])&&Cs(e[a])){const c=Object.keys(t[a]),u=Object.keys(e[a]);c.length!==u.length?o(a):(c.forEach(d=>{t[a][d]!==e[a][d]&&o(a)}),u.forEach(d=>{t[a][d]!==e[a][d]&&o(a)}))}else t[a]!==e[a]&&o(a)}),r}const Sk=t=>{!t||t.destroyed||!t.params.virtual||t.params.virtual&&!t.params.virtual.enabled||(t.updateSlides(),t.updateProgress(),t.updateSlidesClasses(),t.parallax&&t.params.parallax&&t.params.parallax.enabled&&t.parallax.setTranslate())};function Gl(t,e,n){t===void 0&&(t={});const s=[],i={"container-start":[],"container-end":[],"wrapper-start":[],"wrapper-end":[]},r=(o,l)=>{Array.isArray(o)&&o.forEach(a=>{const c=typeof a.type=="symbol";l==="default"&&(l="container-end"),c&&a.children?r(a.children,l):a.type&&(a.type.name==="SwiperSlide"||a.type.name==="AsyncComponentWrapper")||a.componentOptions&&a.componentOptions.tag==="SwiperSlide"?s.push(a):i[l]&&i[l].push(a)})};return Object.keys(t).forEach(o=>{if(typeof t[o]!="function")return;const l=t[o]();r(l,o)}),n.value=e.value,e.value=s,{slides:s,slots:i}}function bk(t,e,n){if(!n)return null;const s=u=>{let d=u;return u<0?d=e.length+u:d>=e.length&&(d=d-e.length),d},i=t.value.isHorizontal()?{[t.value.rtlTranslate?"right":"left"]:`${n.offset}px`}:{top:`${n.offset}px`},{from:r,to:o}=n,l=t.value.params.loop?-e.length:0,a=t.value.params.loop?e.length*2:e.length,c=[];for(let u=l;u<a;u+=1)u>=r&&u<=o&&c.length<e.length&&c.push(e[s(u)]);return c.map(u=>{if(u.props||(u.props={}),u.props.style||(u.props.style={}),u.props.swiperRef=t,u.props.style=i,u.type)return wt(u.type,{...u.props},u.children);if(u.componentOptions)return wt(u.componentOptions.Ctor,{...u.props},u.componentOptions.children)})}const Ik={name:"Swiper",props:{tag:{type:String,default:"div"},wrapperTag:{type:String,default:"div"},modules:{type:Array,default:void 0},init:{type:Boolean,default:void 0},direction:{type:String,default:void 0},oneWayMovement:{type:Boolean,default:void 0},swiperElementNodeName:{type:String,default:"SWIPER-CONTAINER"},touchEventsTarget:{type:String,default:void 0},initialSlide:{type:Number,default:void 0},speed:{type:Number,default:void 0},cssMode:{type:Boolean,default:void 0},updateOnWindowResize:{type:Boolean,default:void 0},resizeObserver:{type:Boolean,default:void 0},nested:{type:Boolean,default:void 0},focusableElements:{type:String,default:void 0},width:{type:Number,default:void 0},height:{type:Number,default:void 0},preventInteractionOnTransition:{type:Boolean,default:void 0},userAgent:{type:String,default:void 0},url:{type:String,default:void 0},edgeSwipeDetection:{type:[Boolean,String],default:void 0},edgeSwipeThreshold:{type:Number,default:void 0},autoHeight:{type:Boolean,default:void 0},setWrapperSize:{type:Boolean,default:void 0},virtualTranslate:{type:Boolean,default:void 0},effect:{type:String,default:void 0},breakpoints:{type:Object,default:void 0},breakpointsBase:{type:String,default:void 0},spaceBetween:{type:[Number,String],default:void 0},slidesPerView:{type:[Number,String],default:void 0},maxBackfaceHiddenSlides:{type:Number,default:void 0},slidesPerGroup:{type:Number,default:void 0},slidesPerGroupSkip:{type:Number,default:void 0},slidesPerGroupAuto:{type:Boolean,default:void 0},centeredSlides:{type:Boolean,default:void 0},centeredSlidesBounds:{type:Boolean,default:void 0},slidesOffsetBefore:{type:Number,default:void 0},slidesOffsetAfter:{type:Number,default:void 0},normalizeSlideIndex:{type:Boolean,default:void 0},centerInsufficientSlides:{type:Boolean,default:void 0},watchOverflow:{type:Boolean,default:void 0},roundLengths:{type:Boolean,default:void 0},touchRatio:{type:Number,default:void 0},touchAngle:{type:Number,default:void 0},simulateTouch:{type:Boolean,default:void 0},shortSwipes:{type:Boolean,default:void 0},longSwipes:{type:Boolean,default:void 0},longSwipesRatio:{type:Number,default:void 0},longSwipesMs:{type:Number,default:void 0},followFinger:{type:Boolean,default:void 0},allowTouchMove:{type:Boolean,default:void 0},threshold:{type:Number,default:void 0},touchMoveStopPropagation:{type:Boolean,default:void 0},touchStartPreventDefault:{type:Boolean,default:void 0},touchStartForcePreventDefault:{type:Boolean,default:void 0},touchReleaseOnEdges:{type:Boolean,default:void 0},uniqueNavElements:{type:Boolean,default:void 0},resistance:{type:Boolean,default:void 0},resistanceRatio:{type:Number,default:void 0},watchSlidesProgress:{type:Boolean,default:void 0},grabCursor:{type:Boolean,default:void 0},preventClicks:{type:Boolean,default:void 0},preventClicksPropagation:{type:Boolean,default:void 0},slideToClickedSlide:{type:Boolean,default:void 0},loop:{type:Boolean,default:void 0},loopedSlides:{type:Number,default:void 0},loopPreventsSliding:{type:Boolean,default:void 0},rewind:{type:Boolean,default:void 0},allowSlidePrev:{type:Boolean,default:void 0},allowSlideNext:{type:Boolean,default:void 0},swipeHandler:{type:Boolean,default:void 0},noSwiping:{type:Boolean,default:void 0},noSwipingClass:{type:String,default:void 0},noSwipingSelector:{type:String,default:void 0},passiveListeners:{type:Boolean,default:void 0},containerModifierClass:{type:String,default:void 0},slideClass:{type:String,default:void 0},slideActiveClass:{type:String,default:void 0},slideVisibleClass:{type:String,default:void 0},slideFullyVisibleClass:{type:String,default:void 0},slideBlankClass:{type:String,default:void 0},slideNextClass:{type:String,default:void 0},slidePrevClass:{type:String,default:void 0},wrapperClass:{type:String,default:void 0},lazyPreloaderClass:{type:String,default:void 0},lazyPreloadPrevNext:{type:Number,default:void 0},runCallbacksOnInit:{type:Boolean,default:void 0},observer:{type:Boolean,default:void 0},observeParents:{type:Boolean,default:void 0},observeSlideChildren:{type:Boolean,default:void 0},a11y:{type:[Boolean,Object],default:void 0},autoplay:{type:[Boolean,Object],default:void 0},controller:{type:Object,default:void 0},coverflowEffect:{type:Object,default:void 0},cubeEffect:{type:Object,default:void 0},fadeEffect:{type:Object,default:void 0},flipEffect:{type:Object,default:void 0},creativeEffect:{type:Object,default:void 0},cardsEffect:{type:Object,default:void 0},hashNavigation:{type:[Boolean,Object],default:void 0},history:{type:[Boolean,Object],default:void 0},keyboard:{type:[Boolean,Object],default:void 0},mousewheel:{type:[Boolean,Object],default:void 0},navigation:{type:[Boolean,Object],default:void 0},pagination:{type:[Boolean,Object],default:void 0},parallax:{type:[Boolean,Object],default:void 0},scrollbar:{type:[Boolean,Object],default:void 0},thumbs:{type:Object,default:void 0},virtual:{type:[Boolean,Object],default:void 0},zoom:{type:[Boolean,Object],default:void 0},grid:{type:[Object],default:void 0},freeMode:{type:[Boolean,Object],default:void 0},enabled:{type:Boolean,default:void 0}},emits:["_beforeBreakpoint","_containerClasses","_slideClass","_slideClasses","_swiper","_freeModeNoMomentumRelease","activeIndexChange","afterInit","autoplay","autoplayStart","autoplayStop","autoplayPause","autoplayResume","autoplayTimeLeft","beforeDestroy","beforeInit","beforeLoopFix","beforeResize","beforeSlideChangeStart","beforeTransitionStart","breakpoint","changeDirection","click","disable","doubleTap","doubleClick","destroy","enable","fromEdge","hashChange","hashSet","init","keyPress","lock","loopFix","momentumBounce","navigationHide","navigationShow","navigationPrev","navigationNext","observerUpdate","orientationchange","paginationHide","paginationRender","paginationShow","paginationUpdate","progress","reachBeginning","reachEnd","realIndexChange","resize","scroll","scrollbarDragEnd","scrollbarDragMove","scrollbarDragStart","setTransition","setTranslate","slidesUpdated","slideChange","slideChangeTransitionEnd","slideChangeTransitionStart","slideNextTransitionEnd","slideNextTransitionStart","slidePrevTransitionEnd","slidePrevTransitionStart","slideResetTransitionStart","slideResetTransitionEnd","sliderMove","sliderFirstMove","slidesLengthChange","slidesGridLengthChange","snapGridLengthChange","snapIndexChange","swiper","tap","toEdge","touchEnd","touchMove","touchMoveOpposite","touchStart","transitionEnd","transitionStart","unlock","update","virtualUpdate","zoomChange"],setup(t,e){let{slots:n,emit:s}=e;const{tag:i,wrapperTag:r}=t,o=Z("swiper"),l=Z(null),a=Z(!1),c=Z(!1),u=Z(null),d=Z(null),h=Z(null),f={value:[]},p={value:[]},m=Z(null),w=Z(null),y=Z(null),E=Z(null),{params:T,passedParams:b}=dp(t,!1);Gl(n,f,p),h.value=b,p.value=f.value;const N=()=>{Gl(n,f,p),a.value=!0};T.onAny=function($){for(var k=arguments.length,P=new Array(k>1?k-1:0),F=1;F<k;F++)P[F-1]=arguments[F];s($,...P)},Object.assign(T.on,{_beforeBreakpoint:N,_containerClasses($,k){o.value=k}});const H={...T};if(delete H.wrapperClass,d.value=new Od(H),d.value.virtual&&d.value.params.virtual.enabled){d.value.virtual.slides=f.value;const $={cache:!1,slides:f.value,renderExternal:k=>{l.value=k},renderExternalUpdate:!1};Zs(d.value.params.virtual,$),Zs(d.value.originalParams.virtual,$)}ou(()=>{!c.value&&d.value&&(d.value.emitSlidesClasses(),c.value=!0);const{passedParams:$}=dp(t,!1),k=Tk($,h.value,f.value,p.value,P=>P.props&&P.props.key);h.value=$,(k.length||a.value)&&d.value&&!d.value.destroyed&&_k({swiper:d.value,slides:f.value,passedParams:$,changedParams:k,nextEl:m.value,prevEl:w.value,scrollbarEl:E.value,paginationEl:y.value}),a.value=!1}),qs("swiper",d),ds(l,()=>{Hs(()=>{Sk(d.value)})}),Ei(()=>{u.value&&(Ek({el:u.value,nextEl:m.value,prevEl:w.value,paginationEl:y.value,scrollbarEl:E.value,swiper:d.value},T),s("swiper",d.value))}),au(()=>{d.value&&!d.value.destroyed&&d.value.destroy(!0,!1)});function K($){return T.virtual?bk(d,$,l.value):($.forEach((k,P)=>{k.props||(k.props={}),k.props.swiperRef=d,k.props.swiperSlideIndex=P}),$)}return()=>{const{slides:$,slots:k}=Gl(n,f,p);return wt(i,{ref:u,class:qy(o.value)},[k["container-start"],wt(r,{class:wk(T.wrapperClass)},[k["wrapper-start"],K($),k["wrapper-end"]]),zy(t)&&[wt("div",{ref:w,class:"swiper-button-prev"}),wt("div",{ref:m,class:"swiper-button-next"})],Hy(t)&&wt("div",{ref:E,class:"swiper-scrollbar"}),jy(t)&&wt("div",{ref:y,class:"swiper-pagination"}),k["container-end"]])}}},hp={name:"SwiperSlide",props:{tag:{type:String,default:"div"},swiperRef:{type:Object,required:!1},swiperSlideIndex:{type:Number,default:void 0,required:!1},zoom:{type:Boolean,default:void 0,required:!1},lazy:{type:Boolean,default:!1,required:!1},virtualIndex:{type:[String,Number],default:void 0}},setup(t,e){let{slots:n}=e,s=!1;const{swiperRef:i}=t,r=Z(null),o=Z("swiper-slide"),l=Z(!1);function a(d,h,f){h===r.value&&(o.value=f)}Ei(()=>{!i||!i.value||(i.value.on("_slideClass",a),s=!0)}),qp(()=>{s||!i||!i.value||(i.value.on("_slideClass",a),s=!0)}),ou(()=>{!r.value||!i||!i.value||(typeof t.swiperSlideIndex<"u"&&(r.value.swiperSlideIndex=t.swiperSlideIndex),i.value.destroyed&&o.value!=="swiper-slide"&&(o.value="swiper-slide"))}),au(()=>{!i||!i.value||i.value.off("_slideClass",a)});const c=it(()=>({isActive:o.value.indexOf("swiper-slide-active")>=0,isVisible:o.value.indexOf("swiper-slide-visible")>=0,isPrev:o.value.indexOf("swiper-slide-prev")>=0,isNext:o.value.indexOf("swiper-slide-next")>=0}));qs("swiperSlide",c);const u=()=>{l.value=!0};return()=>wt(t.tag,{class:qy(`${o.value}`),ref:r,"data-swiper-slide-index":typeof t.virtualIndex>"u"&&i&&i.value&&i.value.params.loop?t.swiperSlideIndex:t.virtualIndex,onLoadCapture:u},t.zoom?wt("div",{class:"swiper-zoom-container","data-swiper-zoom":typeof t.zoom=="number"?t.zoom:void 0},[n.default&&n.default(c.value),t.lazy&&!l.value&&wt("div",{class:"swiper-lazy-preloader"})]):[n.default&&n.default(c.value),t.lazy&&!l.value&&wt("div",{class:"swiper-lazy-preloader"})])}};function Ck(t,e,n,s){return t.params.createElements&&Object.keys(s).forEach(i=>{if(!n[i]&&n.auto===!0){let r=Yt(t.el,`.${s[i]}`)[0];r||(r=pa("div",s[i]),r.className=s[i],t.el.append(r)),n[i]=r,e[i]=r}}),n}function Ak(t){let{swiper:e,extendParams:n,on:s,emit:i}=t;n({navigation:{nextEl:null,prevEl:null,hideOnClick:!1,disabledClass:"swiper-button-disabled",hiddenClass:"swiper-button-hidden",lockClass:"swiper-button-lock",navigationDisabledClass:"swiper-navigation-disabled"}}),e.navigation={nextEl:null,prevEl:null};function r(p){let m;return p&&typeof p=="string"&&e.isElement&&(m=e.el.querySelector(p),m)?m:(p&&(typeof p=="string"&&(m=[...document.querySelectorAll(p)]),e.params.uniqueNavElements&&typeof p=="string"&&m&&m.length>1&&e.el.querySelectorAll(p).length===1?m=e.el.querySelector(p):m&&m.length===1&&(m=m[0])),p&&!m?p:m)}function o(p,m){const w=e.params.navigation;p=rn(p),p.forEach(y=>{y&&(y.classList[m?"add":"remove"](...w.disabledClass.split(" ")),y.tagName==="BUTTON"&&(y.disabled=m),e.params.watchOverflow&&e.enabled&&y.classList[e.isLocked?"add":"remove"](w.lockClass))})}function l(){const{nextEl:p,prevEl:m}=e.navigation;if(e.params.loop){o(m,!1),o(p,!1);return}o(m,e.isBeginning&&!e.params.rewind),o(p,e.isEnd&&!e.params.rewind)}function a(p){p.preventDefault(),!(e.isBeginning&&!e.params.loop&&!e.params.rewind)&&(e.slidePrev(),i("navigationPrev"))}function c(p){p.preventDefault(),!(e.isEnd&&!e.params.loop&&!e.params.rewind)&&(e.slideNext(),i("navigationNext"))}function u(){const p=e.params.navigation;if(e.params.navigation=Ck(e,e.originalParams.navigation,e.params.navigation,{nextEl:"swiper-button-next",prevEl:"swiper-button-prev"}),!(p.nextEl||p.prevEl))return;let m=r(p.nextEl),w=r(p.prevEl);Object.assign(e.navigation,{nextEl:m,prevEl:w}),m=rn(m),w=rn(w);const y=(E,T)=>{E&&E.addEventListener("click",T==="next"?c:a),!e.enabled&&E&&E.classList.add(...p.lockClass.split(" "))};m.forEach(E=>y(E,"next")),w.forEach(E=>y(E,"prev"))}function d(){let{nextEl:p,prevEl:m}=e.navigation;p=rn(p),m=rn(m);const w=(y,E)=>{y.removeEventListener("click",E==="next"?c:a),y.classList.remove(...e.params.navigation.disabledClass.split(" "))};p.forEach(y=>w(y,"next")),m.forEach(y=>w(y,"prev"))}s("init",()=>{e.params.navigation.enabled===!1?f():(u(),l())}),s("toEdge fromEdge lock unlock",()=>{l()}),s("destroy",()=>{d()}),s("enable disable",()=>{let{nextEl:p,prevEl:m}=e.navigation;if(p=rn(p),m=rn(m),e.enabled){l();return}[...p,...m].filter(w=>!!w).forEach(w=>w.classList.add(e.params.navigation.lockClass))}),s("click",(p,m)=>{let{nextEl:w,prevEl:y}=e.navigation;w=rn(w),y=rn(y);const E=m.target;let T=y.includes(E)||w.includes(E);if(e.isElement&&!T){const b=m.path||m.composedPath&&m.composedPath();b&&(T=b.find(N=>w.includes(N)||y.includes(N)))}if(e.params.navigation.hideOnClick&&!T){if(e.pagination&&e.params.pagination&&e.params.pagination.clickable&&(e.pagination.el===E||e.pagination.el.contains(E)))return;let b;w.length?b=w[0].classList.contains(e.params.navigation.hiddenClass):y.length&&(b=y[0].classList.contains(e.params.navigation.hiddenClass)),i(b===!0?"navigationShow":"navigationHide"),[...w,...y].filter(N=>!!N).forEach(N=>N.classList.toggle(e.params.navigation.hiddenClass))}});const h=()=>{e.el.classList.remove(...e.params.navigation.navigationDisabledClass.split(" ")),u(),l()},f=()=>{e.el.classList.add(...e.params.navigation.navigationDisabledClass.split(" ")),d()};Object.assign(e.navigation,{enable:h,disable:f,update:l,init:u,destroy:d})}const ll=(t,e)=>{const n=t.__vccOpts||t;for(const[s,i]of e)n[s]=i;return n},Rs=t=>(Ta("data-v-ef61234e"),t=t(),Sa(),t),xk=Qx,Pk=Jx,kk={class:"header-container"},Rk={class:"left-contents"},Ok={id:"timer"},Mk=Rs(()=>I("div",{class:"timer-icon"},[I("img",{src:Yx,alt:""})],-1)),Nk={class:"time"},Dk={class:"main-contents"},Lk={class:"w-800"},Fk={id:"paper"},$k={class:"paper_head"},Vk=Rs(()=>I("span",{class:"title-border"},null,-1)),Uk=["innerHTML"],Bk={class:"paper_contents"},zk={id:"list"},jk={class:"list-flex"},Hk=Rs(()=>I("span",{class:"pointer"},"",-1)),qk={class:"list-input"},Gk=["onUpdate:modelValue","onFocus","onKeydown"],Kk=["innerHTML"],Wk={class:"button-contents"},Yk={class:"modal"},Qk={class:"memo-ex"},Xk={class:"ex-content"},Jk=Rs(()=>I("picture",null,[I("source",{srcset:xk,media:"(max-width: 699px)"}),I("img",{src:Xx,alt:""})],-1)),Zk=Rs(()=>I("picture",null,[I("source",{srcset:Pk,media:"(max-width: 699px)"}),I("img",{src:Zx,alt:""})],-1)),eR=Rs(()=>I("div",{class:"swiper-button-prev use-prev"},null,-1)),tR=Rs(()=>I("div",{class:"swiper-button-next use-next"},null,-1)),nR={class:"memo-btn"},sR=["onClick"],iR={__name:"MemoView",setup(t){const e={prevEl:".use-prev",nextEl:".use-next"},n=Z(""),s=Z([""]),i=Z([""]),r=Z([""]),o=Z(0),l=Z(""),a=Z(""),c=Z(1),u=Z(0),d=Z(!1),h=Z(null),f=Z(""),p=Z(),m=Z(),w=Z(),y=Z(""),E=it(()=>({height:l.value})),T=it(()=>{let ee=[c.value.toString(),u.value.toString()].map(S=>S.length<2?"0"+S:S);return ee[0]+":"+ee[1]}),b=it(()=>{if(c.value>=1||u.value>=20)return"safe";if(u.value<20&&u.value>0)return"warm";if(u.value<1)return"end"});ds(a,()=>{ge()}),ds(()=>[...i.value],()=>{Ie(o.value)});const H=Z((()=>{const ee=new Date,S=ee.getFullYear(),B=ee.getMonth()+1<10?`0${ee.getMonth()+1}`:ee.getMonth()+1,D=ee.getDate()<10?`0${ee.getDate()}`:ee.getDate();return S+"-"+B+"-"+D})()),K=ee=>{o.value=ee,Ie(ee)},$=ee=>{const S=p.value.querySelectorAll("#list textarea")[ee+1];S&&S.focus()},k=Z(!1),P=()=>{k.value=!0},F=()=>{k.value=!1},ne=ee=>{k.value||(a.value.length>0?($(ee),n.value=""):n.value="")},q=ee=>{k.value?console.log(""):i.value[ee].length>0?(s.value[ee]="",ee===i.value.length-1&&(i.value.push(""),s.value.push(""),Hs(()=>{w.value[ee+1].focus()}),r.value.push("")),$(ee)):s.value[ee]=""},ge=()=>{l.value="auto",Hs(()=>{l.value=m.value.scrollHeight+"px"})},Ie=ee=>{r.value[ee]="auto",Hs(()=>{w.value[ee]&&(r.value[ee]=w.value[ee].scrollHeight+"px")})},_e=ee=>({height:r.value[ee]}),ve=()=>{u.value<=0&&c.value>=1?(c.value--,u.value=59):u.value<=0&&c.value<=0?mt():u.value--},ue=()=>{d.value===!1&&gt()},gt=()=>{h.value=setInterval(()=>ve(),1e3),d.value=!0},Et=()=>{clearInterval(h.value),d.value=!1,h.value=null,c.value=1,u.value=0},mt=()=>{clearInterval(h.value)},ze=async()=>{a.value.length===0?(n.value="",i.value[0].length===0?s.value[0]="":s.value[0]=""):i.value.length<2&&i.value[0].length===0?s.value[0]="":(i.value=i.value.filter((ee,S)=>(s.value[S]="",ee.length!==0)),i.value.forEach((ee,S)=>{Ie(S)}),await cx(zc(Do,"papers"),{title:a.value,list:i.value,date:H.value,uid:Ts().currentUser.uid,timestamp:hx()}),a.value="",i.value=[""],Et())},_n=()=>{f.value==="show"?f.value="":f.value="show"},En=()=>{y.value="open"},Zn=()=>{y.value=""};return Ei(()=>{m.value.focus(),ge(),Ie(o.value)}),(ee,S)=>(Ve(),Ke(tt,null,[I("header",null,[I("div",kk,[I("h1",null,[Oe(Ye(vs),{to:"/",class:"memo-contents"},{default:Mt(()=>[An("0")]),_:1})]),I("button",{onClick:En},"")])]),I("main",{id:"memo",ref_key:"memo",ref:p},[I("div",Rk,[I("div",Ok,[I("div",{class:Ln(["timer",[b.value,f.value]]),onClick:_n},[Mk,I("div",Nk,yt(T.value),1)],2)])]),I("div",Dk,[I("div",Lk,[I("div",Fk,[I("div",$k,[I("h2",null,[ti(I("textarea",{rows:"1",cols:"10",placeholder:"","onUpdate:modelValue":S[0]||(S[0]=B=>a.value=B),ref_key:"area",ref:m,style:cs(E.value),onKeydown:[ue,S[1]||(S[1]=Mn(On(()=>{},["exact","prevent"]),["enter"])),S[2]||(S[2]=Mn(B=>ne(-1),["enter"]))],onCompositionstart:P,onCompositionend:F},null,36),[[ii,a.value]]),Vk,I("span",{innerHTML:n.value,class:"att"},null,8,Uk)]),I("p",null,[I("time",null,yt(H.value),1)])]),I("div",Bk,[I("ul",zk,[(Ve(!0),Ke(tt,null,zi(i.value,(B,D)=>(Ve(),Ke("li",{key:D},[I("div",jk,[Hk,I("div",qk,[I("span",{class:"input-text_dummy",style:cs(_e(D))},yt(B),5),ti(I("textarea",{rows:"1",type:"text","onUpdate:modelValue":W=>i.value[D]=W,ref_for:!0,ref_key:"inputs",ref:w,style:cs(_e(D)),onFocus:W=>K(D),onKeydown:[ue,S[3]||(S[3]=Mn(On(()=>{},["prevent"]),["enter"])),Mn(W=>q(D),["enter"])],onCompositionstart:P,onCompositionend:F},null,44,Gk),[[ii,i.value[D]]])])]),I("span",{innerHTML:s.value[D],class:"att"},null,8,Kk)]))),128))])])]),I("div",Wk,[Oe(Ye(vs),{to:"/",class:"memo-contents"},{default:Mt(()=>[An("")]),_:1}),I("button",{class:"keep",type:"button",onClick:ze},"  ")])])]),I("div",{class:Ln(["modal-bg",y.value]),onClick:Zn},[I("div",Yk,[I("div",{class:"modal-content",onClick:S[4]||(S[4]=On(()=>{},["stop"]))},[I("div",Qk,[I("div",Xk,[Oe(Ye(Ik),{modules:[Ye(Ak)],navigation:e},{default:Mt(()=>[Oe(Ye(hp),null,{default:Mt(()=>[Jk]),_:1}),Oe(Ye(hp),null,{default:Mt(()=>[Zk]),_:1})]),_:1},8,["modules"]),eR,tR]),I("div",nR,[I("button",{class:"close",onClick:On(Zn,["stop"])},"",8,sR)])])])])],2)],512)],64))}},rR=ll(iR,[["__scopeId","data-v-ef61234e"]]);const cl=t=>(Ta("data-v-5a80a751"),t=t(),Sa(),t),oR={class:"login-wrap"},aR={class:"center-card"},lR=cl(()=>I("h1",null,"0",-1)),cR={class:"form-content"},uR={class:"form-group"},dR={class:"no-login-message"},hR=cl(()=>I("label",{for:"email"},"",-1)),fR=["onKeydown"],pR=cl(()=>I("label",{for:"password"},"",-1)),gR=["type","onKeydown"],mR={class:"button-gorup"},vR=cl(()=>I("button",{class:"new-account"},"",-1)),yR={__name:"LoginView",setup(t){const e=Z(""),n=Z(""),s=Z(""),i=fu(),r=Z(!1),o=Z(""),l=()=>{document.querySelector("#password").focus()},a=()=>{if(e.value==""||n.value=="")return;const c=Ts();US(c,e.value,n.value).then(u=>{u.user,i.push("/")}).catch(u=>{const d=u.code,h=u.message;console.log(d,h),o.value=""})};return Ei(()=>{const c=Ts();Iu(c,u=>{u!=null?s.value=u:s.value=null})}),(c,u)=>{const d=c0("RouterLink");return Ve(),Ke("div",oR,[I("div",aR,[lR,I("div",cR,[I("div",uR,[I("p",dR,yt(o.value),1),I("div",null,[hR,ti(I("input",{type:"email","onUpdate:modelValue":u[0]||(u[0]=h=>e.value=h),name:"email",onKeydown:Mn(l,["enter"])},null,40,fR),[[ii,e.value]])]),I("div",null,[pR,ti(I("input",{id:"password",type:r.value?"text":"password","onUpdate:modelValue":u[1]||(u[1]=h=>n.value=h),name:"password",onKeydown:Mn(a,["enter"])},null,40,gR),[[lg,n.value]]),I("button",{class:"passView",onClick:u[2]||(u[2]=h=>r.value=!r.value)}," "+yt(r.value?"":"")+" ",1)])]),I("div",mR,[I("button",{class:"login",onClick:a},""),Oe(d,{to:"/register"},{default:Mt(()=>[vR]),_:1})])])])])}}},wR=ll(yR,[["__scopeId","data-v-5a80a751"]]);const Md=t=>(Ta("data-v-a2b0b081"),t=t(),Sa(),t),_R={class:"register-wrap"},ER={class:"center-card"},TR=Md(()=>I("h1",null,"",-1)),SR={class:"form-content"},bR={class:"form-group"},IR={class:"no-register-message"},CR=Md(()=>I("label",{for:"email"},"",-1)),AR=["onKeydown"],xR=Md(()=>I("label",{for:"password"},"",-1)),PR=["type","onKeydown"],kR={__name:"RegisterView",setup(t){const e=Z(""),n=Z(""),s=fu(),i=Z(!1),r=Z(""),o=()=>{document.querySelector("#password").focus()},l=()=>{if(e.value==""||n.value=="")return;const a=Ts();VS(a,e.value,n.value).then(c=>{c.user,s.push("login")}).catch(c=>{c.code==="auth/email-already-in-use"?r.value="":c.code==="auth/weak-password"?r.value="6":c.code==="auth/invalid-email"?r.value="":r.value=""})};return(a,c)=>(Ve(),Ke("div",_R,[I("div",ER,[TR,I("div",SR,[I("div",bR,[I("p",IR,yt(r.value),1),I("div",null,[CR,ti(I("input",{type:"email","onUpdate:modelValue":c[0]||(c[0]=u=>e.value=u),name:"email",onKeydown:Mn(o,["enter"])},null,40,AR),[[ii,e.value]])]),I("div",null,[xR,ti(I("input",{id:"password",type:i.value?"text":"password","onUpdate:modelValue":c[1]||(c[1]=u=>n.value=u),name:"password",onKeydown:Mn(l,["enter"])},null,40,PR),[[lg,n.value]]),I("button",{class:"passView",onClick:c[2]||(c[2]=u=>i.value=!i.value)}," "+yt(i.value?"":"")+" ",1)])]),I("button",{class:"register",onClick:l},"")])])]))}},RR=ll(kR,[["__scopeId","data-v-a2b0b081"]]),OR="/zero-thinking/assets/zero-thinking-icon-605ded42.png";const Di=t=>(Ta("data-v-11cbd553"),t=t(),Sa(),t),MR={class:"about-wrapper"},NR={class:"w-1000"},DR=Di(()=>I("div",{class:"logo-title"},[I("img",{class:"logo",src:OR,alt:""}),I("h1",null," 0 ")],-1)),LR=Di(()=>I("div",{class:"about-question"},[I("h2",null,"0"),I("p",null,"A411")],-1)),FR={class:"memo-content about"},$R={class:"memo-head"},VR=Di(()=>I("p",{class:"memo-title"},[I("span",{class:"title-text"},"0"),I("span",{class:"title-border"})],-1)),UR={class:"memo-date"},BR=O0('<ul class="memo-list" data-v-11cbd553><li data-v-11cbd553><span class="pointer" data-v-11cbd553></span>0 </li><li data-v-11cbd553><span class="pointer" data-v-11cbd553></span> </li><li data-v-11cbd553><span class="pointer" data-v-11cbd553></span> </li><li data-v-11cbd553><span class="pointer" data-v-11cbd553></span> </li></ul>',1),zR=Di(()=>I("p",{class:"button-group-title"},"",-1)),jR={class:"button-gorup"},HR=Di(()=>I("button",{class:"login"},"",-1)),qR=Di(()=>I("button",{class:"new-account"},"",-1)),GR={__name:"AboutView",setup(t){const n=Z((()=>{const s=new Date,i=s.getFullYear(),r=s.getMonth()+1<10?`0${s.getMonth()+1}`:s.getMonth()+1,o=s.getDate()<10?`0${s.getDate()}`:s.getDate();return i+"-"+r+"-"+o})());return(s,i)=>(Ve(),Ke("div",MR,[I("div",NR,[DR,LR,I("div",FR,[I("div",$R,[VR,I("p",UR,yt(n.value),1)]),BR]),zR,I("div",jR,[Oe(Ye(vs),{to:"/login"},{default:Mt(()=>[HR]),_:1}),Oe(Ye(vs),{to:"/register"},{default:Mt(()=>[qR]),_:1})])])]))}},KR=ll(GR,[["__scopeId","data-v-11cbd553"]]),Gy=wE({history:F_("/zero-thinking"),routes:[{path:"/",name:"home",component:Wx,meta:{requiresAuth:!0}},{path:"/memo",name:"memo",component:rR,meta:{requiresAuth:!0}},{path:"/login",name:"login",component:wR},{path:"/register",name:"register",component:RR},{path:"/about",name:"about",component:KR}]}),WR=()=>new Promise((t,e)=>{const n=Iu(Ts(),s=>{n(),t(s)},e)});Gy.beforeEach(async(t,e,n)=>{t.matched.some(s=>s.meta.requiresAuth)?await WR()?n():n("/about"):n()});const Ky=y_(EE);Ky.use(Gy);Ky.mount("#app");
